/* sigma.js - A JavaScript library dedicated to graph drawing. - Version: 1.2.1 - Author: Alexis Jacomy, Sciences-Po MÃ©dialab - License: MIT */
(function(a){"use strict";var b={},c=function(a){var d,e,f,g,h;c.classes.dispatcher.extend(this);var i=this,j=a||{};if("string"==typeof j||j instanceof HTMLElement?j={renderers:[j]}:"[object Array]"===Object.prototype.toString.call(j)&&(j={renderers:j}),g=j.renderers||j.renderer||j.container,j.renderers&&0!==j.renderers.length||("string"==typeof g||g instanceof HTMLElement||"object"==typeof g&&"container"in g)&&(j.renderers=[g]),j.id){if(b[j.id])throw'sigma: Instance "'+j.id+'" already exists.';Object.defineProperty(this,"id",{value:j.id})}else{for(h=0;b[h];)h++;Object.defineProperty(this,"id",{value:""+h})}for(b[this.id]=this,this.settings=new c.classes.configurable(c.settings,j.settings||{}),Object.defineProperty(this,"graph",{value:new c.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),Object.defineProperty(this,"camera",{get:function(){return this.cameras[0]}}),Object.defineProperty(this,"events",{value:["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","doubleClickNode","doubleClickNodes","rightClickNode","rightClickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],configurable:!0}),this._handler=function(a){var b,c={};for(b in a.data)c[b]=a.data[b];c.renderer=a.target,this.dispatchEvent(a.type,c)}.bind(this),f=j.renderers||[],d=0,e=f.length;d<e;d++)this.addRenderer(f[d]);for(f=j.middlewares||[],d=0,e=f.length;d<e;d++)this.middlewares.push("string"==typeof f[d]?c.middlewares[f[d]]:f[d]);"object"==typeof j.graph&&j.graph&&(this.graph.read(j.graph),this.refresh()),window.addEventListener("resize",function(){i.settings&&i.refresh()})};if(c.prototype.addCamera=function(b){var d,e=this;if(!arguments.length){for(b=0;this.cameras[""+b];)b++;b=""+b}if(this.cameras[b])throw'sigma.addCamera: The camera "'+b+'" already exists.';return d=new c.classes.camera(b,this.graph,this.settings),this.cameras[b]=d,d.quadtree=new c.classes.quad,c.classes.edgequad!==a&&(d.edgequadtree=new c.classes.edgequad),d.bind("coordinatesUpdated",function(a){e.renderCamera(d,d.isAnimated)}),this.renderersPerCamera[b]=[],d},c.prototype.killCamera=function(a){if(!(a="string"==typeof a?this.cameras[a]:a))throw"sigma.killCamera: The camera is undefined.";var b,c,d=this.renderersPerCamera[a.id];for(c=d.length,b=c-1;b>=0;b--)this.killRenderer(d[b]);return delete this.renderersPerCamera[a.id],delete this.cameraFrames[a.id],delete this.cameras[a.id],a.kill&&a.kill(),this},c.prototype.addRenderer=function(a){var b,d,e,f,g=a||{};if("string"==typeof g?g={container:document.getElementById(g)}:g instanceof HTMLElement&&(g={container:g}),"string"==typeof g.container&&(g.container=document.getElementById(g.container)),"id"in g)b=g.id;else{for(b=0;this.renderers[""+b];)b++;b=""+b}if(this.renderers[b])throw'sigma.addRenderer: The renderer "'+b+'" already exists.';if(d="function"==typeof g.type?g.type:c.renderers[g.type],d=d||c.renderers.def,e="camera"in g?g.camera instanceof c.classes.camera?g.camera:this.cameras[g.camera]||this.addCamera(g.camera):this.addCamera(),this.cameras[e.id]!==e)throw"sigma.addRenderer: The camera is not properly referenced.";return f=new d(this.graph,e,this.settings,g),this.renderers[b]=f,Object.defineProperty(f,"id",{value:b}),f.bind&&f.bind(["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","clickEdge","clickEdges","doubleClickNode","doubleClickNodes","doubleClickEdge","doubleClickEdges","rightClickNode","rightClickNodes","rightClickEdge","rightClickEdges","overNode","overNodes","overEdge","overEdges","outNode","outNodes","outEdge","outEdges","downNode","downNodes","downEdge","downEdges","upNode","upNodes","upEdge","upEdges"],this._handler),this.renderersPerCamera[e.id].push(f),f},c.prototype.killRenderer=function(a){if(!(a="string"==typeof a?this.renderers[a]:a))throw"sigma.killRenderer: The renderer is undefined.";var b=this.renderersPerCamera[a.camera.id],c=b.indexOf(a);return c>=0&&b.splice(c,1),a.kill&&a.kill(),delete this.renderers[a.id],this},c.prototype.refresh=function(b){var d,e,f,g,h,i,j=0;for(b=b||{},g=this.middlewares||[],d=0,e=g.length;d<e;d++)g[d].call(this,0===d?"":"tmp"+j+":",d===e-1?"ready:":"tmp"+ ++j+":");for(f in this.cameras)h=this.cameras[f],h.settings("autoRescale")&&this.renderersPerCamera[h.id]&&this.renderersPerCamera[h.id].length?c.middlewares.rescale.call(this,g.length?"ready:":"",h.readPrefix,{width:this.renderersPerCamera[h.id][0].width,height:this.renderersPerCamera[h.id][0].height}):c.middlewares.copy.call(this,g.length?"ready:":"",h.readPrefix),b.skipIndexation||(i=c.utils.getBoundaries(this.graph,h.readPrefix),h.quadtree.index(this.graph.nodes(),{prefix:h.readPrefix,bounds:{x:i.minX,y:i.minY,width:i.maxX-i.minX,height:i.maxY-i.minY}}),h.edgequadtree!==a&&h.settings("drawEdges")&&h.settings("enableEdgeHovering")&&h.edgequadtree.index(this.graph,{prefix:h.readPrefix,bounds:{x:i.minX,y:i.minY,width:i.maxX-i.minX,height:i.maxY-i.minY}}));for(g=Object.keys(this.renderers),d=0,e=g.length;d<e;d++)if(this.renderers[g[d]].process)if(this.settings("skipErrors"))try{this.renderers[g[d]].process()}catch(a){console.log('Warning: The renderer "'+g[d]+'" crashed on ".process()"')}else this.renderers[g[d]].process();return this.render(),this},c.prototype.render=function(){var a,b,c;for(c=Object.keys(this.renderers),a=0,b=c.length;a<b;a++)if(this.settings("skipErrors"))try{this.renderers[c[a]].render()}catch(b){this.settings("verbose")&&console.log('Warning: The renderer "'+c[a]+'" crashed on ".render()"')}else this.renderers[c[a]].render();return this},c.prototype.renderCamera=function(a,b){var c,d,e,f=this;if(b)for(e=this.renderersPerCamera[a.id],c=0,d=e.length;c<d;c++)if(this.settings("skipErrors"))try{e[c].render()}catch(a){this.settings("verbose")&&console.log('Warning: The renderer "'+e[c].id+'" crashed on ".render()"')}else e[c].render();else if(!this.cameraFrames[a.id]){for(e=this.renderersPerCamera[a.id],c=0,d=e.length;c<d;c++)if(this.settings("skipErrors"))try{e[c].render()}catch(a){this.settings("verbose")&&console.log('Warning: The renderer "'+e[c].id+'" crashed on ".render()"')}else e[c].render();this.cameraFrames[a.id]=requestAnimationFrame(function(){delete f.cameraFrames[a.id]})}return this},c.prototype.kill=function(){var a;this.dispatchEvent("kill"),this.graph.kill(),delete this.middlewares;for(a in this.renderers)this.killRenderer(this.renderers[a]);for(a in this.cameras)this.killCamera(this.cameras[a]);delete this.renderers,delete this.cameras;for(a in this)this.hasOwnProperty(a)&&delete this[a];delete b[this.id]},c.instances=function(a){return arguments.length?b[a]:c.utils.extend({},b)},c.version="1.2.1",void 0!==this.sigma)throw"An object called sigma is already in the global scope.";this.sigma=c}).call(this),function(a){"use strict";function b(a,c){var d,e,f,g;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(a in arguments[0])b(a,arguments[0][a]);else if(arguments.length>1)for(g=Array.isArray(a)?a:a.split(/ /),d=0,e=g.length;d!==e;d+=1)f=g[d],C[f]||(C[f]=[]),C[f].push({handler:c})}function c(a,b){var c,d,e,f,g,h,i=Array.isArray(a)?a:a.split(/ /);if(arguments.length)if(b)for(c=0,d=i.length;c!==d;c+=1){if(h=i[c],C[h]){for(g=[],e=0,f=C[h].length;e!==f;e+=1)C[h][e].handler!==b&&g.push(C[h][e]);C[h]=g}C[h]&&0===C[h].length&&delete C[h]}else for(c=0,d=i.length;c!==d;c+=1)delete C[i[c]];else C=Object.create(null)}function d(a,b){var c,d,e,f,g,h,i=Array.isArray(a)?a:a.split(/ /);for(b=void 0===b?{}:b,c=0,e=i.length;c!==e;c+=1)if(h=i[c],C[h])for(g={type:h,data:b||{}},d=0,f=C[h].length;d!==f;d+=1)try{C[h][d].handler(g)}catch(a){}}function e(){var a,b,c,d,e=!1,f=s(),g=x.shift();if(c=g.job(),f=s()-f,g.done++,g.time+=f,g.currentTime+=f,g.weightTime=g.currentTime/(g.weight||1),g.averageTime=g.time/g.done,!(d=g.count?g.count<=g.done:!c)){for(a=0,b=x.length;a<b;a++)if(x[a].weightTime>g.weightTime){x.splice(a,0,g),e=!0;break}e||x.push(g)}return d?g:null}function f(a){var b=x.length;w[a.id]=a,a.status="running",b&&(a.weightTime=x[b-1].weightTime,a.currentTime=a.weightTime*(a.weight||1)),a.startTime=s(),d("jobStarted",q(a)),x.push(a)}function g(){var a,b,c;for(a in v)b=v[a],b.after?y[a]=b:f(b),delete v[a];for(u=!!x.length;x.length&&s()-t<B.frameDuration;)if(c=e()){i(c.id);for(a in y)y[a].after===c.id&&(f(y[a]),delete y[a])}u?(t=s(),d("enterFrame"),setTimeout(g,0)):d("stop")}function h(a,b){var c,e,f;if(Array.isArray(a)){for(A=!0,c=0,e=a.length;c<e;c++)h(a[c].id,p(a[c],b));A=!1,u||(t=s(),d("start"),g())}else if("object"==typeof a)if("string"==typeof a.id)h(a.id,a);else{A=!0;for(c in a)"function"==typeof a[c]?h(c,p({job:a[c]},b)):h(c,p(a[c],b));A=!1,u||(t=s(),d("start"),g())}else{if("string"!=typeof a)throw new Error("[conrad.addJob] Wrong arguments.");if(k(a))throw new Error('[conrad.addJob] Job with id "'+a+'" already exists.');if("function"==typeof b)f={id:a,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:b};else{if("object"!=typeof b)throw new Error("[conrad.addJob] Wrong arguments.");f=p({id:a,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},b)}v[a]=f,d("jobAdded",q(f)),u||A||(t=s(),d("start"),g())}return this}function i(a){var b,c,e,f,g=!1;if(Array.isArray(a))for(b=0,c=a.length;b<c;b++)i(a[b]);else{if("string"!=typeof a)throw new Error("[conrad.killJob] Wrong arguments.");for(e=[w,y,v],b=0,c=e.length;b<c;b++)a in e[b]&&(f=e[b][a],B.history&&(f.status="done",z.push(f)),d("jobEnded",q(f)),delete e[b][a],"function"==typeof f.end&&f.end(),g=!0);for(e=x,b=0,c=e.length;b<c;b++)if(e[b].id===a){e.splice(b,1);break}if(!g)throw new Error('[conrad.killJob] Job "'+a+'" not found.')}return this}function j(){var a,b=p(v,w,y);if(B.history)for(a in b)b[a].status="done",z.push(b[a]),"function"==typeof b[a].end&&b[a].end();return v={},y={},w={},x=[],u=!1,this}function k(a){var b=v[a]||w[a]||y[a];return b?p(b):null}function l(a,b){var c;if("string"==typeof a1&&1===arguments.length)return B[a1];c="object"==typeof a1&&1===arguments.length?a1||{}:{},"string"==typeof a1&&(c[a1]=a2);for(var d in c)void 0!==c[d]?B[d]=c[d]:delete B[d];return this}function m(){return u}function n(){return z=[],this}function o(a,b){var c,d,e,f,g,h,i;if(!arguments.length){g=[];for(d in v)g.push(v[d]);for(d in y)g.push(y[d]);for(d in w)g.push(w[d]);g=g.concat(z)}if("string"==typeof a)switch(a){case"waiting":g=r(y);break;case"running":g=r(w);break;case"done":g=z;break;default:h=a}if(a instanceof RegExp&&(h=a),!h&&("string"==typeof b||b instanceof RegExp)&&(h=b),h){if(i="string"==typeof h,g instanceof Array)c=g;else if("object"==typeof g){c=[];for(d in g)c=c.concat(g[d])}else{c=[];for(d in v)c.push(v[d]);for(d in y)c.push(y[d]);for(d in w)c.push(w[d]);c=c.concat(z)}for(g=[],e=0,f=c.length;e<f;e++)(i?c[e].id===h:c[e].id.match(h))&&g.push(c[e])}return q(g)}function p(){var a,b,c={},d=arguments.length;for(a=d-1;a>=0;a--)for(b in arguments[a])c[b]=arguments[a][b];return c}function q(a){var b,c,d;if(!a)return a;if(Array.isArray(a))for(b=[],c=0,d=a.length;c<d;c++)b.push(q(a[c]));else if("object"==typeof a){b={};for(c in a)b[c]=q(a[c])}else b=a;return b}function r(a){var b,c=[];for(b in a)c.push(a[b]);return c}function s(){return Date.now?Date.now():(new Date).getTime()}if(a.conrad)throw new Error("conrad already exists");var t,u=!1,v={},w={},x=[],y={},z=[],A=!1,B={frameDuration:20,history:!0},C=Object.create(null);Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});var D={hasJob:k,addJob:h,killJob:i,killAll:j,settings:l,getStats:o,isRunning:m,clearHistory:n,bind:b,unbind:c,version:"0.1.0"};"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=D),exports.conrad=D),a.conrad=D}(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var b=this;sigma.utils=sigma.utils||{},sigma.utils.extend=function(){var a,b,c={},d=arguments.length;for(a=d-1;a>=0;a--)for(b in arguments[a])c[b]=arguments[a][b];return c},sigma.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},sigma.utils.pkg=function(a){return(a||"").split(".").reduce(function(a,b){return b in a?a[b]:a[b]={}},b)},sigma.utils.id=function(){var a=0;return function(){return++a}}();var c={};sigma.utils.floatColor=function(a){if(c[a])return c[a];var b=a,d=0,e=0,f=0;"#"===a[0]?(a=a.slice(1),3===a.length?(d=parseInt(a.charAt(0)+a.charAt(0),16),e=parseInt(a.charAt(1)+a.charAt(1),16),f=parseInt(a.charAt(2)+a.charAt(2),16)):(d=parseInt(a.charAt(0)+a.charAt(1),16),e=parseInt(a.charAt(2)+a.charAt(3),16),f=parseInt(a.charAt(4)+a.charAt(5),16))):a.match(/^ *rgba? *\(/)&&(a=a.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),d=+a[1],e=+a[2],f=+a[3]);var g=256*d*256+256*e+f;return c[b]=g,g},sigma.utils.zoomTo=function(a,b,c,d,e){var f,g,h,i=a.settings;(g=Math.max(i("zoomMin"),Math.min(i("zoomMax"),a.ratio*d)))!==a.ratio&&(d=g/a.ratio,h={x:b*(1-d)+a.x,y:c*(1-d)+a.y,ratio:g},e&&e.duration?(f=sigma.misc.animation.killAll(a),e=sigma.utils.extend(e,{easing:f?"quadraticOut":"quadraticInOut"}),sigma.misc.animation.camera(a,h,e)):(a.goTo(h),e&&e.onComplete&&e.onComplete()))},sigma.utils.getQuadraticControlPoint=function(a,b,c,d){return{x:(a+c)/2+(d-b)/4,y:(b+d)/2+(a-c)/4}},sigma.utils.getPointOnQuadraticCurve=function(a,b,c,d,e,f,g){return{x:Math.pow(1-a,2)*b+2*(1-a)*a*f+Math.pow(a,2)*d,y:Math.pow(1-a,2)*c+2*(1-a)*a*g+Math.pow(a,2)*e}},sigma.utils.getPointOnBezierCurve=function(a,b,c,d,e,f,g,h,i){var j=Math.pow(1-a,3),k=3*a*Math.pow(1-a,2),l=3*Math.pow(a,2)*(1-a),m=Math.pow(a,3);return{x:j*b+k*f+l*h+m*d,y:j*c+k*g+l*i+m*e}},sigma.utils.getSelfLoopControlPoints=function(a,b,c){return{x1:a-7*c,y1:b,x2:a,y2:b+7*c}},sigma.utils.getDistance=function(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))},sigma.utils.getCircleIntersection=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;return h=d-a,i=e-b,!((j=Math.sqrt(i*i+h*h))>c+f)&&(!(j<Math.abs(c-f))&&(g=(c*c-f*f+j*j)/(2*j),n=a+h*g/j,o=b+i*g/j,k=Math.sqrt(c*c-g*g),l=k/j*-i,m=h*(k/j),{xi:n+l,xi_prime:n-l,yi:o+m,yi_prime:o-m}))},sigma.utils.isPointOnSegment=function(a,b,c,d,e,f,g){return Math.abs((b-d)*(e-c)-(a-c)*(f-d))/sigma.utils.getDistance(c,d,e,f)<g&&Math.min(c,e)<=a&&a<=Math.max(c,e)&&Math.min(d,f)<=b&&b<=Math.max(d,f)},sigma.utils.isPointOnQuadraticCurve=function(a,b,c,d,e,f,g,h,i){var j=sigma.utils.getDistance(c,d,e,f);if(Math.abs(a-c)>j||Math.abs(b-d)>j)return!1;for(var k,l=sigma.utils.getDistance(a,b,c,d),m=sigma.utils.getDistance(a,b,e,f),n=.5,o=l<m?-.01:.01,p=.001,q=100,r=sigma.utils.getPointOnQuadraticCurve(n,c,d,e,f,g,h),s=sigma.utils.getDistance(a,b,r.x,r.y);q-- >0&&n>=0&&n<=1&&s>i&&(o>p||o<-p);)k=s,r=sigma.utils.getPointOnQuadraticCurve(n,c,d,e,f,g,h),s=sigma.utils.getDistance(a,b,r.x,r.y),s>k?(o=-o/2,n+=o):n+o<0||n+o>1?(o/=2,s=k):n+=o;return s<i},sigma.utils.isPointOnBezierCurve=function(a,b,c,d,e,f,g,h,i,j,k){var l=sigma.utils.getDistance(c,d,g,h);if(Math.abs(a-c)>l||Math.abs(b-d)>l)return!1;for(var m,n=sigma.utils.getDistance(a,b,c,d),o=sigma.utils.getDistance(a,b,e,f),p=.5,q=n<o?-.01:.01,r=.001,s=100,t=sigma.utils.getPointOnBezierCurve(p,c,d,e,f,g,h,i,j),u=sigma.utils.getDistance(a,b,t.x,t.y);s-- >0&&p>=0&&p<=1&&u>k&&(q>r||q<-r);)m=u,t=sigma.utils.getPointOnBezierCurve(p,c,d,e,f,g,h,i,j),u=sigma.utils.getDistance(a,b,t.x,t.y),u>m?(q=-q/2,p+=q):p+q<0||p+q>1?(q/=2,u=m):p+=q;return u<k},sigma.utils.getX=function(b){return b.offsetX!==a&&b.offsetX||b.layerX!==a&&b.layerX||b.clientX!==a&&b.clientX},sigma.utils.getY=function(b){return b.offsetY!==a&&b.offsetY||b.layerY!==a&&b.layerY||b.clientY!==a&&b.clientY},sigma.utils.getPixelRatio=function(){var b=1;return window.screen.deviceXDPI!==a&&window.screen.logicalXDPI!==a&&window.screen.deviceXDPI>window.screen.logicalXDPI?b=window.screen.systemXDPI/window.screen.logicalXDPI:window.devicePixelRatio!==a&&(b=window.devicePixelRatio),b},sigma.utils.getWidth=function(b){var c=b.target.ownerSVGElement?b.target.ownerSVGElement.width:b.target.width;return"number"==typeof c&&c||c!==a&&c.baseVal!==a&&c.baseVal.value},sigma.utils.getCenter=function(a){var b=-1!==a.target.namespaceURI.indexOf("svg")?1:sigma.utils.getPixelRatio();return{x:sigma.utils.getWidth(a)/(2*b),y:sigma.utils.getHeight(a)/(2*b)}},sigma.utils.mouseCoords=function(a,b,c){return b=b||sigma.utils.getX(a),c=c||sigma.utils.getY(a),{x:b-sigma.utils.getCenter(a).x,y:c-sigma.utils.getCenter(a).y,clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,metaKey:a.metaKey,altKey:a.altKey,shiftKey:a.shiftKey}},sigma.utils.getHeight=function(b){var c=b.target.ownerSVGElement?b.target.ownerSVGElement.height:b.target.height;return"number"==typeof c&&c||c!==a&&c.baseVal!==a&&c.baseVal.value},sigma.utils.getDelta=function(b){return b.wheelDelta!==a&&b.wheelDelta||b.detail!==a&&-b.detail},sigma.utils.getOffset=function(a){for(var b=0,c=0;a;)c+=parseInt(a.offsetTop),b+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:c,left:b}},sigma.utils.doubleClick=function(a,b,c){var d,e=0;a._doubleClickHandler=a._doubleClickHandler||{},a._doubleClickHandler[b]=a._doubleClickHandler[b]||[],d=a._doubleClickHandler[b],d.push(function(a){if(2===++e)return e=0,c(a);1===e&&setTimeout(function(){e=0},sigma.settings.doubleClickTimeout)}),a.addEventListener(b,d[d.length-1],!1)},sigma.utils.unbindDoubleClick=function(a,b){for(var c,d=(a._doubleClickHandler||{})[b]||[];c=d.pop();)a.removeEventListener(b,c);delete(a._doubleClickHandler||{})[b]},sigma.utils.easings=sigma.utils.easings||{},sigma.utils.easings.linearNone=function(a){return a},sigma.utils.easings.quadraticIn=function(a){return a*a},sigma.utils.easings.quadraticOut=function(a){return a*(2-a)},sigma.utils.easings.quadraticInOut=function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},sigma.utils.easings.cubicIn=function(a){return a*a*a},sigma.utils.easings.cubicOut=function(a){return--a*a*a+1},sigma.utils.easings.cubicInOut=function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},sigma.utils.loadShader=function(a,b,c,d){var e,f=a.createShader(c);return a.shaderSource(f,b),a.compileShader(f),e=a.getShaderParameter(f,a.COMPILE_STATUS),e?f:(d&&d('Error compiling shader "'+f+'":'+a.getShaderInfoLog(f)),a.deleteShader(f),null)},sigma.utils.loadProgram=function(a,b,c,d,e){var f,g,h=a.createProgram();for(f=0;f<b.length;++f)a.attachShader(h,b[f]);if(c)for(f=0;f<c.length;++f)a.bindAttribLocation(h,locations?locations[f]:f,opt_attribs[f]);return a.linkProgram(h),g=a.getProgramParameter(h,a.LINK_STATUS),g?h:(e&&e("Error in program linking: "+a.getProgramInfoLog(h)),a.deleteProgram(h),null)},sigma.utils.pkg("sigma.utils.matrices"),sigma.utils.matrices.translation=function(a,b){return[1,0,0,0,1,0,a,b,1]},sigma.utils.matrices.rotation=function(a,b){var c=Math.cos(a),d=Math.sin(a);return b?[c,-d,d,c]:[c,-d,0,d,c,0,0,0,1]},sigma.utils.matrices.scale=function(a,b){return b?[a,0,0,a]:[a,0,0,0,a,0,0,0,1]},sigma.utils.matrices.multiply=function(a,b,c){var d=c?2:3,e=a[0*d+0],f=a[0*d+1],g=a[0*d+2],h=a[1*d+0],i=a[1*d+1],j=a[1*d+2],k=a[2*d+0],l=a[2*d+1],m=a[2*d+2],n=b[0*d+0],o=b[0*d+1],p=b[0*d+2],q=b[1*d+0],r=b[1*d+1],s=b[1*d+2],t=b[2*d+0],u=b[2*d+1],v=b[2*d+2];return c?[e*n+f*q,e*o+f*r,h*n+i*q,h*o+i*r]:[e*n+f*q+g*t,e*o+f*r+g*u,e*p+f*s+g*v,h*n+i*q+j*t,h*o+i*r+j*u,h*p+i*s+j*v,k*n+l*q+m*t,k*o+l*r+m*u,k*p+l*s+m*v]}}.call(this),function(a){"use strict";var b,c=0,d=["ms","moz","webkit","o"];for(b=0;b<d.length&&!a.requestAnimationFrame;b++)a.requestAnimationFrame=a[d[b]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[d[b]+"CancelAnimationFrame"]||a[d[b]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(b,d){var e=(new Date).getTime(),f=Math.max(0,16-(e-c)),g=a.setTimeout(function(){b(e+f)},f);return c=e+f,g}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b,c,d=Array.prototype.slice.call(arguments,1),e=this;return b=function(){},c=function(){return e.apply(this instanceof b&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))},b.prototype=this.prototype,c.prototype=new b,c})}(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.settings");var b={clone:!0,immutable:!0,verbose:!1,classPrefix:"sigma",defaultNodeType:"def",defaultEdgeType:"def",defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,edgeColor:"source",minArrowSize:0,font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",singleHover:!0,hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",edgeHoverColor:"edge",edgeHoverSizeRatio:1,defaultEdgeHoverColor:"#000",edgeHoverExtremities:!1,drawEdges:!0,drawNodes:!0,drawLabels:!0,drawEdgeLabels:!1,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,mouseWheelEnabled:!0,doubleClickEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,enableEdgeHovering:!1,edgeHoverPrecision:5,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200};sigma.settings=sigma.utils.extend(sigma.settings||{},b)}.call(this),function(){"use strict";var a=function(){Object.defineProperty(this,"_handlers",{value:{}})};a.prototype.bind=function(a,b){var c,d,e,f;if(1===arguments.length&&"object"==typeof arguments[0])for(a in arguments[0])this.bind(a,arguments[0][a]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";for(f="string"==typeof a?a.split(" "):a,c=0,d=f.length;c!==d;c+=1)(e=f[c])&&(this._handlers[e]||(this._handlers[e]=[]),this._handlers[e].push({handler:b}))}return this},a.prototype.unbind=function(a,b){var c,d,e,f,g,h,i,j="string"==typeof a?a.split(" "):a;if(!arguments.length){for(g in this._handlers)delete this._handlers[g];return this}if(b)for(c=0,d=j.length;c!==d;c+=1){if(i=j[c],this._handlers[i]){for(h=[],e=0,f=this._handlers[i].length;e!==f;e+=1)this._handlers[i][e].handler!==b&&h.push(this._handlers[i][e]);this._handlers[i]=h}this._handlers[i]&&0===this._handlers[i].length&&delete this._handlers[i]}else for(c=0,d=j.length;c!==d;c+=1)delete this._handlers[j[c]];return this},a.prototype.dispatchEvent=function(a,b){var c,d,e,f,g,h,i,j=this,k="string"==typeof a?a.split(" "):a;for(b=void 0===b?{}:b,c=0,d=k.length;c!==d;c+=1)if(i=k[c],this._handlers[i]){for(h=j.getEvent(i,b),g=[],e=0,f=this._handlers[i].length;e!==f;e+=1)this._handlers[i][e].handler(h),this._handlers[i][e].one||g.push(this._handlers[i][e]);this._handlers[i]=g}return this},a.prototype.getEvent=function(a,b){return{type:a,data:b||{},target:this}},a.extend=function(b,c){var d;for(d in a.prototype)a.prototype.hasOwnProperty(d)&&(b[d]=a.prototype[d]);a.apply(b,c)},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=a):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.dispatcher=a):this.dispatcher=a}.call(this),function(){"use strict";var a=function(){var b,c,d={},e=Array.prototype.slice.call(arguments,0),f=function(a,b){var c,g,h,i;{if(1!==arguments.length||"string"!=typeof a){if("object"==typeof a&&"string"==typeof b)return void 0!==(a||{})[b]?a[b]:f(b);for(c="object"==typeof a&&void 0===b?a:{},"string"==typeof a&&(c[a]=b),g=0,i=Object.keys(c),h=i.length;g<h;g++)d[i[g]]=c[i[g]];return this}if(void 0!==d[a])return d[a];for(g=0,h=e.length;g<h;g++)if(void 0!==e[g][a])return e[g][a]}};for(f.embedObjects=function(){var b=e.concat(d).concat(Array.prototype.splice.call(arguments,0));return a.apply({},b)},b=0,c=arguments.length;b<c;b++)f(arguments[b]);return f};void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=a):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.configurable=a):this.configurable=a}.call(this),function(a){"use strict";function b(a,b,c){return function(){var d,e;for(d in h[a])h[a][d].apply(b,arguments);e=c.apply(b,arguments);for(d in g[a])g[a][d].apply(b,arguments);return e}}function c(a){var b;for(b in a)"hasOwnProperty"in a&&!a.hasOwnProperty(b)||delete a[b];return a}var d=Object.create(null),e=Object.create(null),f=Object.create(null),g=Object.create(null),h=Object.create(null),i={immutable:!0,clone:!0},j=function(a){return i[a]},k=function(a){var c,e,g;g={settings:a||j,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsIndex:Object.create(null),outNeighborsIndex:Object.create(null),allNeighborsIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)};for(c in f)f[c].call(g);for(c in d)e=b(c,g,d[c]),this[c]=e,g[c]=e};k.addMethod=function(a,b){if("string"!=typeof a||"function"!=typeof b||2!==arguments.length)throw"addMethod: Wrong arguments.";if(d[a]||k[a])throw'The method "'+a+'" already exists.';return d[a]=b,g[a]=Object.create(null),h[a]=Object.create(null),this},k.hasMethod=function(a){return!(!d[a]&&!k[a])},k.attach=function(a,b,c,d){if("string"!=typeof a||"string"!=typeof b||"function"!=typeof c||arguments.length<3||arguments.length>4)throw"attach: Wrong arguments.";var e;if("constructor"===a)e=f;else if(d){if(!h[a])throw'The method "'+a+'" does not exist.';e=h[a]}else{if(!g[a])throw'The method "'+a+'" does not exist.';e=g[a]}if(e[b])throw'A function "'+b+'" is already attached to the method "'+a+'".';return e[b]=c,this},k.attachBefore=function(a,b,c){return this.attach(a,b,c,!0)},k.addIndex=function(a,b){if("string"!=typeof a||Object(b)!==b||2!==arguments.length)throw"addIndex: Wrong arguments.";if(e[a])throw'The index "'+a+'" already exists.';var c;e[a]=b;for(c in b){if("function"!=typeof b[c])throw"The bindings must be functions.";k.attach(c,a,b[c])}return this},k.addMethod("addNode",function(a){if(Object(a)!==a||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof a.id&&"number"!=typeof a.id)throw"The node must have a string or number id.";if(this.nodesIndex[a.id])throw'The node "'+a.id+'" already exists.';var b,c=a.id,d=Object.create(null);if(this.settings("clone"))for(b in a)"id"!==b&&(d[b]=a[b]);else d=a;return this.settings("immutable")?Object.defineProperty(d,"id",{value:c,enumerable:!0}):d.id=c,this.inNeighborsIndex[c]=Object.create(null),this.outNeighborsIndex[c]=Object.create(null),this.allNeighborsIndex[c]=Object.create(null),this.inNeighborsCount[c]=0,this.outNeighborsCount[c]=0,this.allNeighborsCount[c]=0,this.nodesArray.push(d),this.nodesIndex[d.id]=d,this}),k.addMethod("addEdge",function(a){if(Object(a)!==a||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof a.id&&"number"!=typeof a.id)throw"The edge must have a string or number id.";if("string"!=typeof a.source&&"number"!=typeof a.source||!this.nodesIndex[a.source])throw"The edge source must have an existing node id.";if("string"!=typeof a.target&&"number"!=typeof a.target||!this.nodesIndex[a.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[a.id])throw'The edge "'+a.id+'" already exists.';var b,c=Object.create(null);if(this.settings("clone"))for(b in a)"id"!==b&&"source"!==b&&"target"!==b&&(c[b]=a[b]);else c=a;return this.settings("immutable")?(Object.defineProperty(c,"id",{value:a.id,enumerable:!0}),Object.defineProperty(c,"source",{value:a.source,enumerable:!0}),Object.defineProperty(c,"target",{value:a.target,enumerable:!0})):(c.id=a.id,c.source=a.source,c.target=a.target),this.edgesArray.push(c),this.edgesIndex[c.id]=c,this.inNeighborsIndex[c.target][c.source]||(this.inNeighborsIndex[c.target][c.source]=Object.create(null)),this.inNeighborsIndex[c.target][c.source][c.id]=c,this.outNeighborsIndex[c.source][c.target]||(this.outNeighborsIndex[c.source][c.target]=Object.create(null)),this.outNeighborsIndex[c.source][c.target][c.id]=c,this.allNeighborsIndex[c.source][c.target]||(this.allNeighborsIndex[c.source][c.target]=Object.create(null)),this.allNeighborsIndex[c.source][c.target][c.id]=c,c.target!==c.source&&(this.allNeighborsIndex[c.target][c.source]||(this.allNeighborsIndex[c.target][c.source]=Object.create(null)),this.allNeighborsIndex[c.target][c.source][c.id]=c),this.inNeighborsCount[c.target]++,this.outNeighborsCount[c.source]++,this.allNeighborsCount[c.target]++,this.allNeighborsCount[c.source]++,this}),k.addMethod("dropNode",function(a){if("string"!=typeof a&&"number"!=typeof a||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[a])throw'The node "'+a+'" does not exist.';var b,c,d;for(delete this.nodesIndex[a],b=0,d=this.nodesArray.length;b<d;b++)if(this.nodesArray[b].id===a){this.nodesArray.splice(b,1);break}for(b=this.edgesArray.length-1;b>=0;b--)this.edgesArray[b].source!==a&&this.edgesArray[b].target!==a||this.dropEdge(this.edgesArray[b].id);delete this.inNeighborsIndex[a],delete this.outNeighborsIndex[a],delete this.allNeighborsIndex[a],delete this.inNeighborsCount[a],delete this.outNeighborsCount[a],delete this.allNeighborsCount[a];for(c in this.nodesIndex)delete this.inNeighborsIndex[c][a],delete this.outNeighborsIndex[c][a],delete this.allNeighborsIndex[c][a];return this}),k.addMethod("dropEdge",function(a){if("string"!=typeof a&&"number"!=typeof a||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[a])throw'The edge "'+a+'" does not exist.';var b,c,d;for(d=this.edgesIndex[a],delete this.edgesIndex[a],b=0,c=this.edgesArray.length;b<c;b++)if(this.edgesArray[b].id===a){this.edgesArray.splice(b,1);break}return delete this.inNeighborsIndex[d.target][d.source][d.id],Object.keys(this.inNeighborsIndex[d.target][d.source]).length||delete this.inNeighborsIndex[d.target][d.source],delete this.outNeighborsIndex[d.source][d.target][d.id],Object.keys(this.outNeighborsIndex[d.source][d.target]).length||delete this.outNeighborsIndex[d.source][d.target],delete this.allNeighborsIndex[d.source][d.target][d.id],Object.keys(this.allNeighborsIndex[d.source][d.target]).length||delete this.allNeighborsIndex[d.source][d.target],d.target!==d.source&&(delete this.allNeighborsIndex[d.target][d.source][d.id],Object.keys(this.allNeighborsIndex[d.target][d.source]).length||delete this.allNeighborsIndex[d.target][d.source]),this.inNeighborsCount[d.target]--,this.outNeighborsCount[d.source]--,this.allNeighborsCount[d.source]--,this.allNeighborsCount[d.target]--,this}),k.addMethod("kill",function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),k.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,c(this.nodesIndex),c(this.edgesIndex),c(this.nodesIndex),c(this.inNeighborsIndex),c(this.outNeighborsIndex),c(this.allNeighborsIndex),c(this.inNeighborsCount),c(this.outNeighborsCount),c(this.allNeighborsCount),this}),k.addMethod("read",function(a){var b,c,d;for(c=a.nodes||[],b=0,d=c.length;b<d;b++)this.addNode(c[b]);for(c=a.edges||[],b=0,d=c.length;b<d;b++)this.addEdge(c[b]);return this}),k.addMethod("nodes",function(a){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&("string"==typeof a||"number"==typeof a))return this.nodesIndex[a];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(a)){var b,c,d=[];for(b=0,c=a.length;b<c;b++){if("string"!=typeof a[b]&&"number"!=typeof a[b])throw"nodes: Wrong arguments.";d.push(this.nodesIndex[a[b]])}return d}throw"nodes: Wrong arguments."}),k.addMethod("degree",function(a,b){if(b={in:this.inNeighborsCount,out:this.outNeighborsCount}[b||""]||this.allNeighborsCount,"string"==typeof a||"number"==typeof a)return b[a];if("[object Array]"===Object.prototype.toString.call(a)){var c,d,e=[];for(c=0,d=a.length;c<d;c++){if("string"!=typeof a[c]&&"number"!=typeof a[c])throw"degree: Wrong arguments.";e.push(b[a[c]])}return e}throw"degree: Wrong arguments."}),k.addMethod("edges",function(a){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&("string"==typeof a||"number"==typeof a))return this.edgesIndex[a];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(a)){var b,c,d=[];for(b=0,c=a.length;b<c;b++){if("string"!=typeof a[b]&&"number"!=typeof a[b])throw"edges: Wrong arguments.";d.push(this.edgesIndex[a[b]])}return d}throw"edges: Wrong arguments."}),"undefined"!=typeof sigma?(sigma.classes=sigma.classes||Object.create(null),sigma.classes.graph=k):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports.graph=k):this.graph=k}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.classes"),sigma.classes.camera=function(a,b,c,d){sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:b}),Object.defineProperty(this,"id",{value:a}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+a+":"}),Object.defineProperty(this,"prefix",{value:"cam"+a+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof d&&d?c.embedObject(d):c},sigma.classes.camera.prototype.goTo=function(b){if(!this.settings("enableCamera"))return this;var c,d,e=b||{},f=["x","y","ratio","angle"];for(c=0,d=f.length;c<d;c++)if(e[f[c]]!==a){if("number"!=typeof e[f[c]]||isNaN(e[f[c]]))throw'Value for "'+f[c]+'" is not a number.';this[f[c]]=e[f[c]]}return this.dispatchEvent("coordinatesUpdated"),this},sigma.classes.camera.prototype.applyView=function(b,c,d){d=d||{},c=c!==a?c:this.prefix,b=b!==a?b:this.readPrefix;var e,f,g,h=d.nodes||this.graph.nodes(),i=d.edges||this.graph.edges(),j=Math.cos(this.angle)/this.ratio,k=Math.sin(this.angle)/this.ratio,l=Math.pow(this.ratio,this.settings("nodesPowRatio")),m=Math.pow(this.ratio,this.settings("edgesPowRatio")),n=(d.width||0)/2-this.x*j-this.y*k,o=(d.height||0)/2-this.y*j+this.x*k;for(e=0,f=h.length;e<f;e++)g=h[e],g[c+"x"]=(g[b+"x"]||0)*j+(g[b+"y"]||0)*k+n,g[c+"y"]=(g[b+"y"]||0)*j-(g[b+"x"]||0)*k+o,g[c+"size"]=(g[b+"size"]||0)/l;for(e=0,f=i.length;e<f;e++)i[e][c+"size"]=(i[e][b+"size"]||0)/m;return this},sigma.classes.camera.prototype.graphPosition=function(a,b,c){var d=0,e=0,f=Math.cos(this.angle),g=Math.sin(this.angle);return c||(d=-(this.x*f+this.y*g)/this.ratio,e=-(this.y*f-this.x*g)/this.ratio),{x:(a*f+b*g)/this.ratio+d,y:(b*f-a*g)/this.ratio+e}},sigma.classes.camera.prototype.cameraPosition=function(a,b,c){var d=0,e=0,f=Math.cos(this.angle),g=Math.sin(this.angle);return c||(d=-(this.x*f+this.y*g)/this.ratio,e=-(this.y*f-this.x*g)/this.ratio),{x:((a-d)*f-(b-e)*g)*this.ratio,y:((b-e)*f+(a-d)*g)*this.ratio}},sigma.classes.camera.prototype.getMatrix=function(){var a=sigma.utils.matrices.scale(1/this.ratio),b=sigma.utils.matrices.rotation(this.angle),c=sigma.utils.matrices.translation(-this.x,-this.y);return sigma.utils.matrices.multiply(c,sigma.utils.matrices.multiply(b,a))},sigma.classes.camera.prototype.getRectangle=function(a,b){var c=this.cameraPosition(a,0,!0),d=this.cameraPosition(0,b,!0),e=this.cameraPosition(a/2,b/2,!0),f=this.cameraPosition(a/4,0,!0).x,g=this.cameraPosition(0,b/4,!0).y;return{x1:this.x-e.x-f,y1:this.y-e.y-g,x2:this.x-e.x+f+c.x,y2:this.y-e.y-g+c.y,height:Math.sqrt(Math.pow(d.x,2)+Math.pow(d.y+2*g,2))}}}.call(this),function(a){"use strict";function b(a,b){var c=b.x+b.width/2,d=b.y+b.height/2,e=a.y<d,f=a.x<c;return e?f?0:1:f?2:3}function c(a,b){for(var c=[],d=0;d<4;d++)a.x2>=b[d][0].x&&a.x1<=b[d][1].x&&a.y1+a.height>=b[d][0].y&&a.y1<=b[d][2].y&&c.push(d);return c}function d(a,b){for(var c=[],d=0;d<4;d++)j.collision(a,b[d])&&c.push(d);return c}function e(a,b){var c,d,e=b.level+1,f=Math.round(b.bounds.width/2),g=Math.round(b.bounds.height/2),h=Math.round(b.bounds.x),j=Math.round(b.bounds.y);switch(a){case 0:c=h,d=j;break;case 1:c=h+f,d=j;break;case 2:c=h,d=j+g;break;case 3:c=h+f,d=j+g}return i({x:c,y:d,width:f,height:g},e,b.maxElements,b.maxLevel)}function f(b,d,g){if(g.level<g.maxLevel)for(var h=c(d,g.corners),i=0,j=h.length;i<j;i++)g.nodes[h[i]]===a&&(g.nodes[h[i]]=e(h[i],g)),f(b,d,g.nodes[h[i]]);else g.elements.push(b)}function g(c,d){if(d.level<d.maxLevel){var e=b(c,d.bounds);return d.nodes[e]!==a?g(c,d.nodes[e]):[]}return d.elements}function h(b,c,d,e){if(e=e||{},c.level<c.maxLevel)for(var f=d(b,c.corners),g=0,i=f.length;g<i;g++)c.nodes[f[g]]!==a&&h(b,c.nodes[f[g]],d,e);else for(var j=0,k=c.elements.length;j<k;j++)e[c.elements[j].id]===a&&(e[c.elements[j].id]=c.elements[j]);return e}function i(a,b,c,d){return{level:b||0,bounds:a,corners:j.splitSquare(a),maxElements:c||20,maxLevel:d||4,elements:[],nodes:[]}}var j={pointToSquare:function(a){return{x1:a.x-a.size,y1:a.y-a.size,x2:a.x+a.size,y2:a.y-a.size,height:2*a.size}},isAxisAligned:function(a){return a.x1===a.x2||a.y1===a.y2},axisAlignedTopPoints:function(a){return a.y1===a.y2&&a.x1<a.x2?a:a.x1===a.x2&&a.y2>a.y1?{x1:a.x1-a.height,y1:a.y1,x2:a.x1,y2:a.y1,height:a.height}:a.x1===a.x2&&a.y2<a.y1?{x1:a.x1,y1:a.y2,x2:a.x2+a.height,y2:a.y2,height:a.height}:{x1:a.x2,y1:a.y1-a.height,x2:a.x1,y2:a.y1-a.height,height:a.height}},lowerLeftCoor:function(a){var b=Math.sqrt(Math.pow(a.x2-a.x1,2)+Math.pow(a.y2-a.y1,2));return{x:a.x1-(a.y2-a.y1)*a.height/b,y:a.y1+(a.x2-a.x1)*a.height/b}},lowerRightCoor:function(a,b){return{x:b.x-a.x1+a.x2,y:b.y-a.y1+a.y2}},rectangleCorners:function(a){var b=this.lowerLeftCoor(a),c=this.lowerRightCoor(a,b);return[{x:a.x1,y:a.y1},{x:a.x2,y:a.y2},{x:b.x,y:b.y},{x:c.x,y:c.y}]},splitSquare:function(a){return[[{x:a.x,y:a.y},{x:a.x+a.width/2,y:a.y},{x:a.x,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height/2}],[{x:a.x+a.width/2,y:a.y},{x:a.x+a.width,y:a.y},{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x+a.width,y:a.y+a.height/2}],[{x:a.x,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x,y:a.y+a.height},{x:a.x+a.width/2,y:a.y+a.height}],[{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x+a.width,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height},{x:a.x+a.width,y:a.y+a.height}]]},axis:function(a,b){return[{x:a[1].x-a[0].x,y:a[1].y-a[0].y},{x:a[1].x-a[3].x,y:a[1].y-a[3].y},{x:b[0].x-b[2].x,y:b[0].y-b[2].y},{x:b[0].x-b[1].x,y:b[0].y-b[1].y}]},projection:function(a,b){var c=(a.x*b.x+a.y*b.y)/(Math.pow(b.x,2)+Math.pow(b.y,2));return{x:c*b.x,y:c*b.y}},axisCollision:function(a,b,c){for(var d=[],e=[],f=0;f<4;f++){var g=this.projection(b[f],a),h=this.projection(c[f],a);d.push(g.x*a.x+g.y*a.y),e.push(h.x*a.x+h.y*a.y)}var i=Math.max.apply(Math,d),j=Math.max.apply(Math,e),k=Math.min.apply(Math,d);return Math.min.apply(Math,e)<=i&&j>=k},collision:function(a,b){for(var c=this.axis(a,b),d=!0,e=0;e<4;e++)d=d&&this.axisCollision(c[e],a,b);return d}},k=function(){this._geom=j,this._tree=null,this._cache={query:!1,result:!1}};k.prototype.index=function(a,b){if(!b.bounds)throw"sigma.classes.quad.index: bounds information not given.";var c=b.prefix||"";this._tree=i(b.bounds,0,b.maxElements,b.maxLevel);for(var d=0,e=a.length;d<e;d++)f(a[d],j.pointToSquare({x:a[d][c+"x"],y:a[d][c+"y"],size:a[d][c+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},k.prototype.point=function(a,b){return this._tree?g({x:a,y:b},this._tree)||[]:[]},k.prototype.area=function(a){var b,e,f=JSON.stringify(a);if(this._cache.query===f)return this._cache.result;j.isAxisAligned(a)?(b=c,e=j.axisAlignedTopPoints(a)):(b=d,e=j.rectangleCorners(a));var g=this._tree?h(e,this._tree,b):[],i=[];for(var k in g)i.push(g[k]);return this._cache.query=f,this._cache.result=i,i},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=k):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports.quad=k):this.quad=k}.call(this),function(a){"use strict";function b(a,b){var c=b.x+b.width/2,d=b.y+b.height/2,e=a.y<d,f=a.x<c;return e?f?0:1:f?2:3}function c(a,b){for(var c=[],d=0;d<4;d++)a.x2>=b[d][0].x&&a.x1<=b[d][1].x&&a.y1+a.height>=b[d][0].y&&a.y1<=b[d][2].y&&c.push(d);return c}function d(a,b){for(var c=[],d=0;d<4;d++)j.collision(a,b[d])&&c.push(d);return c}function e(a,b){var c,d,e=b.level+1,f=Math.round(b.bounds.width/2),g=Math.round(b.bounds.height/2),h=Math.round(b.bounds.x),j=Math.round(b.bounds.y);switch(a){case 0:c=h,d=j;break;case 1:c=h+f,d=j;break;case 2:c=h,d=j+g;break;case 3:c=h+f,d=j+g}return i({x:c,y:d,width:f,height:g},e,b.maxElements,b.maxLevel)}function f(b,d,g){if(g.level<g.maxLevel)for(var h=c(d,g.corners),i=0,j=h.length;i<j;i++)g.nodes[h[i]]===a&&(g.nodes[h[i]]=e(h[i],g)),f(b,d,g.nodes[h[i]]);else g.elements.push(b)}function g(c,d){if(d.level<d.maxLevel){var e=b(c,d.bounds);return d.nodes[e]!==a?g(c,d.nodes[e]):[]}return d.elements}function h(b,c,d,e){if(e=e||{},c.level<c.maxLevel)for(var f=d(b,c.corners),g=0,i=f.length;g<i;g++)c.nodes[f[g]]!==a&&h(b,c.nodes[f[g]],d,e);else for(var j=0,k=c.elements.length;j<k;j++)e[c.elements[j].id]===a&&(e[c.elements[j].id]=c.elements[j]);return e}function i(a,b,c,d){return{level:b||0,bounds:a,corners:j.splitSquare(a),maxElements:c||40,maxLevel:d||8,elements:[],nodes:[]}}var j={pointToSquare:function(a){return{x1:a.x-a.size,y1:a.y-a.size,x2:a.x+a.size,y2:a.y-a.size,height:2*a.size}},lineToSquare:function(a){return a.y1<a.y2?a.x1<a.x2?{x1:a.x1-a.size,y1:a.y1-a.size,x2:a.x2+a.size,y2:a.y1-a.size,height:a.y2-a.y1+2*a.size}:{x1:a.x2-a.size,y1:a.y1-a.size,x2:a.x1+a.size,y2:a.y1-a.size,height:a.y2-a.y1+2*a.size}:a.x1<a.x2?{x1:a.x1-a.size,y1:a.y2-a.size,x2:a.x2+a.size,y2:a.y2-a.size,height:a.y1-a.y2+2*a.size}:{x1:a.x2-a.size,y1:a.y2-a.size,x2:a.x1+a.size,y2:a.y2-a.size,height:a.y1-a.y2+2*a.size}},quadraticCurveToSquare:function(a,b){var c=sigma.utils.getPointOnQuadraticCurve(.5,a.x1,a.y1,a.x2,a.y2,b.x,b.y),d=Math.min(a.x1,a.x2,c.x),e=Math.max(a.x1,a.x2,c.x),f=Math.min(a.y1,a.y2,c.y),g=Math.max(a.y1,a.y2,c.y);return{x1:d-a.size,y1:f-a.size,x2:e+a.size,y2:f-a.size,height:g-f+2*a.size}},selfLoopToSquare:function(a){var b=sigma.utils.getSelfLoopControlPoints(a.x,a.y,a.size),c=Math.min(a.x,b.x1,b.x2),d=Math.max(a.x,b.x1,b.x2),e=Math.min(a.y,b.y1,b.y2),f=Math.max(a.y,b.y1,b.y2);return{x1:c-a.size,y1:e-a.size,x2:d+a.size,y2:e-a.size,height:f-e+2*a.size}},isAxisAligned:function(a){return a.x1===a.x2||a.y1===a.y2},axisAlignedTopPoints:function(a){return a.y1===a.y2&&a.x1<a.x2?a:a.x1===a.x2&&a.y2>a.y1?{x1:a.x1-a.height,y1:a.y1,x2:a.x1,y2:a.y1,height:a.height}:a.x1===a.x2&&a.y2<a.y1?{x1:a.x1,y1:a.y2,x2:a.x2+a.height,y2:a.y2,height:a.height}:{x1:a.x2,y1:a.y1-a.height,x2:a.x1,y2:a.y1-a.height,height:a.height}},lowerLeftCoor:function(a){var b=Math.sqrt(Math.pow(a.x2-a.x1,2)+Math.pow(a.y2-a.y1,2));return{x:a.x1-(a.y2-a.y1)*a.height/b,y:a.y1+(a.x2-a.x1)*a.height/b}},lowerRightCoor:function(a,b){return{x:b.x-a.x1+a.x2,y:b.y-a.y1+a.y2}},rectangleCorners:function(a){var b=this.lowerLeftCoor(a),c=this.lowerRightCoor(a,b);return[{x:a.x1,y:a.y1},{x:a.x2,y:a.y2},{x:b.x,y:b.y},{x:c.x,y:c.y}]},splitSquare:function(a){return[[{x:a.x,y:a.y},{x:a.x+a.width/2,y:a.y},{x:a.x,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height/2}],[{x:a.x+a.width/2,y:a.y},{x:a.x+a.width,y:a.y},{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x+a.width,y:a.y+a.height/2}],[{x:a.x,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x,y:a.y+a.height},{x:a.x+a.width/2,y:a.y+a.height}],[{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x+a.width,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height},{x:a.x+a.width,y:a.y+a.height}]]},axis:function(a,b){return[{x:a[1].x-a[0].x,y:a[1].y-a[0].y},{x:a[1].x-a[3].x,y:a[1].y-a[3].y},{x:b[0].x-b[2].x,y:b[0].y-b[2].y},{x:b[0].x-b[1].x,y:b[0].y-b[1].y}]},projection:function(a,b){var c=(a.x*b.x+a.y*b.y)/(Math.pow(b.x,2)+Math.pow(b.y,2));return{x:c*b.x,y:c*b.y}},axisCollision:function(a,b,c){for(var d=[],e=[],f=0;f<4;f++){var g=this.projection(b[f],a),h=this.projection(c[f],a);d.push(g.x*a.x+g.y*a.y),e.push(h.x*a.x+h.y*a.y)}var i=Math.max.apply(Math,d),j=Math.max.apply(Math,e),k=Math.min.apply(Math,d);return Math.min.apply(Math,e)<=i&&j>=k},collision:function(a,b){for(var c=this.axis(a,b),d=!0,e=0;e<4;e++)d=d&&this.axisCollision(c[e],a,b);return d}},k=function(){this._geom=j,this._tree=null,this._cache={query:!1,result:!1},this._enabled=!0};k.prototype.index=function(a,b){if(!this._enabled)return this._tree;if(!b.bounds)throw"sigma.classes.edgequad.index: bounds information not given.";var c,d,e,g,h,k=b.prefix||"";this._tree=i(b.bounds,0,b.maxElements,b.maxLevel);for(var l=a.edges(),m=0,n=l.length;m<n;m++)d=a.nodes(l[m].source),e=a.nodes(l[m].target),h={x1:d[k+"x"],y1:d[k+"y"],x2:e[k+"x"],y2:e[k+"y"],size:l[m][k+"size"]||0},"curve"===l[m].type||"curvedArrow"===l[m].type?d.id===e.id?(g={x:d[k+"x"],y:d[k+"y"],size:d[k+"size"]||0},f(l[m],j.selfLoopToSquare(g),this._tree)):(c=sigma.utils.getQuadraticControlPoint(h.x1,h.y1,h.x2,h.y2),f(l[m],j.quadraticCurveToSquare(h,c),this._tree)):f(l[m],j.lineToSquare(h),this._tree);return this._cache={query:!1,result:!1},this._tree},k.prototype.point=function(a,b){return this._enabled&&this._tree?g({x:a,y:b},this._tree)||[]:[]},k.prototype.area=function(a){if(!this._enabled)return[];var b,e,f=JSON.stringify(a);if(this._cache.query===f)return this._cache.result;j.isAxisAligned(a)?(b=c,e=j.axisAlignedTopPoints(a)):(b=d,e=j.rectangleCorners(a));var g=this._tree?h(e,this._tree,b):[],i=[];for(var k in g)i.push(g[k]);return this._cache.query=f,this._cache.result=i,i},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.edgequad=k):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports.edgequad=k):this.edgequad=k}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.mouse=function(a,b,c){function d(a){var b,c,d;if(y("mouseEnabled")&&(v.dispatchEvent("mousemove",sigma.utils.mouseCoords(a)),q))return r=!0,s=!0,u&&clearTimeout(u),u=setTimeout(function(){r=!1},y("dragTimeout")),sigma.misc.animation.killAll(x),x.isMoving=!0,d=x.cameraPosition(sigma.utils.getX(a)-o,sigma.utils.getY(a)-p,!0),b=k-d.x,c=l-d.y,b===x.x&&c===x.y||(m=x.x,n=x.y,x.goTo({x:b,y:c})),a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}function e(a){if(y("mouseEnabled")&&q){q=!1,u&&clearTimeout(u),x.isMoving=!1;var b=sigma.utils.getX(a),c=sigma.utils.getY(a);r?(sigma.misc.animation.killAll(x),sigma.misc.animation.camera(x,{x:x.x+y("mouseInertiaRatio")*(x.x-m),y:x.y+y("mouseInertiaRatio")*(x.y-n)},{easing:"quadraticOut",duration:y("mouseInertiaDuration")})):o===b&&p===c||x.goTo({x:x.x,y:x.y}),v.dispatchEvent("mouseup",sigma.utils.mouseCoords(a)),r=!1}}function f(a){if(y("mouseEnabled"))switch(k=x.x,l=x.y,m=x.x,n=x.y,o=sigma.utils.getX(a),p=sigma.utils.getY(a),s=!1,t=(new Date).getTime(),a.which){case 2:break;case 3:v.dispatchEvent("rightclick",sigma.utils.mouseCoords(a,o,p));break;default:q=!0,v.dispatchEvent("mousedown",sigma.utils.mouseCoords(a,o,p))}}function g(a){y("mouseEnabled")&&v.dispatchEvent("mouseout")}function h(a){if(y("mouseEnabled")){var b=sigma.utils.mouseCoords(a);b.isDragging=(new Date).getTime()-t>100&&s,v.dispatchEvent("click",b)}return a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}function i(a){var b,c,d;if(y("mouseEnabled"))return c=1/y("doubleClickZoomingRatio"),v.dispatchEvent("doubleclick",sigma.utils.mouseCoords(a,o,p)),y("doubleClickEnabled")&&(b=x.cameraPosition(sigma.utils.getX(a)-sigma.utils.getCenter(a).x,sigma.utils.getY(a)-sigma.utils.getCenter(a).y,!0),d={duration:y("doubleClickZoomDuration")},sigma.utils.zoomTo(x,b.x,b.y,c,d)),a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}function j(a){var b,c,d,e=sigma.utils.getDelta(a);if(y("mouseEnabled")&&y("mouseWheelEnabled")&&0!==e)return c=e>0?1/y("zoomingRatio"):y("zoomingRatio"),b=x.cameraPosition(sigma.utils.getX(a)-sigma.utils.getCenter(a).x,sigma.utils.getY(a)-sigma.utils.getCenter(a).y,!0),d={duration:y("mouseZoomDuration")},sigma.utils.zoomTo(x,b.x,b.y,c,d),a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}var k,l,m,n,o,p,q,r,s,t,u,v=this,w=a,x=b,y=c;sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(w,"click",i),w.addEventListener("DOMMouseScroll",j,!1),w.addEventListener("mousewheel",j,!1),w.addEventListener("mousemove",d,!1),w.addEventListener("mousedown",f,!1),w.addEventListener("click",h,!1),w.addEventListener("mouseout",g,!1),document.addEventListener("mouseup",e,!1),this.kill=function(){sigma.utils.unbindDoubleClick(w,"click"),w.removeEventListener("DOMMouseScroll",j),w.removeEventListener("mousewheel",j),w.removeEventListener("mousemove",d),w.removeEventListener("mousedown",f),w.removeEventListener("click",h),w.removeEventListener("mouseout",g),document.removeEventListener("mouseup",e)}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.touch=function(a,b,c){function d(a){var b=sigma.utils.getOffset(B);return{x:a.pageX-b.left,y:a.pageY-b.top}}function e(a){if(D("touchEnabled")){var b,c,e,f,g,h;switch(E=a.touches,E.length){case 1:C.isMoving=!0,w=1,i=C.x,j=C.y,m=C.x,n=C.y,g=d(E[0]),q=g.x,r=g.y;break;case 2:return C.isMoving=!0,w=2,g=d(E[0]),h=d(E[1]),b=g.x,e=g.y,c=h.x,f=h.y,m=C.x,n=C.y,k=C.angle,l=C.ratio,i=C.x,j=C.y,q=b,r=e,s=c,t=f,u=Math.atan2(t-r,s-q),v=Math.sqrt((t-r)*(t-r)+(s-q)*(s-q)),a.preventDefault(),!1}}}function f(a){if(D("touchEnabled")){E=a.touches;var b=D("touchInertiaRatio");switch(z&&(x=!1,clearTimeout(z)),w){case 2:if(1===a.touches.length){e(a),a.preventDefault();break}case 1:C.isMoving=!1,A.dispatchEvent("stopDrag"),x&&(y=!1,sigma.misc.animation.camera(C,{x:C.x+b*(C.x-m),y:C.y+b*(C.y-n)},{easing:"quadraticOut",duration:D("touchInertiaDuration")})),x=!1,w=0}}}function g(a){if(!y&&D("touchEnabled")){var b,c,e,f,g,h,B,F,G,H,I,J,K,L,M,N,O;switch(E=a.touches,x=!0,z&&clearTimeout(z),z=setTimeout(function(){x=!1},D("dragTimeout")),w){case 1:F=d(E[0]),b=F.x,e=F.y,H=C.cameraPosition(b-q,e-r,!0),L=i-H.x,M=j-H.y,L===C.x&&M===C.y||(m=C.x,n=C.y,C.goTo({x:L,y:M}),A.dispatchEvent("mousemove",sigma.utils.mouseCoords(a,F.x,F.y)),A.dispatchEvent("drag"));break;case 2:F=d(E[0]),G=d(E[1]),b=F.x,e=F.y,c=G.x,f=G.y,I=C.cameraPosition((q+s)/2-sigma.utils.getCenter(a).x,(r+t)/2-sigma.utils.getCenter(a).y,!0),B=C.cameraPosition((b+c)/2-sigma.utils.getCenter(a).x,(e+f)/2-sigma.utils.getCenter(a).y,!0),J=Math.atan2(f-e,c-b)-u,K=Math.sqrt((f-e)*(f-e)+(c-b)*(c-b))/v,b=I.x,e=I.y,N=l/K,b*=K,e*=K,O=k-J,g=Math.cos(-J),h=Math.sin(-J),c=b*g+e*h,f=e*g-b*h,b=c,e=f,L=b-B.x+i,M=e-B.y+j,N===C.ratio&&O===C.angle&&L===C.x&&M===C.y||(m=C.x,n=C.y,o=C.angle,p=C.ratio,C.goTo({x:L,y:M,angle:O,ratio:N}),A.dispatchEvent("drag"))}return a.preventDefault(),!1}}function h(a){var b,c,e;if(a.touches&&1===a.touches.length&&D("touchEnabled"))return y=!0,c=1/D("doubleClickZoomingRatio"),b=d(a.touches[0]),A.dispatchEvent("doubleclick",sigma.utils.mouseCoords(a,b.x,b.y)),D("doubleClickEnabled")&&(b=C.cameraPosition(b.x-sigma.utils.getCenter(a).x,b.y-sigma.utils.getCenter(a).y,!0),e={duration:D("doubleClickZoomDuration"),onComplete:function(){y=!1}},sigma.utils.zoomTo(C,b.x,b.y,c,e)),a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=this,B=a,C=b,D=c,E=[];sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(B,"touchstart",h),B.addEventListener("touchstart",e,!1),B.addEventListener("touchend",f,!1),B.addEventListener("touchcancel",f,!1),B.addEventListener("touchleave",f,!1),B.addEventListener("touchmove",g,!1),this.kill=function(){sigma.utils.unbindDoubleClick(B,"touchstart"),B.addEventListener("touchstart",e),B.addEventListener("touchend",f),B.addEventListener("touchcancel",f),B.addEventListener("touchleave",f),B.addEventListener("touchmove",g)}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.canvas=function(a,b,c,d){if("object"!=typeof d)throw"sigma.renderers.canvas: Wrong arguments.";if(!(d.container instanceof HTMLElement))throw"Container not found.";var e,f,g,h;for(sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=a,this.camera=b,this.contexts={},this.domElements={},this.options=d,this.container=this.options.container,this.settings="object"==typeof d.settings&&d.settings?c.embedObjects(d.settings):c,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],g=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],e=0,f=g.length;e<f;e++)h="function"==typeof g[e]?g[e]:sigma.captors[g[e]],this.captors.push(new h(this.domElements.mouse,this.camera,this.settings));sigma.misc.bindEvents.call(this,this.options.prefix),sigma.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},sigma.renderers.canvas.prototype.render=function(b){b=b||{};var c,d,e,f,g,h,i,j,k,l,m,n,o,p={},q=this.graph,r=this.graph.nodes,s=(this.options.prefix,this.settings(b,"drawEdges")),t=this.settings(b,"drawNodes"),u=this.settings(b,"drawLabels"),v=this.settings(b,"drawEdgeLabels"),w=this.settings.embedObjects(b,{prefix:this.options.prefix});this.resize(!1),this.settings(b,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(s=!1),this.camera.applyView(a,this.options.prefix,{width:this.width,height:this.height}),this.clear();for(e in this.jobs)conrad.hasJob(e)&&conrad.killJob(e);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)p[c[d].id]=c[d];if(s){for(c=q.edges(),d=0,f=c.length;d<f;d++)g=c[d],!p[g.source]&&!p[g.target]||g.hidden||r(g.source).hidden||r(g.target).hidden||this.edgesOnScreen.push(g);if(this.settings(b,"batchEdgesDrawing"))h="edges_"+this.conradId,n=w("canvasEdgesBatchSize"),l=this.edgesOnScreen,f=l.length,k=0,i=Math.min(l.length,k+n),j=function(){for(o=this.contexts.edges.globalCompositeOperation,this.contexts.edges.globalCompositeOperation="destination-over",m=sigma.canvas.edges,d=k;d<i;d++)g=l[d],(m[g.type||this.settings(b,"defaultEdgeType")]||m.def)(g,q.nodes(g.source),q.nodes(g.target),this.contexts.edges,w);if(v)for(m=sigma.canvas.edges.labels,d=k;d<i;d++)g=l[d],g.hidden||(m[g.type||this.settings(b,"defaultEdgeType")]||m.def)(g,q.nodes(g.source),q.nodes(g.target),this.contexts.labels,w);return this.contexts.edges.globalCompositeOperation=o,i===l.length?(delete this.jobs[h],!1):(k=i+1,i=Math.min(l.length,k+n),!0)},this.jobs[h]=j,conrad.addJob(h,j.bind(this));else{for(m=sigma.canvas.edges,c=this.edgesOnScreen,d=0,f=c.length;d<f;d++)g=c[d],(m[g.type||this.settings(b,"defaultEdgeType")]||m.def)(g,q.nodes(g.source),q.nodes(g.target),this.contexts.edges,w);if(v)for(m=sigma.canvas.edges.labels,c=this.edgesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||(m[c[d].type||this.settings(b,"defaultEdgeType")]||m.def)(c[d],q.nodes(c[d].source),q.nodes(c[d].target),this.contexts.labels,w)}}if(t)for(m=sigma.canvas.nodes,c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||(m[c[d].type||this.settings(b,"defaultNodeType")]||m.def)(c[d],this.contexts.nodes,w);if(u)for(m=sigma.canvas.labels,c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||(m[c[d].type||this.settings(b,"defaultNodeType")]||m.def)(c[d],this.contexts.labels,w);return this.dispatchEvent("render"),this},sigma.renderers.canvas.prototype.initDOM=function(a,b){var c=document.createElement(a);c.style.position="absolute",c.setAttribute("class","sigma-"+b),this.domElements[b]=c,this.container.appendChild(c),"canvas"===a.toLowerCase()&&(this.contexts[b]=c.getContext("2d"))},sigma.renderers.canvas.prototype.resize=function(b,c){var d,e=this.width,f=this.height,g=sigma.utils.getPixelRatio();if(b!==a&&c!==a?(this.width=b,this.height=c):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,b=this.width,c=this.height),e!==this.width||f!==this.height)for(d in this.domElements)this.domElements[d].style.width=b+"px",this.domElements[d].style.height=c+"px","canvas"===this.domElements[d].tagName.toLowerCase()&&(this.domElements[d].setAttribute("width",b*g+"px"),this.domElements[d].setAttribute("height",c*g+"px"),1!==g&&this.contexts[d].scale(g,g));return this},sigma.renderers.canvas.prototype.clear=function(){for(var a in this.contexts)this.contexts[a].clearRect(0,0,this.width,this.height);return this},sigma.renderers.canvas.prototype.kill=function(){for(var a,b;b=this.captors.pop();)b.kill();delete this.captors;for(a in this.domElements)this.domElements[a].parentNode.removeChild(this.domElements[a]),delete this.domElements[a],delete this.contexts[a];delete this.domElements,delete this.contexts},sigma.utils.pkg("sigma.canvas.nodes"),sigma.utils.pkg("sigma.canvas.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.webgl=function(a,b,c,d){if("object"!=typeof d)throw"sigma.renderers.webgl: Wrong arguments.";if(!(d.container instanceof HTMLElement))throw"Container not found.";var e,f,g,h;for(sigma.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=a,this.camera=b,this.contexts={},this.domElements={},this.options=d,this.container=this.options.container,this.settings="object"==typeof d.settings&&d.settings?c.embedObjects(d.settings):c,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeIndicesArrays",{value:{}}),this.settings(d,"batchEdgesDrawing")?(this.initDOM("canvas","edges",!0),this.initDOM("canvas","nodes",!0)):(this.initDOM("canvas","scene",!0),this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],g=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],e=0,f=g.length;e<f;e++)h="function"==typeof g[e]?g[e]:sigma.captors[g[e]],this.captors.push(new h(this.domElements.mouse,this.camera,this.settings));sigma.misc.bindEvents.call(this,this.camera.prefix),sigma.misc.drawHovers.call(this,this.camera.prefix),this.resize()},sigma.renderers.webgl.prototype.process=function(){var a,b,c,d,e,f,g=this.graph,h=sigma.utils.extend(h,this.options),i=this.settings(h,"defaultEdgeType"),j=this.settings(h,"defaultNodeType");for(d in this.nodeFloatArrays)delete this.nodeFloatArrays[d];for(d in this.edgeFloatArrays)delete this.edgeFloatArrays[d];for(d in this.edgeIndicesArrays)delete this.edgeIndicesArrays[d];for(a=g.edges(),b=0,c=a.length;b<c;b++)e=a[b].type||i,d=e&&sigma.webgl.edges[e]?e:"def",this.edgeFloatArrays[d]||(this.edgeFloatArrays[d]={edges:[]}),this.edgeFloatArrays[d].edges.push(a[b]);for(a=g.nodes(),b=0,c=a.length;b<c;b++)e=a[b].type||j,d=e&&sigma.webgl.nodes[e]?e:"def",this.nodeFloatArrays[d]||(this.nodeFloatArrays[d]={nodes:[]}),this.nodeFloatArrays[d].nodes.push(a[b]);for(d in this.edgeFloatArrays){for(f=sigma.webgl.edges[d],a=this.edgeFloatArrays[d].edges,this.edgeFloatArrays[d].array=new Float32Array(a.length*f.POINTS*f.ATTRIBUTES),b=0,c=a.length;b<c;b++)a[b].hidden||g.nodes(a[b].source).hidden||g.nodes(a[b].target).hidden||f.addEdge(a[b],g.nodes(a[b].source),g.nodes(a[b].target),this.edgeFloatArrays[d].array,b*f.POINTS*f.ATTRIBUTES,h.prefix,this.settings);"function"==typeof f.computeIndices&&(this.edgeIndicesArrays[d]=f.computeIndices(this.edgeFloatArrays[d].array))}for(d in this.nodeFloatArrays)for(f=sigma.webgl.nodes[d],a=this.nodeFloatArrays[d].nodes,this.nodeFloatArrays[d].array=new Float32Array(a.length*f.POINTS*f.ATTRIBUTES),b=0,c=a.length;b<c;b++)this.nodeFloatArrays[d].array||(this.nodeFloatArrays[d].array=new Float32Array(a.length*f.POINTS*f.ATTRIBUTES)),a[b].hidden||f.addNode(a[b],this.nodeFloatArrays[d].array,b*f.POINTS*f.ATTRIBUTES,h.prefix,this.settings);return this},sigma.renderers.webgl.prototype.render=function(b){var c,d,e,f,g,h,i=this,j=(this.graph,this.contexts.nodes),k=this.contexts.edges,l=this.camera.getMatrix(),m=sigma.utils.extend(b,this.options),n=this.settings(m,"drawLabels"),o=this.settings(m,"drawEdges"),p=this.settings(m,"drawNodes");this.resize(!1),this.settings(m,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(o=!1),this.clear(),l=sigma.utils.matrices.multiply(l,sigma.utils.matrices.translation(this.width/2,this.height/2));for(f in this.jobs)conrad.hasJob(f)&&conrad.killJob(f);if(o)if(this.settings(m,"batchEdgesDrawing"))(function(){var a,b,c,d,e,f,g,h,i,j;c="edges_"+this.conradId,j=this.settings(m,"webglEdgesBatchSize"),a=Object.keys(this.edgeFloatArrays),a.length&&(b=0,i=sigma.webgl.edges[a[b]],e=this.edgeFloatArrays[a[b]].array,h=this.edgeIndicesArrays[a[b]],g=0,f=Math.min(g+j*i.POINTS,e.length/i.ATTRIBUTES),d=function(){return this.edgePrograms[a[b]]||(this.edgePrograms[a[b]]=i.initProgram(k)),g<f&&(k.useProgram(this.edgePrograms[a[b]]),i.render(k,this.edgePrograms[a[b]],e,{settings:this.settings,matrix:l,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(m,"webglOversamplingRatio"),start:g,count:f-g,indicesData:h})),f>=e.length/i.ATTRIBUTES&&b===a.length-1?(delete this.jobs[c],!1):(f>=e.length/i.ATTRIBUTES?(b++,e=this.edgeFloatArrays[a[b]].array,i=sigma.webgl.edges[a[b]],g=0,f=Math.min(g+j*i.POINTS,e.length/i.ATTRIBUTES)):(g=f,f=Math.min(g+j*i.POINTS,e.length/i.ATTRIBUTES)),!0)},this.jobs[c]=d,conrad.addJob(c,d.bind(this)))}).call(this);else for(f in this.edgeFloatArrays)h=sigma.webgl.edges[f],this.edgePrograms[f]||(this.edgePrograms[f]=h.initProgram(k)),this.edgeFloatArrays[f]&&(k.useProgram(this.edgePrograms[f]),h.render(k,this.edgePrograms[f],this.edgeFloatArrays[f].array,{settings:this.settings,matrix:l,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(m,"webglOversamplingRatio"),indicesData:this.edgeIndicesArrays[f]}));if(p){j.blendFunc(j.SRC_ALPHA,j.ONE_MINUS_SRC_ALPHA),j.enable(j.BLEND);for(f in this.nodeFloatArrays)h=sigma.webgl.nodes[f],this.nodePrograms[f]||(this.nodePrograms[f]=h.initProgram(j)),this.nodeFloatArrays[f]&&(j.useProgram(this.nodePrograms[f]),h.render(j,this.nodePrograms[f],this.nodeFloatArrays[f].array,{settings:this.settings,matrix:l,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(m,"webglOversamplingRatio")}))}if(n)for(c=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(a,a,{nodes:c,edges:[],width:this.width,height:this.height}),g=function(a){return i.settings({prefix:i.camera.prefix},a)},d=0,e=c.length;d<e;d++)c[d].hidden||(sigma.canvas.labels[c[d].type||this.settings(m,"defaultNodeType")]||sigma.canvas.labels.def)(c[d],this.contexts.labels,g);return this.dispatchEvent("render"),this},sigma.renderers.webgl.prototype.initDOM=function(a,b,c){var d=document.createElement(a),e=this;d.style.position="absolute",d.setAttribute("class","sigma-"+b),this.domElements[b]=d,this.container.appendChild(d),"canvas"===a.toLowerCase()&&(this.contexts[b]=d.getContext(c?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}),c&&(d.addEventListener("webglcontextlost",function(a){a.preventDefault()},!1),d.addEventListener("webglcontextrestored",function(a){e.render()},!1)))},sigma.renderers.webgl.prototype.resize=function(b,c){var d,e=this.width,f=this.height,g=sigma.utils.getPixelRatio();if(b!==a&&c!==a?(this.width=b,this.height=c):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,b=this.width,c=this.height),e!==this.width||f!==this.height)for(d in this.domElements)this.domElements[d].style.width=b+"px",this.domElements[d].style.height=c+"px","canvas"===this.domElements[d].tagName.toLowerCase()&&(this.contexts[d]&&this.contexts[d].scale?(this.domElements[d].setAttribute("width",b*g+"px"),this.domElements[d].setAttribute("height",c*g+"px"),1!==g&&this.contexts[d].scale(g,g)):(this.domElements[d].setAttribute("width",b*this.settings("webglOversamplingRatio")+"px"),this.domElements[d].setAttribute("height",c*this.settings("webglOversamplingRatio")+"px")));for(d in this.contexts)this.contexts[d]&&this.contexts[d].viewport&&this.contexts[d].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},sigma.renderers.webgl.prototype.clear=function(){return this.contexts.labels.clearRect(0,0,this.width,this.height),this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},sigma.renderers.webgl.prototype.kill=function(){for(var a,b;b=this.captors.pop();)b.kill();delete this.captors;for(a in this.domElements)this.domElements[a].parentNode.removeChild(this.domElements[a]),delete this.domElements[a],delete this.contexts[a];delete this.domElements,delete this.contexts},sigma.utils.pkg("sigma.webgl.nodes"),sigma.utils.pkg("sigma.webgl.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.svg=function(a,b,c,d){if("object"!=typeof d)throw"sigma.renderers.svg: Wrong arguments.";if(!(d.container instanceof HTMLElement))throw"Container not found.";var e,f,g,h,i=this;for(sigma.classes.dispatcher.extend(this),this.graph=a,this.camera=b,this.domElements={graph:null,groups:{},nodes:{},edges:{},labels:{},hovers:{}},this.measurementCanvas=null,this.options=d,this.container=this.options.container,this.settings="object"==typeof d.settings&&d.settings?c.embedObjects(d.settings):c,this.settings("freeStyle",!!this.options.freeStyle),this.settings("xmlns","http://www.w3.org/2000/svg"),this.nodesOnScreen=[],this.edgesOnScreen=[],this.options.prefix="renderer"+sigma.utils.id()+":",this.initDOM("svg"),this.captors=[],g=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],e=0,f=g.length;e<f;e++)h="function"==typeof g[e]?g[e]:sigma.captors[g[e]],this.captors.push(new h(this.domElements.graph,this.camera,this.settings));window.addEventListener("resize",function(){i.resize()}),sigma.misc.bindDOMEvents.call(this,this.domElements.graph),this.bindHovers(this.options.prefix),this.resize(!1)},sigma.renderers.svg.prototype.render=function(b){b=b||{};var c,d,e,f,g,h,i,j,k,l={},m=this.graph,n=this.graph.nodes,o=(this.options.prefix,this.settings(b,"drawEdges")),p=this.settings(b,"drawNodes"),q=(this.settings(b,"drawLabels"),this.settings.embedObjects(b,{prefix:this.options.prefix,forceLabels:this.options.forceLabels}));for(this.settings(b,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(o=!1),this.camera.applyView(a,this.options.prefix,{width:this.width,height:this.height}),this.hideDOMElements(this.domElements.nodes),this.hideDOMElements(this.domElements.edges),this.hideDOMElements(this.domElements.labels),this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)l[c[d].id]=c[d];for(c=m.edges(),d=0,f=c.length;d<f;d++)g=c[d],!l[g.source]&&!l[g.target]||g.hidden||n(g.source).hidden||n(g.target).hidden||this.edgesOnScreen.push(g);if(j=sigma.svg.nodes,k=sigma.svg.labels,p)for(c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||this.domElements.nodes[c[d].id]||(e=(j[c[d].type]||j.def).create(c[d],q),this.domElements.nodes[c[d].id]=e,this.domElements.groups.nodes.appendChild(e),e=(k[c[d].type]||k.def).create(c[d],q),this.domElements.labels[c[d].id]=e,this.domElements.groups.labels.appendChild(e));if(p)for(c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||((j[c[d].type]||j.def).update(c[d],this.domElements.nodes[c[d].id],q),(k[c[d].type]||k.def).update(c[d],this.domElements.labels[c[d].id],q));if(j=sigma.svg.edges,o)for(c=this.edgesOnScreen,d=0,f=c.length;d<f;d++)this.domElements.edges[c[d].id]||(h=n(c[d].source),i=n(c[d].target),e=(j[c[d].type]||j.def).create(c[d],h,i,q),this.domElements.edges[c[d].id]=e,this.domElements.groups.edges.appendChild(e));if(o)for(c=this.edgesOnScreen,d=0,f=c.length;d<f;d++)h=n(c[d].source),i=n(c[d].target),(j[c[d].type]||j.def).update(c[d],this.domElements.edges[c[d].id],h,i,q);return this.dispatchEvent("render"),this},sigma.renderers.svg.prototype.initDOM=function(a){var b,c,d,e=document.createElementNS(this.settings("xmlns"),a),f=this.settings("classPrefix");e.style.position="absolute",e.setAttribute("class",f+"-svg"),e.setAttribute("xmlns",this.settings("xmlns")),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("version","1.1");var g=document.createElement("canvas");g.setAttribute("class",f+"-measurement-canvas"),this.domElements.graph=this.container.appendChild(e);var h=["edges","nodes","labels","hovers"];for(d=0,c=h.length;d<c;d++)b=document.createElementNS(this.settings("xmlns"),"g"),b.setAttributeNS(null,"id",f+"-group-"+h[d]),b.setAttributeNS(null,"class",f+"-group"),this.domElements.groups[h[d]]=this.domElements.graph.appendChild(b);this.container.appendChild(g),this.measurementCanvas=g.getContext("2d")},sigma.renderers.svg.prototype.hideDOMElements=function(a){var b,c;for(c in a)b=a[c],sigma.svg.utils.hide(b);return this},sigma.renderers.svg.prototype.bindHovers=function(a){function b(b){var c=b.data.node,d=g.settings.embedObjects({prefix:a});if(d("enableHovering")){var h=(f[c.type]||f.def).create(c,g.domElements.nodes[c.id],g.measurementCanvas,d);g.domElements.hovers[c.id]=h,g.domElements.groups.hovers.appendChild(h),e=c}}function c(b){var c=b.data.node;g.settings.embedObjects({prefix:a})("enableHovering")&&(g.domElements.groups.hovers.removeChild(g.domElements.hovers[c.id]),e=null,delete g.domElements.hovers[c.id],g.domElements.groups.nodes.appendChild(g.domElements.nodes[c.id]))}function d(){if(e){var b=g.settings.embedObjects({prefix:a});g.domElements.groups.hovers.removeChild(g.domElements.hovers[e.id]),delete g.domElements.hovers[e.id];var c=(f[e.type]||f.def).create(e,g.domElements.nodes[e.id],g.measurementCanvas,b);g.domElements.hovers[e.id]=c,g.domElements.groups.hovers.appendChild(c)}}var e,f=sigma.svg.hovers,g=this;this.bind("overNode",b),this.bind("outNode",c),this.bind("render",d)},sigma.renderers.svg.prototype.resize=function(b,c){var d=this.width,e=this.height,f=1;return b!==a&&c!==a?(this.width=b,this.height=c):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,b=this.width,c=this.height),d===this.width&&e===this.height||(this.domElements.graph.style.width=b+"px",this.domElements.graph.style.height=c+"px","svg"===this.domElements.graph.tagName.toLowerCase()&&(this.domElements.graph.setAttribute("width",b*f),this.domElements.graph.setAttribute("height",c*f))),this},sigma.utils.pkg("sigma.svg.nodes"),sigma.utils.pkg("sigma.svg.edges"),sigma.utils.pkg("sigma.svg.labels")}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers");var b,c=!!a.WebGLRenderingContext;if(c){b=document.createElement("canvas");try{c=!(!b.getContext("webgl")&&!b.getContext("experimental-webgl"))}catch(a){c=!1}}sigma.renderers.def=c?sigma.renderers.webgl:sigma.renderers.canvas}(this),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(a,b,c,d,e){var f=sigma.utils.floatColor(a.color||e("defaultNodeColor"));b[c++]=a[d+"x"],b[c++]=a[d+"y"],b[c++]=a[d+"size"],b[c++]=f,b[c++]=0,b[c++]=a[d+"x"],b[c++]=a[d+"y"],b[c++]=a[d+"size"],b[c++]=f,b[c++]=2*Math.PI/3,b[c++]=a[d+"x"],b[c++]=a[d+"y"],b[c++]=a[d+"size"],b[c++]=f,b[c++]=4*Math.PI/3},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_position"),g=a.getAttribLocation(b,"a_size"),h=a.getAttribLocation(b,"a_color"),i=a.getAttribLocation(b,"a_angle"),j=a.getUniformLocation(b,"u_resolution"),k=a.getUniformLocation(b,"u_matrix"),l=a.getUniformLocation(b,"u_ratio"),m=a.getUniformLocation(b,"u_scale");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.DYNAMIC_DRAW),a.uniform2f(j,d.width,d.height),a.uniform1f(l,1/Math.pow(d.ratio,d.settings("nodesPowRatio"))),a.uniform1f(m,d.scalingRatio),a.uniformMatrix3fv(k,!1,d.matrix),a.enableVertexAttribArray(f),a.enableVertexAttribArray(g),a.enableVertexAttribArray(h),a.enableVertexAttribArray(i),a.vertexAttribPointer(f,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(g,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(h,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),a.vertexAttribPointer(i,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),a.drawArrays(a.TRIANGLES,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(a,b,c,d,e){b[c++]=a[d+"x"],b[c++]=a[d+"y"],b[c++]=a[d+"size"],b[c++]=sigma.utils.floatColor(a.color||e("defaultNodeColor"))},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_position"),g=a.getAttribLocation(b,"a_size"),h=a.getAttribLocation(b,"a_color"),i=a.getUniformLocation(b,"u_resolution"),j=a.getUniformLocation(b,"u_matrix"),k=a.getUniformLocation(b,"u_ratio"),l=a.getUniformLocation(b,"u_scale");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.DYNAMIC_DRAW),a.uniform2f(i,d.width,d.height),a.uniform1f(k,1/Math.pow(d.ratio,d.settings("nodesPowRatio"))),a.uniform1f(l,d.scalingRatio),a.uniformMatrix3fv(j,!1,d.matrix),a.enableVertexAttribArray(f),a.enableVertexAttribArray(g),a.enableVertexAttribArray(h),a.vertexAttribPointer(f,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(g,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(h,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),a.drawArrays(a.POINTS,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","void main(void) {","float border = 0.01;","float radius = 0.5;","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_PointCoord - vec2(0.5, 0.5);","float dist = radius - sqrt(m.x * m.x + m.y * m.y);","float t = 0.0;","if (dist > border)","t = 1.0;","else if (dist > 0.0)","t = dist / border;","gl_FragColor = mix(color0, color, t);","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(a,b,c,d,e,f,g){var h=(a[f+"size"]||1)/2,i=b[f+"x"],j=b[f+"y"],k=c[f+"x"],l=c[f+"y"],m=a.color;if(!m)switch(g("edgeColor")){case"source":m=b.color||g("defaultNodeColor");break;case"target":m=c.color||g("defaultNodeColor");break;default:m=g("defaultEdgeColor")}m=sigma.utils.floatColor(m),d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=0,d[e++]=m,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=1,d[e++]=m,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=0,d[e++]=m,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=0,d[e++]=m,d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=1,d[e++]=m,d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=0,d[e++]=m},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_color"),g=a.getAttribLocation(b,"a_position1"),h=a.getAttribLocation(b,"a_position2"),i=a.getAttribLocation(b,"a_thickness"),j=a.getAttribLocation(b,"a_minus"),k=a.getUniformLocation(b,"u_resolution"),l=a.getUniformLocation(b,"u_matrix"),m=a.getUniformLocation(b,"u_matrixHalfPi"),n=a.getUniformLocation(b,"u_matrixHalfPiMinus"),o=a.getUniformLocation(b,"u_ratio"),p=a.getUniformLocation(b,"u_scale");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.STATIC_DRAW),a.uniform2f(k,d.width,d.height),a.uniform1f(o,d.ratio/Math.pow(d.ratio,d.settings("edgesPowRatio"))),a.uniform1f(p,d.scalingRatio),a.uniformMatrix3fv(l,!1,d.matrix),a.uniformMatrix2fv(m,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),a.uniformMatrix2fv(n,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),a.enableVertexAttribArray(f),a.enableVertexAttribArray(g),a.enableVertexAttribArray(h),a.enableVertexAttribArray(i),a.enableVertexAttribArray(j),a.vertexAttribPointer(g,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(h,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(i,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),a.vertexAttribPointer(j,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),a.vertexAttribPointer(f,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),a.drawArrays(a.TRIANGLES,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(a,b,c,d,e,f,g){var h=(a[f+"size"],b[f+"x"]),i=b[f+"y"],j=c[f+"x"],k=c[f+"y"],l=a.color;if(!l)switch(g("edgeColor")){case"source":l=b.color||g("defaultNodeColor");break;case"target":l=c.color||g("defaultNodeColor");break;default:l=g("defaultEdgeColor")}l=sigma.utils.floatColor(l),d[e++]=h,d[e++]=i,d[e++]=l,d[e++]=j,d[e++]=k,d[e++]=l},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_color"),g=a.getAttribLocation(b,"a_position"),h=a.getUniformLocation(b,"u_resolution"),i=a.getUniformLocation(b,"u_matrix");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.DYNAMIC_DRAW),a.uniform2f(h,d.width,d.height),a.uniformMatrix3fv(i,!1,d.matrix),a.enableVertexAttribArray(g),a.enableVertexAttribArray(f),a.vertexAttribPointer(g,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(f,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.lineWidth(3),a.drawArrays(a.LINES,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(a,b,c,d,e,f,g){var h=(a[f+"size"]||1)/2,i=b[f+"x"],j=b[f+"y"],k=c[f+"x"],l=c[f+"y"],m=c[f+"size"],n=a.color;if(!n)switch(g("edgeColor")){case"source":n=b.color||g("defaultNodeColor");break;case"target":n=c.color||g("defaultNodeColor");break;default:n=g("defaultEdgeColor")}n=sigma.utils.floatColor(n),d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=m,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=1,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=m,d[e++]=0,d[e++]=1,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=m,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=1,d[e++]=-1,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=1,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=1,d[e++]=1,d[e++]=n},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_pos1"),g=a.getAttribLocation(b,"a_pos2"),h=a.getAttribLocation(b,"a_thickness"),i=a.getAttribLocation(b,"a_tSize"),j=a.getAttribLocation(b,"a_delay"),k=a.getAttribLocation(b,"a_minus"),l=a.getAttribLocation(b,"a_head"),m=a.getAttribLocation(b,"a_headPosition"),n=a.getAttribLocation(b,"a_color"),o=a.getUniformLocation(b,"u_resolution"),p=a.getUniformLocation(b,"u_matrix"),q=a.getUniformLocation(b,"u_matrixHalfPi"),r=a.getUniformLocation(b,"u_matrixHalfPiMinus"),s=a.getUniformLocation(b,"u_ratio"),t=a.getUniformLocation(b,"u_nodeRatio"),u=a.getUniformLocation(b,"u_arrowHead"),v=a.getUniformLocation(b,"u_scale");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.STATIC_DRAW),a.uniform2f(o,d.width,d.height),a.uniform1f(s,d.ratio/Math.pow(d.ratio,d.settings("edgesPowRatio"))),a.uniform1f(t,Math.pow(d.ratio,d.settings("nodesPowRatio"))/d.ratio),a.uniform1f(u,5),a.uniform1f(v,d.scalingRatio),a.uniformMatrix3fv(p,!1,d.matrix),a.uniformMatrix2fv(q,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),a.uniformMatrix2fv(r,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),a.enableVertexAttribArray(f),a.enableVertexAttribArray(g),a.enableVertexAttribArray(h),a.enableVertexAttribArray(i),a.enableVertexAttribArray(j),a.enableVertexAttribArray(k),a.enableVertexAttribArray(l),a.enableVertexAttribArray(m),a.enableVertexAttribArray(n),a.vertexAttribPointer(f,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(g,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(h,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),a.vertexAttribPointer(i,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),a.vertexAttribPointer(j,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),a.vertexAttribPointer(k,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),a.vertexAttribPointer(l,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),a.vertexAttribPointer(m,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),a.vertexAttribPointer(n,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),a.drawArrays(a.TRIANGLES,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.labels"),sigma.canvas.labels.def=function(a,b,c){var d,e=c("prefix")||"",f=a[e+"size"];f<c("labelThreshold")||a.label&&"string"==typeof a.label&&(d="fixed"===c("labelSize")?c("defaultLabelSize"):c("labelSizeRatio")*f,b.font=(c("fontStyle")?c("fontStyle")+" ":"")+d+"px "+c("font"),b.fillStyle="node"===c("labelColor")?a.color||c("defaultNodeColor"):c("defaultLabelColor"),b.fillText(a.label,Math.round(a[e+"x"]+f+3),Math.round(a[e+"y"]+d/3)))}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.hovers"),sigma.canvas.hovers.def=function(a,b,c){var d,e,f,g,h,i=c("hoverFontStyle")||c("fontStyle"),j=c("prefix")||"",k=a[j+"size"],l="fixed"===c("labelSize")?c("defaultLabelSize"):c("labelSizeRatio")*k;b.font=(i?i+" ":"")+l+"px "+(c("hoverFont")||c("font")),b.beginPath(),b.fillStyle="node"===c("labelHoverBGColor")?a.color||c("defaultNodeColor"):c("defaultHoverLabelBGColor"),a.label&&c("labelHoverShadow")&&(b.shadowOffsetX=0,b.shadowOffsetY=0,b.shadowBlur=8,b.shadowColor=c("labelHoverShadowColor")),a.label&&"string"==typeof a.label&&(d=Math.round(a[j+"x"]-l/2-2),e=Math.round(a[j+"y"]-l/2-2),f=Math.round(b.measureText(a.label).width+l/2+k+7),g=Math.round(l+4),h=Math.round(l/2+2),b.moveTo(d,e+h),b.arcTo(d,e,d+h,e,h),b.lineTo(d+f,e),b.lineTo(d+f,e+g),b.lineTo(d+h,e+g),b.arcTo(d,e+g,d,e+g-h,h),b.lineTo(d,e+h),b.closePath(),b.fill(),b.shadowOffsetX=0,b.shadowOffsetY=0,b.shadowBlur=0),c("borderSize")>0&&(b.beginPath(),b.fillStyle="node"===c("nodeBorderColor")?a.color||c("defaultNodeColor"):c("defaultNodeBorderColor"),b.arc(a[j+"x"],a[j+"y"],k+c("borderSize"),0,2*Math.PI,!0),b.closePath(),b.fill()),(sigma.canvas.nodes[a.type]||sigma.canvas.nodes.def)(a,b,c),a.label&&"string"==typeof a.label&&(b.fillStyle="node"===c("labelHoverColor")?a.color||c("defaultNodeColor"):c("defaultLabelHoverColor"),b.fillText(a.label,Math.round(a[j+"x"]+k+3),Math.round(a[j+"y"]+l/3)))}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.canvas.nodes"),sigma.canvas.nodes.def=function(a,b,c){var d=c("prefix")||"";b.fillStyle=a.color||c("defaultNodeColor"),b.beginPath(),b.arc(a[d+"x"],a[d+"y"],a[d+"size"],0,2*Math.PI,!0),b.closePath(),b.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.def=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.arrow=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=e("edgeColor"),i=e("defaultNodeColor"),j=e("defaultEdgeColor"),k=a[g+"size"]||1,l=c[g+"size"],m=b[g+"x"],n=b[g+"y"],o=c[g+"x"],p=c[g+"y"],q=Math.max(2.5*k,e("minArrowSize")),r=Math.sqrt(Math.pow(o-m,2)+Math.pow(p-n,2)),s=m+(o-m)*(r-q-l)/r,t=n+(p-n)*(r-q-l)/r,u=(o-m)*q/r,v=(p-n)*q/r;if(!f)switch(h){case"source":f=b.color||i;break;case"target":f=c.color||i;break;default:f=j}d.strokeStyle=f,d.lineWidth=k,d.beginPath(),d.moveTo(m,n),d.lineTo(s,t),d.stroke(),d.fillStyle=f,d.beginPath(),d.moveTo(s+u,t+v),d.lineTo(s+.6*v,t-.6*u),d.lineTo(s-.6*v,t+.6*u),d.lineTo(s+u,t+v),d.closePath(),d.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.def=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,h*=e("edgeHoverSizeRatio"),d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curve=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=e("edgeHoverSizeRatio")*(a[g+"size"]||1),i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor"),l={},m=b[g+"size"],n=b[g+"x"],o=b[g+"y"],p=c[g+"x"],q=c[g+"y"];if(l=b.id===c.id?sigma.utils.getSelfLoopControlPoints(n,o,m):sigma.utils.getQuadraticControlPoint(n,o,p,q),!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(n,o),b.id===c.id?d.bezierCurveTo(l.x1,l.y1,l.x2,l.y2,p,q):d.quadraticCurveTo(l.x,l.y,p,q),d.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.arrow=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=e("edgeColor"),i=e("defaultNodeColor"),j=e("defaultEdgeColor"),k=a[g+"size"]||1,l=c[g+"size"],m=b[g+"x"],n=b[g+"y"],o=c[g+"x"],p=c[g+"y"];k=a.hover?e("edgeHoverSizeRatio")*k:k;var q=2.5*k,r=Math.sqrt(Math.pow(o-m,2)+Math.pow(p-n,2)),s=m+(o-m)*(r-q-l)/r,t=n+(p-n)*(r-q-l)/r,u=(o-m)*q/r,v=(p-n)*q/r;if(!f)switch(h){case"source":f=b.color||i;break;case"target":f=c.color||i;break;default:f=j}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,d.strokeStyle=f,d.lineWidth=k,d.beginPath(),d.moveTo(m,n),d.lineTo(s,t),d.stroke(),d.fillStyle=f,d.beginPath(),d.moveTo(s+u,t+v),d.lineTo(s+.6*v,t-.6*u),d.lineTo(s-.6*v,t+.6*u),d.lineTo(s+u,t+v),d.closePath(),d.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curvedArrow=function(a,b,c,d,e){var f,g,h,i,j,k,l=a.color,m=e("prefix")||"",n=e("edgeColor"),o=e("defaultNodeColor"),p=e("defaultEdgeColor"),q={},r=e("edgeHoverSizeRatio")*(a[m+"size"]||1),s=c[m+"size"],t=b[m+"x"],u=b[m+"y"],v=c[m+"x"],w=c[m+"y"];if(q=b.id===c.id?sigma.utils.getSelfLoopControlPoints(t,u,s):sigma.utils.getQuadraticControlPoint(t,u,v,w),b.id===c.id?(f=Math.sqrt(Math.pow(v-q.x1,2)+Math.pow(w-q.y1,2)),g=2.5*r,h=q.x1+(v-q.x1)*(f-g-s)/f,i=q.y1+(w-q.y1)*(f-g-s)/f,j=(v-q.x1)*g/f,k=(w-q.y1)*g/f):(f=Math.sqrt(Math.pow(v-q.x,2)+Math.pow(w-q.y,2)),g=2.5*r,h=q.x+(v-q.x)*(f-g-s)/f,i=q.y+(w-q.y)*(f-g-s)/f,j=(v-q.x)*g/f,k=(w-q.y)*g/f),!l)switch(n){case"source":l=b.color||o;break;case"target":l=c.color||o;break;default:l=p}l="edge"===e("edgeHoverColor")?a.hover_color||l:a.hover_color||e("defaultEdgeHoverColor")||l,d.strokeStyle=l,d.lineWidth=r,d.beginPath(),d.moveTo(t,u),b.id===c.id?d.bezierCurveTo(q.x2,q.y2,q.x1,q.y1,h,i):d.quadraticCurveTo(q.x,q.y,h,i),d.stroke(),d.fillStyle=l,d.beginPath(),d.moveTo(h+j,i+k),d.lineTo(h+.6*k,i-.6*j),d.lineTo(h-.6*k,i+.6*j),d.lineTo(h+j,i+k),d.closePath(),d.fill()}}(),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.extremities"),sigma.canvas.extremities.def=function(a,b,c,d,e){(sigma.canvas.hovers[b.type]||sigma.canvas.hovers.def)(b,d,e),(sigma.canvas.hovers[c.type]||sigma.canvas.hovers.def)(c,d,e)}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.svg.utils"),sigma.svg.utils={show:function(a){return a.style.display="",this},hide:function(a){return a.style.display="none",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.nodes"),sigma.svg.nodes.def={create:function(a,b){var c=(b("prefix"),document.createElementNS(b("xmlns"),"circle"));return c.setAttributeNS(null,"data-node-id",a.id),c.setAttributeNS(null,"class",b("classPrefix")+"-node"),c.setAttributeNS(null,"fill",a.color||b("defaultNodeColor")),c},update:function(a,b,c){var d=c("prefix")||"";return b.setAttributeNS(null,"cx",a[d+"x"]),b.setAttributeNS(null,"cy",a[d+"y"]),b.setAttributeNS(null,"r",a[d+"size"]),c("freeStyle")||b.setAttributeNS(null,"fill",a.color||c("defaultNodeColor")),b.style.display="",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.edges"),sigma.svg.edges.def={create:function(a,b,c,d){var e=a.color,f=(d("prefix"),d("edgeColor")),g=d("defaultNodeColor"),h=d("defaultEdgeColor");if(!e)switch(f){case"source":e=b.color||g;break;case"target":e=c.color||g;break;default:e=h}var i=document.createElementNS(d("xmlns"),"line");return i.setAttributeNS(null,"data-edge-id",a.id),i.setAttributeNS(null,"class",d("classPrefix")+"-edge"),i.setAttributeNS(null,"stroke",e),i},update:function(a,b,c,d,e){var f=e("prefix")||"";return b.setAttributeNS(null,"stroke-width",a[f+"size"]||1),b.setAttributeNS(null,"x1",c[f+"x"]),b.setAttributeNS(null,"y1",c[f+"y"]),b.setAttributeNS(null,"x2",d[f+"x"]),b.setAttributeNS(null,"y2",d[f+"y"]),b.style.display="",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.edges"),sigma.svg.edges.curve={create:function(a,b,c,d){var e=a.color,f=(d("prefix"),d("edgeColor")),g=d("defaultNodeColor"),h=d("defaultEdgeColor");if(!e)switch(f){case"source":e=b.color||g;break;case"target":e=c.color||g;break;default:e=h}var i=document.createElementNS(d("xmlns"),"path");return i.setAttributeNS(null,"data-edge-id",a.id),i.setAttributeNS(null,"class",d("classPrefix")+"-edge"),i.setAttributeNS(null,"stroke",e),i},update:function(a,b,c,d,e){var f=e("prefix")||"";b.setAttributeNS(null,"stroke-width",a[f+"size"]||1);var g=(c[f+"x"]+d[f+"x"])/2+(d[f+"y"]-c[f+"y"])/4,h=(c[f+"y"]+d[f+"y"])/2+(c[f+"x"]-d[f+"x"])/4,i="M"+c[f+"x"]+","+c[f+"y"]+" Q"+g+","+h+" "+d[f+"x"]+","+d[f+"y"];return b.setAttributeNS(null,"d",i),b.setAttributeNS(null,"fill","none"),b.style.display="",this}}}(),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.svg.labels"),sigma.svg.labels.def={create:function(a,b){var c=b("prefix")||"",d=a[c+"size"],e=document.createElementNS(b("xmlns"),"text"),f="fixed"===b("labelSize")?b("defaultLabelSize"):b("labelSizeRatio")*d,g="node"===b("labelColor")?a.color||b("defaultNodeColor"):b("defaultLabelColor");return e.setAttributeNS(null,"data-label-target",a.id),e.setAttributeNS(null,"class",b("classPrefix")+"-label"),e.setAttributeNS(null,"font-size",f),e.setAttributeNS(null,"font-family",b("font")),e.setAttributeNS(null,"fill",g),e.innerHTML=a.label,e.textContent=a.label,e},update:function(a,b,c){var d=c("prefix")||"",e=a[d+"size"],f="fixed"===c("labelSize")?c("defaultLabelSize"):c("labelSizeRatio")*e;if((c("forceLabels")||!(e<c("labelThreshold")))&&"string"==typeof a.label)return b.setAttributeNS(null,"x",Math.round(a[d+"x"]+e+3)),b.setAttributeNS(null,"y",Math.round(a[d+"y"]+f/3)),b.style.display="",this}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.svg.hovers"),sigma.svg.hovers.def={create:function(a,b,c,d){var e,f,g,h=(d("hoverFontStyle")||d("fontStyle"),d("prefix")||""),i=a[h+"size"],j="fixed"===d("labelSize")?d("defaultLabelSize"):d("labelSizeRatio")*i,k="node"===d("labelHoverColor")?a.color||d("defaultNodeColor"):d("defaultLabelHoverColor"),l=document.createElementNS(d("xmlns"),"g"),m=document.createElementNS(d("xmlns"),"rect"),n=document.createElementNS(d("xmlns"),"circle"),o=document.createElementNS(d("xmlns"),"text");return l.setAttributeNS(null,"class",d("classPrefix")+"-hover"),l.setAttributeNS(null,"data-node-id",a.id),"string"==typeof a.label&&(o.innerHTML=a.label,o.textContent=a.label,o.setAttributeNS(null,"class",d("classPrefix")+"-hover-label"),o.setAttributeNS(null,"font-size",j),o.setAttributeNS(null,"font-family",d("font")),o.setAttributeNS(null,"fill",k),o.setAttributeNS(null,"x",Math.round(a[h+"x"]+i+3)),o.setAttributeNS(null,"y",Math.round(a[h+"y"]+j/3)),Math.round(a[h+"x"]-j/2-2),Math.round(a[h+"y"]-j/2-2),e=Math.round(c.measureText(a.label).width+j/2+i+9),f=Math.round(j+4),g=Math.round(j/2+2),n.setAttributeNS(null,"class",d("classPrefix")+"-hover-area"),n.setAttributeNS(null,"fill","#fff"),n.setAttributeNS(null,"cx",a[h+"x"]),n.setAttributeNS(null,"cy",a[h+"y"]),n.setAttributeNS(null,"r",g),m.setAttributeNS(null,"class",d("classPrefix")+"-hover-area"),m.setAttributeNS(null,"fill","#fff"),m.setAttributeNS(null,"x",a[h+"x"]+g/4),m.setAttributeNS(null,"y",a[h+"y"]-g),m.setAttributeNS(null,"width",e),m.setAttributeNS(null,"height",f)),l.appendChild(n),l.appendChild(m),l.appendChild(o),l.appendChild(b),l}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.utils.pkg("sigma.utils"),sigma.middlewares.rescale=function(a,b,c){var d,e,f,g,h,i,j,k,l=this.graph.nodes(),m=this.graph.edges(),n=this.settings.embedObjects(c||{}),o=n("bounds")||sigma.utils.getBoundaries(this.graph,a,!0),p=o.minX,q=o.minY,r=o.maxX,s=o.maxY,t=o.sizeMax,u=o.weightMax,v=n("width")||1,w=n("height")||1,x=n("autoRescale"),y={nodePosition:1,nodeSize:1,edgeSize:1};for(x instanceof Array||(x=["nodePosition","nodeSize","edgeSize"]),d=0,e=x.length;d<e;d++)if(!y[x[d]])throw new Error('The rescale setting "'+x[d]+'" is not recognized.');var z=~x.indexOf("nodePosition"),A=~x.indexOf("nodeSize"),B=~x.indexOf("edgeSize");for(j="outside"===n("scalingMode")?Math.max(v/Math.max(r-p,1),w/Math.max(s-q,1)):Math.min(v/Math.max(r-p,1),w/Math.max(s-q,1)),k=(n("rescaleIgnoreSize")?0:(n("maxNodeSize")||t)/j)+(n("sideMargin")||0),r+=k,p-=k,s+=k,q-=k,j="outside"===n("scalingMode")?Math.max(v/Math.max(r-p,1),w/Math.max(s-q,1)):Math.min(v/Math.max(r-p,1),w/Math.max(s-q,1)),n("maxNodeSize")||n("minNodeSize")?n("maxNodeSize")===n("minNodeSize")?(f=0,g=+n("maxNodeSize")):(f=(n("maxNodeSize")-n("minNodeSize"))/t,g=+n("minNodeSize")):(f=1,g=0),n("maxEdgeSize")||n("minEdgeSize")?n("maxEdgeSize")===n("minEdgeSize")?(h=0,i=+n("minEdgeSize")):(h=(n("maxEdgeSize")-n("minEdgeSize"))/u,i=+n("minEdgeSize")):(h=1,i=0),d=0,e=m.length;d<e;d++)m[d][b+"size"]=m[d][a+"size"]*(B?h:1)+(B?i:0);for(d=0,e=l.length;d<e;d++)l[d][b+"size"]=l[d][a+"size"]*(A?f:1)+(A?g:0),l[d][b+"x"]=(l[d][a+"x"]-(r+p)/2)*(z?j:1),l[d][b+"y"]=(l[d][a+"y"]-(s+q)/2)*(z?j:1)},sigma.utils.getBoundaries=function(a,b,c){var d,e,f=a.edges(),g=a.nodes(),h=-1/0,i=-1/0,j=1/0,k=1/0,l=-1/0,m=-1/0;if(c)for(d=0,e=f.length;d<e;d++)h=Math.max(f[d][b+"size"],h);for(d=0,e=g.length;d<e;d++)i=Math.max(g[d][b+"size"],i),l=Math.max(g[d][b+"x"],l),j=Math.min(g[d][b+"x"],j),m=Math.max(g[d][b+"y"],m),k=Math.min(g[d][b+"y"],k);return h=h||1,i=i||1,{weightMax:h,sizeMax:i,minX:j,minY:k,maxX:l,maxY:m}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.middlewares.copy=function(a,b){var c,d,e;if(b+""!=a+""){for(e=this.graph.nodes(),c=0,d=e.length;c<d;c++)e[c][b+"x"]=e[c][a+"x"],e[c][b+"y"]=e[c][a+"y"],e[c][b+"size"]=e[c][a+"size"];for(e=this.graph.edges(),c=0,d=e.length;c<d;c++)e[c][b+"size"]=e[c][a+"size"]}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc.animation.running");var b=function(){var a=0;return function(){return""+ ++a}}();sigma.misc.animation.camera=function(c,d,e){if(!(c instanceof sigma.classes.camera&&"object"==typeof d&&d))throw"animation.camera: Wrong arguments.";if("number"!=typeof d.x&&"number"!=typeof d.y&&"number"!=typeof d.ratio&&"number"!=typeof d.angle)throw"There must be at least one valid coordinate in the given val.";var f,g,h,i,j,k=e||{},l=sigma.utils.dateNow();return j={x:c.x,y:c.y,ratio:c.ratio,angle:c.angle},k.duration,i="function"!=typeof k.easing?sigma.utils.easings[k.easing||"quadraticInOut"]:k.easing,f=function(){var b,e=k.duration?(sigma.utils.dateNow()-l)/k.duration:1;e>=1?(c.isAnimated=!1,c.goTo({x:d.x!==a?d.x:j.x,y:d.y!==a?d.y:j.y,ratio:d.ratio!==a?d.ratio:j.ratio,angle:d.angle!==a?d.angle:j.angle}),cancelAnimationFrame(g),delete sigma.misc.animation.running[g],"function"==typeof k.onComplete&&k.onComplete()):(b=i(e),c.isAnimated=!0,c.goTo({x:d.x!==a?j.x+(d.x-j.x)*b:j.x,y:d.y!==a?j.y+(d.y-j.y)*b:j.y,ratio:d.ratio!==a?j.ratio+(d.ratio-j.ratio)*b:j.ratio,angle:d.angle!==a?j.angle+(d.angle-j.angle)*b:j.angle}),"function"==typeof k.onNewFrame&&k.onNewFrame(),h.frameId=requestAnimationFrame(f))},g=b(),h={frameId:requestAnimationFrame(f),target:c,type:"camera",options:k,fn:f},sigma.misc.animation.running[g]=h,g},sigma.misc.animation.kill=function(a){if(1!==arguments.length||"number"!=typeof a)throw"animation.kill: Wrong arguments.";var b=sigma.misc.animation.running[a];return b&&(cancelAnimationFrame(a),delete sigma.misc.animation.running[b.frameId],"camera"===b.type&&(b.target.isAnimated=!1),"function"==typeof(b.options||{}).onComplete&&b.options.onComplete()),this},sigma.misc.animation.killAll=function(a){var b,c,d=0,e="string"==typeof a?a:null,f="object"==typeof a?a:null,g=sigma.misc.animation.running;for(c in g)e&&g[c].type!==e||f&&g[c].target!==f||(b=sigma.misc.animation.running[c],cancelAnimationFrame(b.frameId),delete sigma.misc.animation.running[c],"camera"===b.type&&(b.target.isAnimated=!1),d++,"function"==typeof(b.options||{}).onComplete&&b.options.onComplete());return d},sigma.misc.animation.has=function(a){var b,c="string"==typeof a?a:null,d="object"==typeof a?a:null,e=sigma.misc.animation.running;for(b in e)if(!(c&&e[b].type!==c||d&&e[b].target!==d))return!0;return!1}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindEvents=function(b){function c(a){a&&(h="x"in a.data?a.data.x:h,i="y"in a.data?a.data.y:i);var c,d,e,f,g,k,l,m,n=[],o=h+j.width/2,p=i+j.height/2,q=j.camera.cameraPosition(h,i),r=j.camera.quadtree.point(q.x,q.y);if(r.length)for(c=0,e=r.length;c<e;c++)if(f=r[c],g=f[b+"x"],k=f[b+"y"],l=f[b+"size"],!f.hidden&&o>g-l&&o<g+l&&p>k-l&&p<k+l&&Math.sqrt(Math.pow(o-g,2)+Math.pow(p-k,2))<l){for(m=!1,d=0;d<n.length;d++)if(f.size>n[d].size){n.splice(d,0,f),m=!0;break}m||n.push(f)}return n}function d(c){function d(a,b){for(r=!1,g=0;g<a.length;g++)if(b.size>a[g].size){a.splice(g,0,b),r=!0;break}r||a.push(b)}if(!j.settings("enableEdgeHovering"))return[];var e=sigma.renderers.canvas&&j instanceof sigma.renderers.canvas;if(!e)throw new Error("The edge events feature is not compatible with the WebGL renderer");c&&(h="x"in c.data?c.data.x:h,i="y"in c.data?c.data.y:i);var f,g,k,l,m,n,o,p,q,r,s=j.settings("edgeHoverPrecision"),t={},u=[],v=h+j.width/2,w=i+j.height/2,x=j.camera.cameraPosition(h,i),y=[];if(e){var z=j.camera.quadtree.area(j.camera.getRectangle(j.width,j.height));for(l=z,f=0,k=l.length;f<k;f++)t[l[f].id]=l[f]}if(j.camera.edgequadtree!==a&&(y=j.camera.edgequadtree.point(x.x,x.y)),y.length)for(f=0,k=y.length;f<k;f++)m=y[f],o=j.graph.nodes(m.source),p=j.graph.nodes(m.target),n=m[b+"size"]||m["read_"+b+"size"],!m.hidden&&!o.hidden&&!p.hidden&&(!e||t[m.source]||t[m.target])&&sigma.utils.getDistance(o[b+"x"],o[b+"y"],v,w)>o[b+"size"]&&sigma.utils.getDistance(p[b+"x"],p[b+"y"],v,w)>p[b+"size"]&&("curve"==m.type||"curvedArrow"==m.type?o.id===p.id?(q=sigma.utils.getSelfLoopControlPoints(o[b+"x"],o[b+"y"],o[b+"size"]),sigma.utils.isPointOnBezierCurve(v,w,o[b+"x"],o[b+"y"],p[b+"x"],p[b+"y"],q.x1,q.y1,q.x2,q.y2,Math.max(n,s))&&d(u,m)):(q=sigma.utils.getQuadraticControlPoint(o[b+"x"],o[b+"y"],p[b+"x"],p[b+"y"]),sigma.utils.isPointOnQuadraticCurve(v,w,o[b+"x"],o[b+"y"],p[b+"x"],p[b+"y"],q.x,q.y,Math.max(n,s))&&d(u,m)):sigma.utils.isPointOnSegment(v,w,o[b+"x"],o[b+"y"],p[b+"x"],p[b+"y"],Math.max(n,s))&&d(u,m));return u}function e(a){function b(a){j.settings("eventsEnabled")&&(j.dispatchEvent("click",a.data),i=c(a),k=d(a),i.length?(j.dispatchEvent("clickNode",{node:i[0],captor:a.data}),j.dispatchEvent("clickNodes",{node:i,captor:a.data})):k.length?(j.dispatchEvent("clickEdge",{edge:k[0],captor:a.data}),j.dispatchEvent("clickEdges",{edge:k,captor:a.data})):j.dispatchEvent("clickStage",{captor:a.data}))}function e(a){j.settings("eventsEnabled")&&(j.dispatchEvent("doubleClick",a.data),i=c(a),k=d(a),i.length?(j.dispatchEvent("doubleClickNode",{node:i[0],captor:a.data}),j.dispatchEvent("doubleClickNodes",{node:i,captor:a.data})):k.length?(j.dispatchEvent("doubleClickEdge",{edge:k[0],captor:a.data}),j.dispatchEvent("doubleClickEdges",{edge:k,captor:a.data})):j.dispatchEvent("doubleClickStage",{captor:a.data}))}function f(a){j.settings("eventsEnabled")&&(j.dispatchEvent("rightClick",a.data),i=c(a),k=d(a),i.length?(j.dispatchEvent("rightClickNode",{node:i[0],captor:a.data}),j.dispatchEvent("rightClickNodes",{node:i,captor:a.data})):k.length?(j.dispatchEvent("rightClickEdge",{edge:k[0],captor:a.data}),j.dispatchEvent("rightClickEdges",{edge:k,captor:a.data})):j.dispatchEvent("rightClickStage",{captor:a.data}))}function g(a){if(j.settings("eventsEnabled")){var b,c,d,e,f=[],g=[];for(b in l)f.push(l[b]);for(l={},c=0,d=f.length;c<d;c++)j.dispatchEvent("outNode",{node:f[c],captor:a.data});for(f.length&&j.dispatchEvent("outNodes",{nodes:f,captor:a.data}),m={},c=0,e=g.length;c<e;c++)j.dispatchEvent("outEdge",{edge:g[c],captor:a.data});g.length&&j.dispatchEvent("outEdges",{edges:g,captor:a.data})}}function h(a){if(j.settings("eventsEnabled")){i=c(a),k=d(a);var b,e,f,g,h=[],n=[],o={},p=i.length,q=[],r=[],s={},t=k.length;for(b=0;b<p;b++)f=i[b],o[f.id]=f,l[f.id]||(n.push(f),l[f.id]=f);for(e in l)o[e]||(h.push(l[e]),delete l[e]);for(b=0,p=n.length;b<p;b++)j.dispatchEvent("overNode",{node:n[b],captor:a.data});for(b=0,p=h.length;b<p;b++)j.dispatchEvent("outNode",{node:h[b],captor:a.data});for(n.length&&j.dispatchEvent("overNodes",{nodes:n,captor:a.data}),h.length&&j.dispatchEvent("outNodes",{nodes:h,captor:a.data}),b=0;b<t;b++)g=k[b],s[g.id]=g,m[g.id]||(r.push(g),m[g.id]=g);for(e in m)s[e]||(q.push(m[e]),delete m[e]);for(b=0,t=r.length;b<t;b++)j.dispatchEvent("overEdge",{edge:r[b],captor:a.data});for(b=0,t=q.length;b<t;b++)j.dispatchEvent("outEdge",{edge:q[b],captor:a.data});r.length&&j.dispatchEvent("overEdges",{edges:r,captor:a.data}),q.length&&j.dispatchEvent("outEdges",{edges:q,captor:a.data})}}var i,k,l={},m={};a.bind("click",b),a.bind("mousedown",h),a.bind("mouseup",h),a.bind("mousemove",h),a.bind("mouseout",g),a.bind("doubleclick",e),a.bind("rightclick",f),j.bind("render",h)}var f,g,h,i,j=this;for(f=0,g=this.captors.length;f<g;f++)e(this.captors[f])}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindDOMEvents=function(a){function b(a){this.attr=function(b){return a.getAttributeNS(null,b)},this.tag=a.tagName,this.class=this.attr("class"),this.id=this.attr("id"),this.isNode=function(){return!!~this.class.indexOf(g.settings("classPrefix")+"-node")},this.isEdge=function(){return!!~this.class.indexOf(g.settings("classPrefix")+"-edge")},this.isHover=function(){return!!~this.class.indexOf(g.settings("classPrefix")+"-hover")}}function c(a){if(g.settings("eventsEnabled")){g.dispatchEvent("click",a);var c=new b(a.target);c.isNode()?g.dispatchEvent("clickNode",{node:h.nodes(c.attr("data-node-id"))}):g.dispatchEvent("clickStage"),a.preventDefault(),a.stopPropagation()}}function d(a){if(g.settings("eventsEnabled")){g.dispatchEvent("doubleClick",a);var c=new b(a.target);c.isNode()?g.dispatchEvent("doubleClickNode",{node:h.nodes(c.attr("data-node-id"))}):g.dispatchEvent("doubleClickStage"),a.preventDefault(),a.stopPropagation()}}function e(a){var c=a.toElement||a.target;if(g.settings("eventsEnabled")&&c){var d=new b(c);if(d.isNode())g.dispatchEvent("overNode",{node:h.nodes(d.attr("data-node-id"))});else if(d.isEdge()){var e=h.edges(d.attr("data-edge-id"));g.dispatchEvent("overEdge",{edge:e,source:h.nodes(e.source),target:h.nodes(e.target)})}}}function f(a){var c=a.fromElement||a.originalTarget;if(g.settings("eventsEnabled")){var d=new b(c);if(d.isNode())g.dispatchEvent("outNode",{node:h.nodes(d.attr("data-node-id"))});else if(d.isEdge()){var e=h.edges(d.attr("data-edge-id"));g.dispatchEvent("outEdge",{edge:e,source:h.nodes(e.source),target:h.nodes(e.target)})}}}var g=this,h=this.graph;a.addEventListener("click",c,!1),sigma.utils.doubleClick(a,"click",d),a.addEventListener("touchstart",c,!1),sigma.utils.doubleClick(a,"touchstart",d),a.addEventListener("mouseover",e,!0),a.addEventListener("mouseout",f,!0)}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.drawHovers=function(a){function b(){var b,f,g,h,i,j=c.contexts.hover.canvas,k=c.settings("defaultNodeType"),l=c.settings("defaultEdgeType"),m=sigma.canvas.hovers,n=sigma.canvas.edgehovers,o=sigma.canvas.extremities,p=c.settings.embedObjects({prefix:a});if(c.contexts.hover.clearRect(0,0,j.width,j.height),p("enableHovering")&&p("singleHover")&&Object.keys(d).length&&(h=d[Object.keys(d)[0]],(m[h.type]||m[k]||m.def)(h,c.contexts.hover,p)),p("enableHovering")&&!p("singleHover"))for(b in d)(m[d[b].type]||m[k]||m.def)(d[b],c.contexts.hover,p);if(p("enableEdgeHovering")&&p("singleHover")&&Object.keys(e).length&&(i=e[Object.keys(e)[0]],f=c.graph.nodes(i.source),g=c.graph.nodes(i.target),i.hidden||((n[i.type]||n[l]||n.def)(i,f,g,c.contexts.hover,p),p("edgeHoverExtremities")?(o[i.type]||o.def)(i,f,g,c.contexts.hover,p):((sigma.canvas.nodes[f.type]||sigma.canvas.nodes.def)(f,c.contexts.hover,p),(sigma.canvas.nodes[g.type]||sigma.canvas.nodes.def)(g,c.contexts.hover,p)))),p("enableEdgeHovering")&&!p("singleHover"))for(b in e)i=e[b],f=c.graph.nodes(i.source),g=c.graph.nodes(i.target),i.hidden||((n[i.type]||n[l]||n.def)(i,f,g,c.contexts.hover,p),p("edgeHoverExtremities")?(o[i.type]||o.def)(i,f,g,c.contexts.hover,p):((sigma.canvas.nodes[f.type]||sigma.canvas.nodes.def)(f,c.contexts.hover,p),(sigma.canvas.nodes[g.type]||sigma.canvas.nodes.def)(g,c.contexts.hover,p)))}var c=this,d={},e={};this.bind("overNode",function(a){var c=a.data.node;c.hidden||(d[c.id]=c,b())}),this.bind("outNode",function(a){delete d[a.data.node.id],b()}),this.bind("overEdge",function(a){var c=a.data.edge;c.hidden||(e[c.id]=c,b())}),this.bind("outEdge",function(a){delete e[a.data.edge.id],b()}),this.bind("render",function(a){b()})}}.call(this);
(function(){"use strict";function a(a){if(d[a])return d[a];var b=[0,0,0];return a.match(/^#/)?(a=(a||"").replace(/^#/,""),b=3===a.length?[parseInt(a.charAt(0)+a.charAt(0),16),parseInt(a.charAt(1)+a.charAt(1),16),parseInt(a.charAt(2)+a.charAt(2),16)]:[parseInt(a.charAt(0)+a.charAt(1),16),parseInt(a.charAt(2)+a.charAt(3),16),parseInt(a.charAt(4)+a.charAt(5),16)]):a.match(/^ *rgba? *\(/)&&(a=a.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),b=[+a[1],+a[2],+a[3]]),d[a]={r:b[0],g:b[1],b:b[2]},d[a]}function b(b,c,d){b=a(b),c=a(c);var e={r:b.r*(1-d)+c.r*d,g:b.g*(1-d)+c.g*d,b:b.b*(1-d)+c.b*d};return"rgb("+[0|e.r,0|e.g,0|e.b].join(",")+")"}if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var c=0,d={};sigma.plugins.animate=function(a,d,e){function f(){var c=(sigma.utils.dateNow()-m)/k;if(c>=1){g.forEach(function(a){for(var b in d)b in d&&(a[b]=a[d[b]])});var e,n;for(e in a.cameras)n=a.cameras[e],n.edgequadtree._enabled=!0;a.refresh(),"function"==typeof i.onComplete&&i.onComplete()}else c=l(c),g.forEach(function(a){for(var e in d)e in d&&(e.match(/color$/)?a[e]=b(h[a.id][e],a[d[e]],c):a[e]=a[d[e]]*c+h[a.id][e]*(1-c))}),a.refresh(),a.animations[j]=requestAnimationFrame(f)}var g,h,i=e||{},j=++c,k=i.duration||a.settings("animationsTime"),l="string"==typeof i.easing?sigma.utils.easings[i.easing]:"function"==typeof i.easing?i.easing:sigma.utils.easings.quadraticInOut,m=sigma.utils.dateNow();g=i.nodes&&i.nodes.length?"object"==typeof i.nodes[0]?i.nodes:a.graph.nodes(i.nodes):a.graph.nodes(),h=g.reduce(function(a,b){var c;a[b.id]={};for(c in d)c in b&&(a[b.id][c]=b[c]);return a},{}),a.animations=a.animations||Object.create({}),sigma.plugins.kill(a);var n,o;for(n in a.cameras)o=a.cameras[n],o.edgequadtree._enabled=!1;f()},sigma.plugins.kill=function(a){for(var b in a.animations||{})cancelAnimationFrame(a.animations[b]);var b,c;for(b in a.cameras)c=a.cameras[b],c.edgequadtree._enabled=!0}}).call(window);
(function(a){"use strict";function b(){var a=this;this.init=function(a,b){if(b=b||{},this.sigInst=a,this.config=sigma.utils.extend(b,c),this.easing=b.easing,this.duration=b.duration,b.nodes&&(this.nodes=b.nodes,delete b.nodes),!sigma.plugins||void 0===sigma.plugins.animate)throw new Error("sigma.plugins.animate is not declared");this.running=!1},this.atomicGo=function(){if(!this.running||this.iterCount<1)return!1;var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=this.nodes||this.sigInst.graph.nodes(),x=w.length,y=1/0,z=-1/0,A=1/0,B=-1/0;for(this.iterCount--,this.running=!1,b=0;b<x;b++)c=w[b],c.dn.dx=0,c.dn.dy=0,y=Math.min(y,c.dn_x-(c.dn_size*a.config.scaleNodes+a.config.nodeMargin)),z=Math.max(z,c.dn_x+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin)),A=Math.min(A,c.dn_y-(c.dn_size*a.config.scaleNodes+a.config.nodeMargin)),B=Math.max(B,c.dn_y+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin));for(e=z-y,f=B-A,g=(y+z)/2,h=(A+B)/2,y=g-a.config.permittedExpansion*e/2,z=g+a.config.permittedExpansion*e/2,A=h-a.config.permittedExpansion*f/2,B=h+a.config.permittedExpansion*f/2,i={},j=0;j<a.config.gridSize;j++)for(i[j]={},k=0;k<a.config.gridSize;k++)i[j][k]=[];for(b=0;b<x;b++)for(c=w[b],s=c.dn_x-(c.dn_size*a.config.scaleNodes+a.config.nodeMargin),t=c.dn_x+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin),u=c.dn_y-(c.dn_size*a.config.scaleNodes+a.config.nodeMargin),v=c.dn_y+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin),l=Math.floor(a.config.gridSize*(s-y)/(z-y)),m=Math.floor(a.config.gridSize*(t-y)/(z-y)),n=Math.floor(a.config.gridSize*(u-A)/(B-A)),o=Math.floor(a.config.gridSize*(v-A)/(B-A)),k=l;k<=m;k++)for(j=n;j<=o;j++)i[j][k].push(c.id);for(p={},j=0;j<a.config.gridSize;j++)for(k=0;k<a.config.gridSize;k++)i[j][k].forEach(function(b){for(p[b]||(p[b]=[]),q=Math.max(0,j-1);q<=Math.min(j+1,a.config.gridSize-1);q++)for(r=Math.max(0,k-1);r<=Math.min(k+1,a.config.gridSize-1);r++)i[q][r].forEach(function(a){a!==b&&-1===p[b].indexOf(a)&&p[b].push(a)})});for(b=0;b<x;b++)d=w[b],p[d.id].forEach(function(b){var c=a.sigInst.graph.nodes(b),g=c.dn_x-d.dn_x,h=c.dn_y-d.dn_y,i=Math.sqrt(g*g+h*h);i<d.dn_size*a.config.scaleNodes+a.config.nodeMargin+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin)&&(a.running=!0,i>0?(c.dn.dx+=g/i*(1+d.dn_size),c.dn.dy+=h/i*(1+d.dn_size)):(c.dn.dx+=.01*e*(.5-Math.random()),c.dn.dy+=.01*f*(.5-Math.random())))});for(b=0;b<x;b++)c=w[b],c.fixed||(c.dn_x=c.dn_x+.1*c.dn.dx*a.config.speed,c.dn_y=c.dn_y+.1*c.dn.dy*a.config.speed);return this.running&&this.iterCount<1&&(this.running=!1),this.running},this.go=function(){for(this.iterCount=this.config.maxIterations;this.running;)this.atomicGo();this.stop()},this.start=function(){if(!this.running){var b=this.sigInst.graph.nodes(),c=this.sigInst.renderers[a.config.rendererIndex].options.prefix;this.running=!0;for(var d=0;d<b.length;d++)b[d].dn_x=b[d][c+"x"],b[d].dn_y=b[d][c+"y"],b[d].dn_size=b[d][c+"size"],b[d].dn={dx:0,dy:0};e[a.sigInst.id].dispatchEvent("start"),this.go()}},this.stop=function(){var b=this.sigInst.graph.nodes();if(this.running=!1,this.easing)e[a.sigInst.id].dispatchEvent("interpolate"),sigma.plugins.animate(a.sigInst,{x:"dn_x",y:"dn_y"},{easing:a.easing,onComplete:function(){a.sigInst.refresh();for(var c=0;c<b.length;c++)b[c].dn=null,b[c].dn_x=null,b[c].dn_y=null;e[a.sigInst.id].dispatchEvent("stop")},duration:a.duration});else{for(var c=0;c<b.length;c++)b[c].x=b[c].dn_x,b[c].y=b[c].dn_y;this.sigInst.refresh();for(var c=0;c<b.length;c++)b[c].dn=null,b[c].dn_x=null,b[c].dn_y=null;e[a.sigInst.id].dispatchEvent("stop")}},this.kill=function(){this.sigInst=null,this.config=null,this.easing=null}}if("undefined"==typeof sigma)throw new Error("sigma is not declared");sigma.utils.pkg("sigma.layout.noverlap");var c={speed:3,scaleNodes:1.2,nodeMargin:5,gridSize:20,permittedExpansion:1.1,rendererIndex:0,maxIterations:500},d={},e={};sigma.prototype.configNoverlap=function(a){var c=this;if(!a)throw new Error('Missing argument: "config"');return d[c.id]||(d[c.id]=new b,e[c.id]={},sigma.classes.dispatcher.extend(e[c.id]),c.bind("kill",function(){d[c.id].kill(),d[c.id]=null,e[c.id]=null})),d[c.id].init(c,a),e[c.id]},sigma.prototype.startNoverlap=function(a){var b=this;return a&&this.configNoverlap(b,a),d[b.id].start(),e[b.id]},sigma.prototype.isNoverlapRunning=function(){var a=this;return!!d[a.id]&&d[a.id].running}}).call(this);
!function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.dashed=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,h*=e("edgeHoverSizeRatio"),d.save(),d.setLineDash([8,3]),d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.dotted=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,h*=e("edgeHoverSizeRatio"),d.save(),d.setLineDash([2]),d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.parallel=function(a,b,c,d,e){var f,g,h=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,i=e("prefix")||"",j=a[i+"size"]||1,k=e("edgeColor"),l=e("defaultNodeColor"),m=e("defaultEdgeColor"),n=b[i+"x"],o=b[i+"y"],p=c[i+"x"],q=c[i+"y"],r=sigma.utils.getDistance(n,o,p,q);if(!h)switch(k){case"source":h=b.color||l;break;case"target":h=c.color||l;break;default:h=m}h="edge"===e("edgeHoverColor")?a.hover_color||h:a.hover_color||e("defaultEdgeHoverColor")||h,j*=e("edgeHoverSizeRatio"),f=sigma.utils.getCircleIntersection(n,o,j,p,q,r),g=sigma.utils.getCircleIntersection(p,q,j,n,o,r),d.save(),d.strokeStyle=h,d.lineWidth=j,d.beginPath(),d.moveTo(f.xi,f.yi),d.lineTo(g.xi_prime,g.yi_prime),d.closePath(),d.stroke(),d.beginPath(),d.moveTo(f.xi_prime,f.yi_prime),d.lineTo(g.xi,g.yi),d.closePath(),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.tapered=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),g=e("prefix")||"",j=e("defaultNodeColor"),k=e("defaultEdgeColor"),l=b[g+"x"],m=b[g+"y"],n=c[g+"x"],o=c[g+"y"],p=sigma.utils.getDistance(l,m,n,o);if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,h*=e("edgeHoverSizeRatio");var q=sigma.utils.getCircleIntersection(l,m,h,n,o,p);d.save(),d.globalAlpha=.65,d.fillStyle=f,d.beginPath(),d.moveTo(n,o),d.lineTo(q.xi,q.yi),d.lineTo(q.xi_prime,q.yi_prime),d.closePath(),d.fill(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dashed=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}d.save(),a.active?d.strokeStyle="edge"===e("edgeActiveColor")?f||k:e("defaultEdgeActiveColor"):d.strokeStyle=f,d.setLineDash([8,3]),d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dotted=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}d.save(),a.active?d.strokeStyle="edge"===e("edgeActiveColor")?f||k:e("defaultEdgeActiveColor"):d.strokeStyle=f,d.setLineDash([2]),d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.parallel=function(a,b,c,d,e){var f,g,h=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,i=e("prefix")||"",j=a[i+"size"]||1,k=e("edgeColor"),l=e("defaultNodeColor"),m=e("defaultEdgeColor"),n=b[i+"x"],o=b[i+"y"],p=c[i+"x"],q=c[i+"y"],r=sigma.utils.getDistance(n,o,p,q);if(!h)switch(k){case"source":h=b.color||l;break;case"target":h=c.color||l;break;default:h=m}f=sigma.utils.getCircleIntersection(n,o,j,p,q,r),g=sigma.utils.getCircleIntersection(p,q,j,n,o,r),d.save(),a.active?d.strokeStyle="edge"===e("edgeActiveColor")?h||m:e("defaultEdgeActiveColor"):d.strokeStyle=h,d.lineWidth=j,d.beginPath(),d.moveTo(f.xi,f.yi),d.lineTo(g.xi_prime,g.yi_prime),d.closePath(),d.stroke(),d.beginPath(),d.moveTo(f.xi_prime,f.yi_prime),d.lineTo(g.xi,g.yi),d.closePath(),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.tapered=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),g=e("prefix")||"",j=e("defaultNodeColor"),k=e("defaultEdgeColor"),l=b[g+"x"],m=b[g+"y"],n=c[g+"x"],o=c[g+"y"],p=sigma.utils.getDistance(l,m,n,o);if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}var q=sigma.utils.getCircleIntersection(l,m,h,n,o,p);d.save(),a.active?d.fillStyle="edge"===e("edgeActiveColor")?f||k:e("defaultEdgeActiveColor"):d.fillStyle=f,d.globalAlpha=.65,d.beginPath(),d.moveTo(n,o),d.lineTo(q.xi,q.yi),d.lineTo(q.xi_prime,q.yi_prime),d.closePath(),d.fill(),d.restore()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ21hLm1pbi5qcyIsInNpZ21hLnBsdWdpbnMuYW5pbWF0ZS5taW4uanMiLCJzaWdtYS5sYXlvdXQubm92ZXJsYXAubWluLmpzIiwic2lnbWEucmVuZGVyZXJzLmN1c3RvbUVkZ2VTaGFwZXMubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUNEQTtBQ0FBO0FDQUEiLCJmaWxlIjoiZ3JhZm8tY29tcG9uZW50ZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBzaWdtYS5qcyAtIEEgSmF2YVNjcmlwdCBsaWJyYXJ5IGRlZGljYXRlZCB0byBncmFwaCBkcmF3aW5nLiAtIFZlcnNpb246IDEuMi4xIC0gQXV0aG9yOiBBbGV4aXMgSmFjb215LCBTY2llbmNlcy1QbyBNw6lkaWFsYWIgLSBMaWNlbnNlOiBNSVQgKi9cbihmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjt2YXIgYj17fSxjPWZ1bmN0aW9uKGEpe3ZhciBkLGUsZixnLGg7Yy5jbGFzc2VzLmRpc3BhdGNoZXIuZXh0ZW5kKHRoaXMpO3ZhciBpPXRoaXMsaj1hfHx7fTtpZihcInN0cmluZ1wiPT10eXBlb2Yganx8aiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50P2o9e3JlbmRlcmVyczpbal19OlwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChqKSYmKGo9e3JlbmRlcmVyczpqfSksZz1qLnJlbmRlcmVyc3x8ai5yZW5kZXJlcnx8ai5jb250YWluZXIsai5yZW5kZXJlcnMmJjAhPT1qLnJlbmRlcmVycy5sZW5ndGh8fChcInN0cmluZ1wiPT10eXBlb2YgZ3x8ZyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50fHxcIm9iamVjdFwiPT10eXBlb2YgZyYmXCJjb250YWluZXJcImluIGcpJiYoai5yZW5kZXJlcnM9W2ddKSxqLmlkKXtpZihiW2ouaWRdKXRocm93J3NpZ21hOiBJbnN0YW5jZSBcIicrai5pZCsnXCIgYWxyZWFkeSBleGlzdHMuJztPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlkXCIse3ZhbHVlOmouaWR9KX1lbHNle2ZvcihoPTA7YltoXTspaCsrO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaWRcIix7dmFsdWU6XCJcIitofSl9Zm9yKGJbdGhpcy5pZF09dGhpcyx0aGlzLnNldHRpbmdzPW5ldyBjLmNsYXNzZXMuY29uZmlndXJhYmxlKGMuc2V0dGluZ3Msai5zZXR0aW5nc3x8e30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZ3JhcGhcIix7dmFsdWU6bmV3IGMuY2xhc3Nlcy5ncmFwaCh0aGlzLnNldHRpbmdzKSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIm1pZGRsZXdhcmVzXCIse3ZhbHVlOltdLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY2FtZXJhc1wiLHt2YWx1ZTp7fSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInJlbmRlcmVyc1wiLHt2YWx1ZTp7fSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInJlbmRlcmVyc1BlckNhbWVyYVwiLHt2YWx1ZTp7fSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNhbWVyYUZyYW1lc1wiLHt2YWx1ZTp7fSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNhbWVyYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW1lcmFzWzBdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZXZlbnRzXCIse3ZhbHVlOltcImNsaWNrXCIsXCJyaWdodENsaWNrXCIsXCJjbGlja1N0YWdlXCIsXCJkb3VibGVDbGlja1N0YWdlXCIsXCJyaWdodENsaWNrU3RhZ2VcIixcImNsaWNrTm9kZVwiLFwiY2xpY2tOb2Rlc1wiLFwiZG91YmxlQ2xpY2tOb2RlXCIsXCJkb3VibGVDbGlja05vZGVzXCIsXCJyaWdodENsaWNrTm9kZVwiLFwicmlnaHRDbGlja05vZGVzXCIsXCJvdmVyTm9kZVwiLFwib3Zlck5vZGVzXCIsXCJvdXROb2RlXCIsXCJvdXROb2Rlc1wiLFwiZG93bk5vZGVcIixcImRvd25Ob2Rlc1wiLFwidXBOb2RlXCIsXCJ1cE5vZGVzXCJdLGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMuX2hhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGIsYz17fTtmb3IoYiBpbiBhLmRhdGEpY1tiXT1hLmRhdGFbYl07Yy5yZW5kZXJlcj1hLnRhcmdldCx0aGlzLmRpc3BhdGNoRXZlbnQoYS50eXBlLGMpfS5iaW5kKHRoaXMpLGY9ai5yZW5kZXJlcnN8fFtdLGQ9MCxlPWYubGVuZ3RoO2Q8ZTtkKyspdGhpcy5hZGRSZW5kZXJlcihmW2RdKTtmb3IoZj1qLm1pZGRsZXdhcmVzfHxbXSxkPTAsZT1mLmxlbmd0aDtkPGU7ZCsrKXRoaXMubWlkZGxld2FyZXMucHVzaChcInN0cmluZ1wiPT10eXBlb2YgZltkXT9jLm1pZGRsZXdhcmVzW2ZbZF1dOmZbZF0pO1wib2JqZWN0XCI9PXR5cGVvZiBqLmdyYXBoJiZqLmdyYXBoJiYodGhpcy5ncmFwaC5yZWFkKGouZ3JhcGgpLHRoaXMucmVmcmVzaCgpKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7aS5zZXR0aW5ncyYmaS5yZWZyZXNoKCl9KX07aWYoYy5wcm90b3R5cGUuYWRkQ2FtZXJhPWZ1bmN0aW9uKGIpe3ZhciBkLGU9dGhpcztpZighYXJndW1lbnRzLmxlbmd0aCl7Zm9yKGI9MDt0aGlzLmNhbWVyYXNbXCJcIitiXTspYisrO2I9XCJcIitifWlmKHRoaXMuY2FtZXJhc1tiXSl0aHJvdydzaWdtYS5hZGRDYW1lcmE6IFRoZSBjYW1lcmEgXCInK2IrJ1wiIGFscmVhZHkgZXhpc3RzLic7cmV0dXJuIGQ9bmV3IGMuY2xhc3Nlcy5jYW1lcmEoYix0aGlzLmdyYXBoLHRoaXMuc2V0dGluZ3MpLHRoaXMuY2FtZXJhc1tiXT1kLGQucXVhZHRyZWU9bmV3IGMuY2xhc3Nlcy5xdWFkLGMuY2xhc3Nlcy5lZGdlcXVhZCE9PWEmJihkLmVkZ2VxdWFkdHJlZT1uZXcgYy5jbGFzc2VzLmVkZ2VxdWFkKSxkLmJpbmQoXCJjb29yZGluYXRlc1VwZGF0ZWRcIixmdW5jdGlvbihhKXtlLnJlbmRlckNhbWVyYShkLGQuaXNBbmltYXRlZCl9KSx0aGlzLnJlbmRlcmVyc1BlckNhbWVyYVtiXT1bXSxkfSxjLnByb3RvdHlwZS5raWxsQ2FtZXJhPWZ1bmN0aW9uKGEpe2lmKCEoYT1cInN0cmluZ1wiPT10eXBlb2YgYT90aGlzLmNhbWVyYXNbYV06YSkpdGhyb3dcInNpZ21hLmtpbGxDYW1lcmE6IFRoZSBjYW1lcmEgaXMgdW5kZWZpbmVkLlwiO3ZhciBiLGMsZD10aGlzLnJlbmRlcmVyc1BlckNhbWVyYVthLmlkXTtmb3IoYz1kLmxlbmd0aCxiPWMtMTtiPj0wO2ItLSl0aGlzLmtpbGxSZW5kZXJlcihkW2JdKTtyZXR1cm4gZGVsZXRlIHRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2EuaWRdLGRlbGV0ZSB0aGlzLmNhbWVyYUZyYW1lc1thLmlkXSxkZWxldGUgdGhpcy5jYW1lcmFzW2EuaWRdLGEua2lsbCYmYS5raWxsKCksdGhpc30sYy5wcm90b3R5cGUuYWRkUmVuZGVyZXI9ZnVuY3Rpb24oYSl7dmFyIGIsZCxlLGYsZz1hfHx7fTtpZihcInN0cmluZ1wiPT10eXBlb2YgZz9nPXtjb250YWluZXI6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZyl9OmcgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmKGc9e2NvbnRhaW5lcjpnfSksXCJzdHJpbmdcIj09dHlwZW9mIGcuY29udGFpbmVyJiYoZy5jb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZy5jb250YWluZXIpKSxcImlkXCJpbiBnKWI9Zy5pZDtlbHNle2ZvcihiPTA7dGhpcy5yZW5kZXJlcnNbXCJcIitiXTspYisrO2I9XCJcIitifWlmKHRoaXMucmVuZGVyZXJzW2JdKXRocm93J3NpZ21hLmFkZFJlbmRlcmVyOiBUaGUgcmVuZGVyZXIgXCInK2IrJ1wiIGFscmVhZHkgZXhpc3RzLic7aWYoZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBnLnR5cGU/Zy50eXBlOmMucmVuZGVyZXJzW2cudHlwZV0sZD1kfHxjLnJlbmRlcmVycy5kZWYsZT1cImNhbWVyYVwiaW4gZz9nLmNhbWVyYSBpbnN0YW5jZW9mIGMuY2xhc3Nlcy5jYW1lcmE/Zy5jYW1lcmE6dGhpcy5jYW1lcmFzW2cuY2FtZXJhXXx8dGhpcy5hZGRDYW1lcmEoZy5jYW1lcmEpOnRoaXMuYWRkQ2FtZXJhKCksdGhpcy5jYW1lcmFzW2UuaWRdIT09ZSl0aHJvd1wic2lnbWEuYWRkUmVuZGVyZXI6IFRoZSBjYW1lcmEgaXMgbm90IHByb3Blcmx5IHJlZmVyZW5jZWQuXCI7cmV0dXJuIGY9bmV3IGQodGhpcy5ncmFwaCxlLHRoaXMuc2V0dGluZ3MsZyksdGhpcy5yZW5kZXJlcnNbYl09ZixPYmplY3QuZGVmaW5lUHJvcGVydHkoZixcImlkXCIse3ZhbHVlOmJ9KSxmLmJpbmQmJmYuYmluZChbXCJjbGlja1wiLFwicmlnaHRDbGlja1wiLFwiY2xpY2tTdGFnZVwiLFwiZG91YmxlQ2xpY2tTdGFnZVwiLFwicmlnaHRDbGlja1N0YWdlXCIsXCJjbGlja05vZGVcIixcImNsaWNrTm9kZXNcIixcImNsaWNrRWRnZVwiLFwiY2xpY2tFZGdlc1wiLFwiZG91YmxlQ2xpY2tOb2RlXCIsXCJkb3VibGVDbGlja05vZGVzXCIsXCJkb3VibGVDbGlja0VkZ2VcIixcImRvdWJsZUNsaWNrRWRnZXNcIixcInJpZ2h0Q2xpY2tOb2RlXCIsXCJyaWdodENsaWNrTm9kZXNcIixcInJpZ2h0Q2xpY2tFZGdlXCIsXCJyaWdodENsaWNrRWRnZXNcIixcIm92ZXJOb2RlXCIsXCJvdmVyTm9kZXNcIixcIm92ZXJFZGdlXCIsXCJvdmVyRWRnZXNcIixcIm91dE5vZGVcIixcIm91dE5vZGVzXCIsXCJvdXRFZGdlXCIsXCJvdXRFZGdlc1wiLFwiZG93bk5vZGVcIixcImRvd25Ob2Rlc1wiLFwiZG93bkVkZ2VcIixcImRvd25FZGdlc1wiLFwidXBOb2RlXCIsXCJ1cE5vZGVzXCIsXCJ1cEVkZ2VcIixcInVwRWRnZXNcIl0sdGhpcy5faGFuZGxlciksdGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbZS5pZF0ucHVzaChmKSxmfSxjLnByb3RvdHlwZS5raWxsUmVuZGVyZXI9ZnVuY3Rpb24oYSl7aWYoIShhPVwic3RyaW5nXCI9PXR5cGVvZiBhP3RoaXMucmVuZGVyZXJzW2FdOmEpKXRocm93XCJzaWdtYS5raWxsUmVuZGVyZXI6IFRoZSByZW5kZXJlciBpcyB1bmRlZmluZWQuXCI7dmFyIGI9dGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbYS5jYW1lcmEuaWRdLGM9Yi5pbmRleE9mKGEpO3JldHVybiBjPj0wJiZiLnNwbGljZShjLDEpLGEua2lsbCYmYS5raWxsKCksZGVsZXRlIHRoaXMucmVuZGVyZXJzW2EuaWRdLHRoaXN9LGMucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oYil7dmFyIGQsZSxmLGcsaCxpLGo9MDtmb3IoYj1ifHx7fSxnPXRoaXMubWlkZGxld2FyZXN8fFtdLGQ9MCxlPWcubGVuZ3RoO2Q8ZTtkKyspZ1tkXS5jYWxsKHRoaXMsMD09PWQ/XCJcIjpcInRtcFwiK2orXCI6XCIsZD09PWUtMT9cInJlYWR5OlwiOlwidG1wXCIrICsraitcIjpcIik7Zm9yKGYgaW4gdGhpcy5jYW1lcmFzKWg9dGhpcy5jYW1lcmFzW2ZdLGguc2V0dGluZ3MoXCJhdXRvUmVzY2FsZVwiKSYmdGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbaC5pZF0mJnRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2guaWRdLmxlbmd0aD9jLm1pZGRsZXdhcmVzLnJlc2NhbGUuY2FsbCh0aGlzLGcubGVuZ3RoP1wicmVhZHk6XCI6XCJcIixoLnJlYWRQcmVmaXgse3dpZHRoOnRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2guaWRdWzBdLndpZHRoLGhlaWdodDp0aGlzLnJlbmRlcmVyc1BlckNhbWVyYVtoLmlkXVswXS5oZWlnaHR9KTpjLm1pZGRsZXdhcmVzLmNvcHkuY2FsbCh0aGlzLGcubGVuZ3RoP1wicmVhZHk6XCI6XCJcIixoLnJlYWRQcmVmaXgpLGIuc2tpcEluZGV4YXRpb258fChpPWMudXRpbHMuZ2V0Qm91bmRhcmllcyh0aGlzLmdyYXBoLGgucmVhZFByZWZpeCksaC5xdWFkdHJlZS5pbmRleCh0aGlzLmdyYXBoLm5vZGVzKCkse3ByZWZpeDpoLnJlYWRQcmVmaXgsYm91bmRzOnt4OmkubWluWCx5OmkubWluWSx3aWR0aDppLm1heFgtaS5taW5YLGhlaWdodDppLm1heFktaS5taW5ZfX0pLGguZWRnZXF1YWR0cmVlIT09YSYmaC5zZXR0aW5ncyhcImRyYXdFZGdlc1wiKSYmaC5zZXR0aW5ncyhcImVuYWJsZUVkZ2VIb3ZlcmluZ1wiKSYmaC5lZGdlcXVhZHRyZWUuaW5kZXgodGhpcy5ncmFwaCx7cHJlZml4OmgucmVhZFByZWZpeCxib3VuZHM6e3g6aS5taW5YLHk6aS5taW5ZLHdpZHRoOmkubWF4WC1pLm1pblgsaGVpZ2h0OmkubWF4WS1pLm1pbll9fSkpO2ZvcihnPU9iamVjdC5rZXlzKHRoaXMucmVuZGVyZXJzKSxkPTAsZT1nLmxlbmd0aDtkPGU7ZCsrKWlmKHRoaXMucmVuZGVyZXJzW2dbZF1dLnByb2Nlc3MpaWYodGhpcy5zZXR0aW5ncyhcInNraXBFcnJvcnNcIikpdHJ5e3RoaXMucmVuZGVyZXJzW2dbZF1dLnByb2Nlc3MoKX1jYXRjaChhKXtjb25zb2xlLmxvZygnV2FybmluZzogVGhlIHJlbmRlcmVyIFwiJytnW2RdKydcIiBjcmFzaGVkIG9uIFwiLnByb2Nlc3MoKVwiJyl9ZWxzZSB0aGlzLnJlbmRlcmVyc1tnW2RdXS5wcm9jZXNzKCk7cmV0dXJuIHRoaXMucmVuZGVyKCksdGhpc30sYy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGEsYixjO2ZvcihjPU9iamVjdC5rZXlzKHRoaXMucmVuZGVyZXJzKSxhPTAsYj1jLmxlbmd0aDthPGI7YSsrKWlmKHRoaXMuc2V0dGluZ3MoXCJza2lwRXJyb3JzXCIpKXRyeXt0aGlzLnJlbmRlcmVyc1tjW2FdXS5yZW5kZXIoKX1jYXRjaChiKXt0aGlzLnNldHRpbmdzKFwidmVyYm9zZVwiKSYmY29uc29sZS5sb2coJ1dhcm5pbmc6IFRoZSByZW5kZXJlciBcIicrY1thXSsnXCIgY3Jhc2hlZCBvbiBcIi5yZW5kZXIoKVwiJyl9ZWxzZSB0aGlzLnJlbmRlcmVyc1tjW2FdXS5yZW5kZXIoKTtyZXR1cm4gdGhpc30sYy5wcm90b3R5cGUucmVuZGVyQ2FtZXJhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpcztpZihiKWZvcihlPXRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2EuaWRdLGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspaWYodGhpcy5zZXR0aW5ncyhcInNraXBFcnJvcnNcIikpdHJ5e2VbY10ucmVuZGVyKCl9Y2F0Y2goYSl7dGhpcy5zZXR0aW5ncyhcInZlcmJvc2VcIikmJmNvbnNvbGUubG9nKCdXYXJuaW5nOiBUaGUgcmVuZGVyZXIgXCInK2VbY10uaWQrJ1wiIGNyYXNoZWQgb24gXCIucmVuZGVyKClcIicpfWVsc2UgZVtjXS5yZW5kZXIoKTtlbHNlIGlmKCF0aGlzLmNhbWVyYUZyYW1lc1thLmlkXSl7Zm9yKGU9dGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbYS5pZF0sYz0wLGQ9ZS5sZW5ndGg7YzxkO2MrKylpZih0aGlzLnNldHRpbmdzKFwic2tpcEVycm9yc1wiKSl0cnl7ZVtjXS5yZW5kZXIoKX1jYXRjaChhKXt0aGlzLnNldHRpbmdzKFwidmVyYm9zZVwiKSYmY29uc29sZS5sb2coJ1dhcm5pbmc6IFRoZSByZW5kZXJlciBcIicrZVtjXS5pZCsnXCIgY3Jhc2hlZCBvbiBcIi5yZW5kZXIoKVwiJyl9ZWxzZSBlW2NdLnJlbmRlcigpO3RoaXMuY2FtZXJhRnJhbWVzW2EuaWRdPXJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2RlbGV0ZSBmLmNhbWVyYUZyYW1lc1thLmlkXX0pfXJldHVybiB0aGlzfSxjLnByb3RvdHlwZS5raWxsPWZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5kaXNwYXRjaEV2ZW50KFwia2lsbFwiKSx0aGlzLmdyYXBoLmtpbGwoKSxkZWxldGUgdGhpcy5taWRkbGV3YXJlcztmb3IoYSBpbiB0aGlzLnJlbmRlcmVycyl0aGlzLmtpbGxSZW5kZXJlcih0aGlzLnJlbmRlcmVyc1thXSk7Zm9yKGEgaW4gdGhpcy5jYW1lcmFzKXRoaXMua2lsbENhbWVyYSh0aGlzLmNhbWVyYXNbYV0pO2RlbGV0ZSB0aGlzLnJlbmRlcmVycyxkZWxldGUgdGhpcy5jYW1lcmFzO2ZvcihhIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShhKSYmZGVsZXRlIHRoaXNbYV07ZGVsZXRlIGJbdGhpcy5pZF19LGMuaW5zdGFuY2VzPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2JbYV06Yy51dGlscy5leHRlbmQoe30sYil9LGMudmVyc2lvbj1cIjEuMi4xXCIsdm9pZCAwIT09dGhpcy5zaWdtYSl0aHJvd1wiQW4gb2JqZWN0IGNhbGxlZCBzaWdtYSBpcyBhbHJlYWR5IGluIHRoZSBnbG9iYWwgc2NvcGUuXCI7dGhpcy5zaWdtYT1jfSkuY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEsYyl7dmFyIGQsZSxmLGc7aWYoYXJndW1lbnRzLmxlbmd0aClpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmT2JqZWN0KGFyZ3VtZW50c1swXSk9PT1hcmd1bWVudHNbMF0pZm9yKGEgaW4gYXJndW1lbnRzWzBdKWIoYSxhcmd1bWVudHNbMF1bYV0pO2Vsc2UgaWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcihnPUFycmF5LmlzQXJyYXkoYSk/YTphLnNwbGl0KC8gLyksZD0wLGU9Zy5sZW5ndGg7ZCE9PWU7ZCs9MSlmPWdbZF0sQ1tmXXx8KENbZl09W10pLENbZl0ucHVzaCh7aGFuZGxlcjpjfSl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBjLGQsZSxmLGcsaCxpPUFycmF5LmlzQXJyYXkoYSk/YTphLnNwbGl0KC8gLyk7aWYoYXJndW1lbnRzLmxlbmd0aClpZihiKWZvcihjPTAsZD1pLmxlbmd0aDtjIT09ZDtjKz0xKXtpZihoPWlbY10sQ1toXSl7Zm9yKGc9W10sZT0wLGY9Q1toXS5sZW5ndGg7ZSE9PWY7ZSs9MSlDW2hdW2VdLmhhbmRsZXIhPT1iJiZnLnB1c2goQ1toXVtlXSk7Q1toXT1nfUNbaF0mJjA9PT1DW2hdLmxlbmd0aCYmZGVsZXRlIENbaF19ZWxzZSBmb3IoYz0wLGQ9aS5sZW5ndGg7YyE9PWQ7Yys9MSlkZWxldGUgQ1tpW2NdXTtlbHNlIEM9T2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBkKGEsYil7dmFyIGMsZCxlLGYsZyxoLGk9QXJyYXkuaXNBcnJheShhKT9hOmEuc3BsaXQoLyAvKTtmb3IoYj12b2lkIDA9PT1iP3t9OmIsYz0wLGU9aS5sZW5ndGg7YyE9PWU7Yys9MSlpZihoPWlbY10sQ1toXSlmb3IoZz17dHlwZTpoLGRhdGE6Ynx8e319LGQ9MCxmPUNbaF0ubGVuZ3RoO2QhPT1mO2QrPTEpdHJ5e0NbaF1bZF0uaGFuZGxlcihnKX1jYXRjaChhKXt9fWZ1bmN0aW9uIGUoKXt2YXIgYSxiLGMsZCxlPSExLGY9cygpLGc9eC5zaGlmdCgpO2lmKGM9Zy5qb2IoKSxmPXMoKS1mLGcuZG9uZSsrLGcudGltZSs9ZixnLmN1cnJlbnRUaW1lKz1mLGcud2VpZ2h0VGltZT1nLmN1cnJlbnRUaW1lLyhnLndlaWdodHx8MSksZy5hdmVyYWdlVGltZT1nLnRpbWUvZy5kb25lLCEoZD1nLmNvdW50P2cuY291bnQ8PWcuZG9uZTohYykpe2ZvcihhPTAsYj14Lmxlbmd0aDthPGI7YSsrKWlmKHhbYV0ud2VpZ2h0VGltZT5nLndlaWdodFRpbWUpe3guc3BsaWNlKGEsMCxnKSxlPSEwO2JyZWFrfWV8fHgucHVzaChnKX1yZXR1cm4gZD9nOm51bGx9ZnVuY3Rpb24gZihhKXt2YXIgYj14Lmxlbmd0aDt3W2EuaWRdPWEsYS5zdGF0dXM9XCJydW5uaW5nXCIsYiYmKGEud2VpZ2h0VGltZT14W2ItMV0ud2VpZ2h0VGltZSxhLmN1cnJlbnRUaW1lPWEud2VpZ2h0VGltZSooYS53ZWlnaHR8fDEpKSxhLnN0YXJ0VGltZT1zKCksZChcImpvYlN0YXJ0ZWRcIixxKGEpKSx4LnB1c2goYSl9ZnVuY3Rpb24gZygpe3ZhciBhLGIsYztmb3IoYSBpbiB2KWI9dlthXSxiLmFmdGVyP3lbYV09YjpmKGIpLGRlbGV0ZSB2W2FdO2Zvcih1PSEheC5sZW5ndGg7eC5sZW5ndGgmJnMoKS10PEIuZnJhbWVEdXJhdGlvbjspaWYoYz1lKCkpe2koYy5pZCk7Zm9yKGEgaW4geSl5W2FdLmFmdGVyPT09Yy5pZCYmKGYoeVthXSksZGVsZXRlIHlbYV0pfXU/KHQ9cygpLGQoXCJlbnRlckZyYW1lXCIpLHNldFRpbWVvdXQoZywwKSk6ZChcInN0b3BcIil9ZnVuY3Rpb24gaChhLGIpe3ZhciBjLGUsZjtpZihBcnJheS5pc0FycmF5KGEpKXtmb3IoQT0hMCxjPTAsZT1hLmxlbmd0aDtjPGU7YysrKWgoYVtjXS5pZCxwKGFbY10sYikpO0E9ITEsdXx8KHQ9cygpLGQoXCJzdGFydFwiKSxnKCkpfWVsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGEpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGEuaWQpaChhLmlkLGEpO2Vsc2V7QT0hMDtmb3IoYyBpbiBhKVwiZnVuY3Rpb25cIj09dHlwZW9mIGFbY10/aChjLHAoe2pvYjphW2NdfSxiKSk6aChjLHAoYVtjXSxiKSk7QT0hMSx1fHwodD1zKCksZChcInN0YXJ0XCIpLGcoKSl9ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoXCJbY29ucmFkLmFkZEpvYl0gV3JvbmcgYXJndW1lbnRzLlwiKTtpZihrKGEpKXRocm93IG5ldyBFcnJvcignW2NvbnJhZC5hZGRKb2JdIEpvYiB3aXRoIGlkIFwiJythKydcIiBhbHJlYWR5IGV4aXN0cy4nKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBiKWY9e2lkOmEsZG9uZTowLHRpbWU6MCxzdGF0dXM6XCJ3YWl0aW5nXCIsY3VycmVudFRpbWU6MCxhdmVyYWdlVGltZTowLHdlaWdodFRpbWU6MCxqb2I6Yn07ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgYil0aHJvdyBuZXcgRXJyb3IoXCJbY29ucmFkLmFkZEpvYl0gV3JvbmcgYXJndW1lbnRzLlwiKTtmPXAoe2lkOmEsZG9uZTowLHRpbWU6MCxzdGF0dXM6XCJ3YWl0aW5nXCIsY3VycmVudFRpbWU6MCxhdmVyYWdlVGltZTowLHdlaWdodFRpbWU6MH0sYil9dlthXT1mLGQoXCJqb2JBZGRlZFwiLHEoZikpLHV8fEF8fCh0PXMoKSxkKFwic3RhcnRcIiksZygpKX1yZXR1cm4gdGhpc31mdW5jdGlvbiBpKGEpe3ZhciBiLGMsZSxmLGc9ITE7aWYoQXJyYXkuaXNBcnJheShhKSlmb3IoYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylpKGFbYl0pO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpdGhyb3cgbmV3IEVycm9yKFwiW2NvbnJhZC5raWxsSm9iXSBXcm9uZyBhcmd1bWVudHMuXCIpO2ZvcihlPVt3LHksdl0sYj0wLGM9ZS5sZW5ndGg7YjxjO2IrKylhIGluIGVbYl0mJihmPWVbYl1bYV0sQi5oaXN0b3J5JiYoZi5zdGF0dXM9XCJkb25lXCIsei5wdXNoKGYpKSxkKFwiam9iRW5kZWRcIixxKGYpKSxkZWxldGUgZVtiXVthXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLmVuZCYmZi5lbmQoKSxnPSEwKTtmb3IoZT14LGI9MCxjPWUubGVuZ3RoO2I8YztiKyspaWYoZVtiXS5pZD09PWEpe2Uuc3BsaWNlKGIsMSk7YnJlYWt9aWYoIWcpdGhyb3cgbmV3IEVycm9yKCdbY29ucmFkLmtpbGxKb2JdIEpvYiBcIicrYSsnXCIgbm90IGZvdW5kLicpfXJldHVybiB0aGlzfWZ1bmN0aW9uIGooKXt2YXIgYSxiPXAodix3LHkpO2lmKEIuaGlzdG9yeSlmb3IoYSBpbiBiKWJbYV0uc3RhdHVzPVwiZG9uZVwiLHoucHVzaChiW2FdKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBiW2FdLmVuZCYmYlthXS5lbmQoKTtyZXR1cm4gdj17fSx5PXt9LHc9e30seD1bXSx1PSExLHRoaXN9ZnVuY3Rpb24gayhhKXt2YXIgYj12W2FdfHx3W2FdfHx5W2FdO3JldHVybiBiP3AoYik6bnVsbH1mdW5jdGlvbiBsKGEsYil7dmFyIGM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGExJiYxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gQlthMV07Yz1cIm9iamVjdFwiPT10eXBlb2YgYTEmJjE9PT1hcmd1bWVudHMubGVuZ3RoP2ExfHx7fTp7fSxcInN0cmluZ1wiPT10eXBlb2YgYTEmJihjW2ExXT1hMik7Zm9yKHZhciBkIGluIGMpdm9pZCAwIT09Y1tkXT9CW2RdPWNbZF06ZGVsZXRlIEJbZF07cmV0dXJuIHRoaXN9ZnVuY3Rpb24gbSgpe3JldHVybiB1fWZ1bmN0aW9uIG4oKXtyZXR1cm4gej1bXSx0aGlzfWZ1bmN0aW9uIG8oYSxiKXt2YXIgYyxkLGUsZixnLGgsaTtpZighYXJndW1lbnRzLmxlbmd0aCl7Zz1bXTtmb3IoZCBpbiB2KWcucHVzaCh2W2RdKTtmb3IoZCBpbiB5KWcucHVzaCh5W2RdKTtmb3IoZCBpbiB3KWcucHVzaCh3W2RdKTtnPWcuY29uY2F0KHopfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXN3aXRjaChhKXtjYXNlXCJ3YWl0aW5nXCI6Zz1yKHkpO2JyZWFrO2Nhc2VcInJ1bm5pbmdcIjpnPXIodyk7YnJlYWs7Y2FzZVwiZG9uZVwiOmc9ejticmVhaztkZWZhdWx0Omg9YX1pZihhIGluc3RhbmNlb2YgUmVnRXhwJiYoaD1hKSwhaCYmKFwic3RyaW5nXCI9PXR5cGVvZiBifHxiIGluc3RhbmNlb2YgUmVnRXhwKSYmKGg9YiksaCl7aWYoaT1cInN0cmluZ1wiPT10eXBlb2YgaCxnIGluc3RhbmNlb2YgQXJyYXkpYz1nO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGcpe2M9W107Zm9yKGQgaW4gZyljPWMuY29uY2F0KGdbZF0pfWVsc2V7Yz1bXTtmb3IoZCBpbiB2KWMucHVzaCh2W2RdKTtmb3IoZCBpbiB5KWMucHVzaCh5W2RdKTtmb3IoZCBpbiB3KWMucHVzaCh3W2RdKTtjPWMuY29uY2F0KHopfWZvcihnPVtdLGU9MCxmPWMubGVuZ3RoO2U8ZjtlKyspKGk/Y1tlXS5pZD09PWg6Y1tlXS5pZC5tYXRjaChoKSkmJmcucHVzaChjW2VdKX1yZXR1cm4gcShnKX1mdW5jdGlvbiBwKCl7dmFyIGEsYixjPXt9LGQ9YXJndW1lbnRzLmxlbmd0aDtmb3IoYT1kLTE7YT49MDthLS0pZm9yKGIgaW4gYXJndW1lbnRzW2FdKWNbYl09YXJndW1lbnRzW2FdW2JdO3JldHVybiBjfWZ1bmN0aW9uIHEoYSl7dmFyIGIsYyxkO2lmKCFhKXJldHVybiBhO2lmKEFycmF5LmlzQXJyYXkoYSkpZm9yKGI9W10sYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyliLnB1c2gocShhW2NdKSk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgYSl7Yj17fTtmb3IoYyBpbiBhKWJbY109cShhW2NdKX1lbHNlIGI9YTtyZXR1cm4gYn1mdW5jdGlvbiByKGEpe3ZhciBiLGM9W107Zm9yKGIgaW4gYSljLnB1c2goYVtiXSk7cmV0dXJuIGN9ZnVuY3Rpb24gcygpe3JldHVybiBEYXRlLm5vdz9EYXRlLm5vdygpOihuZXcgRGF0ZSkuZ2V0VGltZSgpfWlmKGEuY29ucmFkKXRocm93IG5ldyBFcnJvcihcImNvbnJhZCBhbHJlYWR5IGV4aXN0c1wiKTt2YXIgdCx1PSExLHY9e30sdz17fSx4PVtdLHk9e30sej1bXSxBPSExLEI9e2ZyYW1lRHVyYXRpb246MjAsaGlzdG9yeTohMH0sQz1PYmplY3QuY3JlYXRlKG51bGwpO0FycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKGEpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX0pO3ZhciBEPXtoYXNKb2I6ayxhZGRKb2I6aCxraWxsSm9iOmksa2lsbEFsbDpqLHNldHRpbmdzOmwsZ2V0U3RhdHM6byxpc1J1bm5pbmc6bSxjbGVhckhpc3Rvcnk6bixiaW5kOmIsdW5iaW5kOmMsdmVyc2lvbjpcIjAuMS4wXCJ9O1widW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPUQpLGV4cG9ydHMuY29ucmFkPUQpLGEuY29ucmFkPUR9KHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7dmFyIGI9dGhpcztzaWdtYS51dGlscz1zaWdtYS51dGlsc3x8e30sc2lnbWEudXRpbHMuZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjPXt9LGQ9YXJndW1lbnRzLmxlbmd0aDtmb3IoYT1kLTE7YT49MDthLS0pZm9yKGIgaW4gYXJndW1lbnRzW2FdKWNbYl09YXJndW1lbnRzW2FdW2JdO3JldHVybiBjfSxzaWdtYS51dGlscy5kYXRlTm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93P0RhdGUubm93KCk6KG5ldyBEYXRlKS5nZXRUaW1lKCl9LHNpZ21hLnV0aWxzLnBrZz1mdW5jdGlvbihhKXtyZXR1cm4oYXx8XCJcIikuc3BsaXQoXCIuXCIpLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBiIGluIGE/YVtiXTphW2JdPXt9fSxiKX0sc2lnbWEudXRpbHMuaWQ9ZnVuY3Rpb24oKXt2YXIgYT0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybisrYX19KCk7dmFyIGM9e307c2lnbWEudXRpbHMuZmxvYXRDb2xvcj1mdW5jdGlvbihhKXtpZihjW2FdKXJldHVybiBjW2FdO3ZhciBiPWEsZD0wLGU9MCxmPTA7XCIjXCI9PT1hWzBdPyhhPWEuc2xpY2UoMSksMz09PWEubGVuZ3RoPyhkPXBhcnNlSW50KGEuY2hhckF0KDApK2EuY2hhckF0KDApLDE2KSxlPXBhcnNlSW50KGEuY2hhckF0KDEpK2EuY2hhckF0KDEpLDE2KSxmPXBhcnNlSW50KGEuY2hhckF0KDIpK2EuY2hhckF0KDIpLDE2KSk6KGQ9cGFyc2VJbnQoYS5jaGFyQXQoMCkrYS5jaGFyQXQoMSksMTYpLGU9cGFyc2VJbnQoYS5jaGFyQXQoMikrYS5jaGFyQXQoMyksMTYpLGY9cGFyc2VJbnQoYS5jaGFyQXQoNCkrYS5jaGFyQXQoNSksMTYpKSk6YS5tYXRjaCgvXiAqcmdiYT8gKlxcKC8pJiYoYT1hLm1hdGNoKC9eICpyZ2JhPyAqXFwoICooWzAtOV0qKSAqLCAqKFswLTldKikgKiwgKihbMC05XSopICooLC4qKT9cXCkgKiQvKSxkPSthWzFdLGU9K2FbMl0sZj0rYVszXSk7dmFyIGc9MjU2KmQqMjU2KzI1NiplK2Y7cmV0dXJuIGNbYl09ZyxnfSxzaWdtYS51dGlscy56b29tVG89ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaT1hLnNldHRpbmdzOyhnPU1hdGgubWF4KGkoXCJ6b29tTWluXCIpLE1hdGgubWluKGkoXCJ6b29tTWF4XCIpLGEucmF0aW8qZCkpKSE9PWEucmF0aW8mJihkPWcvYS5yYXRpbyxoPXt4OmIqKDEtZCkrYS54LHk6YyooMS1kKSthLnkscmF0aW86Z30sZSYmZS5kdXJhdGlvbj8oZj1zaWdtYS5taXNjLmFuaW1hdGlvbi5raWxsQWxsKGEpLGU9c2lnbWEudXRpbHMuZXh0ZW5kKGUse2Vhc2luZzpmP1wicXVhZHJhdGljT3V0XCI6XCJxdWFkcmF0aWNJbk91dFwifSksc2lnbWEubWlzYy5hbmltYXRpb24uY2FtZXJhKGEsaCxlKSk6KGEuZ29UbyhoKSxlJiZlLm9uQ29tcGxldGUmJmUub25Db21wbGV0ZSgpKSl9LHNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm57eDooYStjKS8yKyhkLWIpLzQseTooYitkKS8yKyhhLWMpLzR9fSxzaWdtYS51dGlscy5nZXRQb2ludE9uUXVhZHJhdGljQ3VydmU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7cmV0dXJue3g6TWF0aC5wb3coMS1hLDIpKmIrMiooMS1hKSphKmYrTWF0aC5wb3coYSwyKSpkLHk6TWF0aC5wb3coMS1hLDIpKmMrMiooMS1hKSphKmcrTWF0aC5wb3coYSwyKSplfX0sc2lnbWEudXRpbHMuZ2V0UG9pbnRPbkJlemllckN1cnZlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpKXt2YXIgaj1NYXRoLnBvdygxLWEsMyksaz0zKmEqTWF0aC5wb3coMS1hLDIpLGw9MypNYXRoLnBvdyhhLDIpKigxLWEpLG09TWF0aC5wb3coYSwzKTtyZXR1cm57eDpqKmIraypmK2wqaCttKmQseTpqKmMraypnK2wqaSttKmV9fSxzaWdtYS51dGlscy5nZXRTZWxmTG9vcENvbnRyb2xQb2ludHM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybnt4MTphLTcqYyx5MTpiLHgyOmEseTI6Yis3KmN9fSxzaWdtYS51dGlscy5nZXREaXN0YW5jZT1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGMtYSwyKStNYXRoLnBvdyhkLWIsMikpfSxzaWdtYS51dGlscy5nZXRDaXJjbGVJbnRlcnNlY3Rpb249ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnLGgsaSxqLGssbCxtLG4sbztyZXR1cm4gaD1kLWEsaT1lLWIsISgoaj1NYXRoLnNxcnQoaSppK2gqaCkpPmMrZikmJighKGo8TWF0aC5hYnMoYy1mKSkmJihnPShjKmMtZipmK2oqaikvKDIqaiksbj1hK2gqZy9qLG89YitpKmcvaixrPU1hdGguc3FydChjKmMtZypnKSxsPWsvaiotaSxtPWgqKGsvaikse3hpOm4rbCx4aV9wcmltZTpuLWwseWk6byttLHlpX3ByaW1lOm8tbX0pKX0sc2lnbWEudXRpbHMuaXNQb2ludE9uU2VnbWVudD1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtyZXR1cm4gTWF0aC5hYnMoKGItZCkqKGUtYyktKGEtYykqKGYtZCkpL3NpZ21hLnV0aWxzLmdldERpc3RhbmNlKGMsZCxlLGYpPGcmJk1hdGgubWluKGMsZSk8PWEmJmE8PU1hdGgubWF4KGMsZSkmJk1hdGgubWluKGQsZik8PWImJmI8PU1hdGgubWF4KGQsZil9LHNpZ21hLnV0aWxzLmlzUG9pbnRPblF1YWRyYXRpY0N1cnZlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpKXt2YXIgaj1zaWdtYS51dGlscy5nZXREaXN0YW5jZShjLGQsZSxmKTtpZihNYXRoLmFicyhhLWMpPmp8fE1hdGguYWJzKGItZCk+ailyZXR1cm4hMTtmb3IodmFyIGssbD1zaWdtYS51dGlscy5nZXREaXN0YW5jZShhLGIsYyxkKSxtPXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGEsYixlLGYpLG49LjUsbz1sPG0/LS4wMTouMDEscD0uMDAxLHE9MTAwLHI9c2lnbWEudXRpbHMuZ2V0UG9pbnRPblF1YWRyYXRpY0N1cnZlKG4sYyxkLGUsZixnLGgpLHM9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYSxiLHIueCxyLnkpO3EtLSA+MCYmbj49MCYmbjw9MSYmcz5pJiYobz5wfHxvPC1wKTspaz1zLHI9c2lnbWEudXRpbHMuZ2V0UG9pbnRPblF1YWRyYXRpY0N1cnZlKG4sYyxkLGUsZixnLGgpLHM9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYSxiLHIueCxyLnkpLHM+az8obz0tby8yLG4rPW8pOm4rbzwwfHxuK28+MT8oby89MixzPWspOm4rPW87cmV0dXJuIHM8aX0sc2lnbWEudXRpbHMuaXNQb2ludE9uQmV6aWVyQ3VydmU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGksaixrKXt2YXIgbD1zaWdtYS51dGlscy5nZXREaXN0YW5jZShjLGQsZyxoKTtpZihNYXRoLmFicyhhLWMpPmx8fE1hdGguYWJzKGItZCk+bClyZXR1cm4hMTtmb3IodmFyIG0sbj1zaWdtYS51dGlscy5nZXREaXN0YW5jZShhLGIsYyxkKSxvPXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGEsYixlLGYpLHA9LjUscT1uPG8/LS4wMTouMDEscj0uMDAxLHM9MTAwLHQ9c2lnbWEudXRpbHMuZ2V0UG9pbnRPbkJlemllckN1cnZlKHAsYyxkLGUsZixnLGgsaSxqKSx1PXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGEsYix0LngsdC55KTtzLS0gPjAmJnA+PTAmJnA8PTEmJnU+ayYmKHE+cnx8cTwtcik7KW09dSx0PXNpZ21hLnV0aWxzLmdldFBvaW50T25CZXppZXJDdXJ2ZShwLGMsZCxlLGYsZyxoLGksaiksdT1zaWdtYS51dGlscy5nZXREaXN0YW5jZShhLGIsdC54LHQueSksdT5tPyhxPS1xLzIscCs9cSk6cCtxPDB8fHArcT4xPyhxLz0yLHU9bSk6cCs9cTtyZXR1cm4gdTxrfSxzaWdtYS51dGlscy5nZXRYPWZ1bmN0aW9uKGIpe3JldHVybiBiLm9mZnNldFghPT1hJiZiLm9mZnNldFh8fGIubGF5ZXJYIT09YSYmYi5sYXllclh8fGIuY2xpZW50WCE9PWEmJmIuY2xpZW50WH0sc2lnbWEudXRpbHMuZ2V0WT1mdW5jdGlvbihiKXtyZXR1cm4gYi5vZmZzZXRZIT09YSYmYi5vZmZzZXRZfHxiLmxheWVyWSE9PWEmJmIubGF5ZXJZfHxiLmNsaWVudFkhPT1hJiZiLmNsaWVudFl9LHNpZ21hLnV0aWxzLmdldFBpeGVsUmF0aW89ZnVuY3Rpb24oKXt2YXIgYj0xO3JldHVybiB3aW5kb3cuc2NyZWVuLmRldmljZVhEUEkhPT1hJiZ3aW5kb3cuc2NyZWVuLmxvZ2ljYWxYRFBJIT09YSYmd2luZG93LnNjcmVlbi5kZXZpY2VYRFBJPndpbmRvdy5zY3JlZW4ubG9naWNhbFhEUEk/Yj13aW5kb3cuc2NyZWVuLnN5c3RlbVhEUEkvd2luZG93LnNjcmVlbi5sb2dpY2FsWERQSTp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyE9PWEmJihiPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSxifSxzaWdtYS51dGlscy5nZXRXaWR0aD1mdW5jdGlvbihiKXt2YXIgYz1iLnRhcmdldC5vd25lclNWR0VsZW1lbnQ/Yi50YXJnZXQub3duZXJTVkdFbGVtZW50LndpZHRoOmIudGFyZ2V0LndpZHRoO3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBjJiZjfHxjIT09YSYmYy5iYXNlVmFsIT09YSYmYy5iYXNlVmFsLnZhbHVlfSxzaWdtYS51dGlscy5nZXRDZW50ZXI9ZnVuY3Rpb24oYSl7dmFyIGI9LTEhPT1hLnRhcmdldC5uYW1lc3BhY2VVUkkuaW5kZXhPZihcInN2Z1wiKT8xOnNpZ21hLnV0aWxzLmdldFBpeGVsUmF0aW8oKTtyZXR1cm57eDpzaWdtYS51dGlscy5nZXRXaWR0aChhKS8oMipiKSx5OnNpZ21hLnV0aWxzLmdldEhlaWdodChhKS8oMipiKX19LHNpZ21hLnV0aWxzLm1vdXNlQ29vcmRzPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj1ifHxzaWdtYS51dGlscy5nZXRYKGEpLGM9Y3x8c2lnbWEudXRpbHMuZ2V0WShhKSx7eDpiLXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS54LHk6Yy1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueSxjbGllbnRYOmEuY2xpZW50WCxjbGllbnRZOmEuY2xpZW50WSxjdHJsS2V5OmEuY3RybEtleSxtZXRhS2V5OmEubWV0YUtleSxhbHRLZXk6YS5hbHRLZXksc2hpZnRLZXk6YS5zaGlmdEtleX19LHNpZ21hLnV0aWxzLmdldEhlaWdodD1mdW5jdGlvbihiKXt2YXIgYz1iLnRhcmdldC5vd25lclNWR0VsZW1lbnQ/Yi50YXJnZXQub3duZXJTVkdFbGVtZW50LmhlaWdodDpiLnRhcmdldC5oZWlnaHQ7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGMmJmN8fGMhPT1hJiZjLmJhc2VWYWwhPT1hJiZjLmJhc2VWYWwudmFsdWV9LHNpZ21hLnV0aWxzLmdldERlbHRhPWZ1bmN0aW9uKGIpe3JldHVybiBiLndoZWVsRGVsdGEhPT1hJiZiLndoZWVsRGVsdGF8fGIuZGV0YWlsIT09YSYmLWIuZGV0YWlsfSxzaWdtYS51dGlscy5nZXRPZmZzZXQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wO2E7KWMrPXBhcnNlSW50KGEub2Zmc2V0VG9wKSxiKz1wYXJzZUludChhLm9mZnNldExlZnQpLGE9YS5vZmZzZXRQYXJlbnQ7cmV0dXJue3RvcDpjLGxlZnQ6Yn19LHNpZ21hLnV0aWxzLmRvdWJsZUNsaWNrPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPTA7YS5fZG91YmxlQ2xpY2tIYW5kbGVyPWEuX2RvdWJsZUNsaWNrSGFuZGxlcnx8e30sYS5fZG91YmxlQ2xpY2tIYW5kbGVyW2JdPWEuX2RvdWJsZUNsaWNrSGFuZGxlcltiXXx8W10sZD1hLl9kb3VibGVDbGlja0hhbmRsZXJbYl0sZC5wdXNoKGZ1bmN0aW9uKGEpe2lmKDI9PT0rK2UpcmV0dXJuIGU9MCxjKGEpOzE9PT1lJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZT0wfSxzaWdtYS5zZXR0aW5ncy5kb3VibGVDbGlja1RpbWVvdXQpfSksYS5hZGRFdmVudExpc3RlbmVyKGIsZFtkLmxlbmd0aC0xXSwhMSl9LHNpZ21hLnV0aWxzLnVuYmluZERvdWJsZUNsaWNrPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9KGEuX2RvdWJsZUNsaWNrSGFuZGxlcnx8e30pW2JdfHxbXTtjPWQucG9wKCk7KWEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMpO2RlbGV0ZShhLl9kb3VibGVDbGlja0hhbmRsZXJ8fHt9KVtiXX0sc2lnbWEudXRpbHMuZWFzaW5ncz1zaWdtYS51dGlscy5lYXNpbmdzfHx7fSxzaWdtYS51dGlscy5lYXNpbmdzLmxpbmVhck5vbmU9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHNpZ21hLnV0aWxzLmVhc2luZ3MucXVhZHJhdGljSW49ZnVuY3Rpb24oYSl7cmV0dXJuIGEqYX0sc2lnbWEudXRpbHMuZWFzaW5ncy5xdWFkcmF0aWNPdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEqKDItYSl9LHNpZ21hLnV0aWxzLmVhc2luZ3MucXVhZHJhdGljSW5PdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGEqPTIpPDE/LjUqYSphOi0uNSooLS1hKihhLTIpLTEpfSxzaWdtYS51dGlscy5lYXNpbmdzLmN1YmljSW49ZnVuY3Rpb24oYSl7cmV0dXJuIGEqYSphfSxzaWdtYS51dGlscy5lYXNpbmdzLmN1YmljT3V0PWZ1bmN0aW9uKGEpe3JldHVybi0tYSphKmErMX0sc2lnbWEudXRpbHMuZWFzaW5ncy5jdWJpY0luT3V0PWZ1bmN0aW9uKGEpe3JldHVybihhKj0yKTwxPy41KmEqYSphOi41KigoYS09MikqYSphKzIpfSxzaWdtYS51dGlscy5sb2FkU2hhZGVyPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9YS5jcmVhdGVTaGFkZXIoYyk7cmV0dXJuIGEuc2hhZGVyU291cmNlKGYsYiksYS5jb21waWxlU2hhZGVyKGYpLGU9YS5nZXRTaGFkZXJQYXJhbWV0ZXIoZixhLkNPTVBJTEVfU1RBVFVTKSxlP2Y6KGQmJmQoJ0Vycm9yIGNvbXBpbGluZyBzaGFkZXIgXCInK2YrJ1wiOicrYS5nZXRTaGFkZXJJbmZvTG9nKGYpKSxhLmRlbGV0ZVNoYWRlcihmKSxudWxsKX0sc2lnbWEudXRpbHMubG9hZFByb2dyYW09ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGg9YS5jcmVhdGVQcm9ncmFtKCk7Zm9yKGY9MDtmPGIubGVuZ3RoOysrZilhLmF0dGFjaFNoYWRlcihoLGJbZl0pO2lmKGMpZm9yKGY9MDtmPGMubGVuZ3RoOysrZilhLmJpbmRBdHRyaWJMb2NhdGlvbihoLGxvY2F0aW9ucz9sb2NhdGlvbnNbZl06ZixvcHRfYXR0cmlic1tmXSk7cmV0dXJuIGEubGlua1Byb2dyYW0oaCksZz1hLmdldFByb2dyYW1QYXJhbWV0ZXIoaCxhLkxJTktfU1RBVFVTKSxnP2g6KGUmJmUoXCJFcnJvciBpbiBwcm9ncmFtIGxpbmtpbmc6IFwiK2EuZ2V0UHJvZ3JhbUluZm9Mb2coaCkpLGEuZGVsZXRlUHJvZ3JhbShoKSxudWxsKX0sc2lnbWEudXRpbHMucGtnKFwic2lnbWEudXRpbHMubWF0cmljZXNcIiksc2lnbWEudXRpbHMubWF0cmljZXMudHJhbnNsYXRpb249ZnVuY3Rpb24oYSxiKXtyZXR1cm5bMSwwLDAsMCwxLDAsYSxiLDFdfSxzaWdtYS51dGlscy5tYXRyaWNlcy5yb3RhdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBjPU1hdGguY29zKGEpLGQ9TWF0aC5zaW4oYSk7cmV0dXJuIGI/W2MsLWQsZCxjXTpbYywtZCwwLGQsYywwLDAsMCwxXX0sc2lnbWEudXRpbHMubWF0cmljZXMuc2NhbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9bYSwwLDAsYV06W2EsMCwwLDAsYSwwLDAsMCwxXX0sc2lnbWEudXRpbHMubWF0cmljZXMubXVsdGlwbHk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWM/MjozLGU9YVswKmQrMF0sZj1hWzAqZCsxXSxnPWFbMCpkKzJdLGg9YVsxKmQrMF0saT1hWzEqZCsxXSxqPWFbMSpkKzJdLGs9YVsyKmQrMF0sbD1hWzIqZCsxXSxtPWFbMipkKzJdLG49YlswKmQrMF0sbz1iWzAqZCsxXSxwPWJbMCpkKzJdLHE9YlsxKmQrMF0scj1iWzEqZCsxXSxzPWJbMSpkKzJdLHQ9YlsyKmQrMF0sdT1iWzIqZCsxXSx2PWJbMipkKzJdO3JldHVybiBjP1tlKm4rZipxLGUqbytmKnIsaCpuK2kqcSxoKm8raSpyXTpbZSpuK2YqcStnKnQsZSpvK2YqcitnKnUsZSpwK2YqcytnKnYsaCpuK2kqcStqKnQsaCpvK2kqcitqKnUsaCpwK2kqcytqKnYsaypuK2wqcSttKnQsaypvK2wqcittKnUsaypwK2wqcyttKnZdfX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjt2YXIgYixjPTAsZD1bXCJtc1wiLFwibW96XCIsXCJ3ZWJraXRcIixcIm9cIl07Zm9yKGI9MDtiPGQubGVuZ3RoJiYhYS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7YisrKWEucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWFbZFtiXStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSxhLmNhbmNlbEFuaW1hdGlvbkZyYW1lPWFbZFtiXStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHxhW2RbYl0rXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07YS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fChhLnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbihiLGQpe3ZhciBlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGY9TWF0aC5tYXgoMCwxNi0oZS1jKSksZz1hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGUrZil9LGYpO3JldHVybiBjPWUrZixnfSksYS5jYW5jZWxBbmltYXRpb25GcmFtZXx8KGEuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfSksRnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCAtIHdoYXQgaXMgdHJ5aW5nIHRvIGJlIGJvdW5kIGlzIG5vdCBjYWxsYWJsZVwiKTt2YXIgYixjLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGU9dGhpcztyZXR1cm4gYj1mdW5jdGlvbigpe30sYz1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMgaW5zdGFuY2VvZiBiJiZhP3RoaXM6YSxkLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9LGIucHJvdG90eXBlPXRoaXMucHJvdG90eXBlLGMucHJvdG90eXBlPW5ldyBiLGN9KX0odGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5zZXR0aW5nc1wiKTt2YXIgYj17Y2xvbmU6ITAsaW1tdXRhYmxlOiEwLHZlcmJvc2U6ITEsY2xhc3NQcmVmaXg6XCJzaWdtYVwiLGRlZmF1bHROb2RlVHlwZTpcImRlZlwiLGRlZmF1bHRFZGdlVHlwZTpcImRlZlwiLGRlZmF1bHRMYWJlbENvbG9yOlwiIzAwMFwiLGRlZmF1bHRFZGdlQ29sb3I6XCIjMDAwXCIsZGVmYXVsdE5vZGVDb2xvcjpcIiMwMDBcIixkZWZhdWx0TGFiZWxTaXplOjE0LGVkZ2VDb2xvcjpcInNvdXJjZVwiLG1pbkFycm93U2l6ZTowLGZvbnQ6XCJhcmlhbFwiLGZvbnRTdHlsZTpcIlwiLGxhYmVsQ29sb3I6XCJkZWZhdWx0XCIsbGFiZWxTaXplOlwiZml4ZWRcIixsYWJlbFNpemVSYXRpbzoxLGxhYmVsVGhyZXNob2xkOjgsd2ViZ2xPdmVyc2FtcGxpbmdSYXRpbzoyLGJvcmRlclNpemU6MCxkZWZhdWx0Tm9kZUJvcmRlckNvbG9yOlwiIzAwMFwiLGhvdmVyRm9udDpcIlwiLHNpbmdsZUhvdmVyOiEwLGhvdmVyRm9udFN0eWxlOlwiXCIsbGFiZWxIb3ZlclNoYWRvdzpcImRlZmF1bHRcIixsYWJlbEhvdmVyU2hhZG93Q29sb3I6XCIjMDAwXCIsbm9kZUhvdmVyQ29sb3I6XCJub2RlXCIsZGVmYXVsdE5vZGVIb3ZlckNvbG9yOlwiIzAwMFwiLGxhYmVsSG92ZXJCR0NvbG9yOlwiZGVmYXVsdFwiLGRlZmF1bHRIb3ZlckxhYmVsQkdDb2xvcjpcIiNmZmZcIixsYWJlbEhvdmVyQ29sb3I6XCJkZWZhdWx0XCIsZGVmYXVsdExhYmVsSG92ZXJDb2xvcjpcIiMwMDBcIixlZGdlSG92ZXJDb2xvcjpcImVkZ2VcIixlZGdlSG92ZXJTaXplUmF0aW86MSxkZWZhdWx0RWRnZUhvdmVyQ29sb3I6XCIjMDAwXCIsZWRnZUhvdmVyRXh0cmVtaXRpZXM6ITEsZHJhd0VkZ2VzOiEwLGRyYXdOb2RlczohMCxkcmF3TGFiZWxzOiEwLGRyYXdFZGdlTGFiZWxzOiExLGJhdGNoRWRnZXNEcmF3aW5nOiExLGhpZGVFZGdlc09uTW92ZTohMSxjYW52YXNFZGdlc0JhdGNoU2l6ZTo1MDAsd2ViZ2xFZGdlc0JhdGNoU2l6ZToxZTMsc2NhbGluZ01vZGU6XCJpbnNpZGVcIixzaWRlTWFyZ2luOjAsbWluRWRnZVNpemU6LjUsbWF4RWRnZVNpemU6MSxtaW5Ob2RlU2l6ZToxLG1heE5vZGVTaXplOjgsdG91Y2hFbmFibGVkOiEwLG1vdXNlRW5hYmxlZDohMCxtb3VzZVdoZWVsRW5hYmxlZDohMCxkb3VibGVDbGlja0VuYWJsZWQ6ITAsZXZlbnRzRW5hYmxlZDohMCx6b29taW5nUmF0aW86MS43LGRvdWJsZUNsaWNrWm9vbWluZ1JhdGlvOjIuMix6b29tTWluOi4wNjI1LHpvb21NYXg6Mixtb3VzZVpvb21EdXJhdGlvbjoyMDAsZG91YmxlQ2xpY2tab29tRHVyYXRpb246MjAwLG1vdXNlSW5lcnRpYUR1cmF0aW9uOjIwMCxtb3VzZUluZXJ0aWFSYXRpbzozLHRvdWNoSW5lcnRpYUR1cmF0aW9uOjIwMCx0b3VjaEluZXJ0aWFSYXRpbzozLGRvdWJsZUNsaWNrVGltZW91dDozMDAsZG91YmxlVGFwVGltZW91dDozMDAsZHJhZ1RpbWVvdXQ6MjAwLGF1dG9SZXNpemU6ITAsYXV0b1Jlc2NhbGU6ITAsZW5hYmxlQ2FtZXJhOiEwLGVuYWJsZUhvdmVyaW5nOiEwLGVuYWJsZUVkZ2VIb3ZlcmluZzohMSxlZGdlSG92ZXJQcmVjaXNpb246NSxyZXNjYWxlSWdub3JlU2l6ZTohMSxza2lwRXJyb3JzOiExLG5vZGVzUG93UmF0aW86LjUsZWRnZXNQb3dSYXRpbzouNSxhbmltYXRpb25zVGltZToyMDB9O3NpZ21hLnNldHRpbmdzPXNpZ21hLnV0aWxzLmV4dGVuZChzaWdtYS5zZXR0aW5nc3x8e30sYil9LmNhbGwodGhpcyksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgYT1mdW5jdGlvbigpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX2hhbmRsZXJzXCIse3ZhbHVlOnt9fSl9O2EucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZjtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1swXSlmb3IoYSBpbiBhcmd1bWVudHNbMF0pdGhpcy5iaW5kKGEsYXJndW1lbnRzWzBdW2FdKTtlbHNle2lmKDIhPT1hcmd1bWVudHMubGVuZ3RofHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhcmd1bWVudHNbMV0pdGhyb3dcImJpbmQ6IFdyb25nIGFyZ3VtZW50cy5cIjtmb3IoZj1cInN0cmluZ1wiPT10eXBlb2YgYT9hLnNwbGl0KFwiIFwiKTphLGM9MCxkPWYubGVuZ3RoO2MhPT1kO2MrPTEpKGU9ZltjXSkmJih0aGlzLl9oYW5kbGVyc1tlXXx8KHRoaXMuX2hhbmRsZXJzW2VdPVtdKSx0aGlzLl9oYW5kbGVyc1tlXS5wdXNoKHtoYW5kbGVyOmJ9KSl9cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo9XCJzdHJpbmdcIj09dHlwZW9mIGE/YS5zcGxpdChcIiBcIik6YTtpZighYXJndW1lbnRzLmxlbmd0aCl7Zm9yKGcgaW4gdGhpcy5faGFuZGxlcnMpZGVsZXRlIHRoaXMuX2hhbmRsZXJzW2ddO3JldHVybiB0aGlzfWlmKGIpZm9yKGM9MCxkPWoubGVuZ3RoO2MhPT1kO2MrPTEpe2lmKGk9altjXSx0aGlzLl9oYW5kbGVyc1tpXSl7Zm9yKGg9W10sZT0wLGY9dGhpcy5faGFuZGxlcnNbaV0ubGVuZ3RoO2UhPT1mO2UrPTEpdGhpcy5faGFuZGxlcnNbaV1bZV0uaGFuZGxlciE9PWImJmgucHVzaCh0aGlzLl9oYW5kbGVyc1tpXVtlXSk7dGhpcy5faGFuZGxlcnNbaV09aH10aGlzLl9oYW5kbGVyc1tpXSYmMD09PXRoaXMuX2hhbmRsZXJzW2ldLmxlbmd0aCYmZGVsZXRlIHRoaXMuX2hhbmRsZXJzW2ldfWVsc2UgZm9yKGM9MCxkPWoubGVuZ3RoO2MhPT1kO2MrPTEpZGVsZXRlIHRoaXMuX2hhbmRsZXJzW2pbY11dO3JldHVybiB0aGlzfSxhLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksaj10aGlzLGs9XCJzdHJpbmdcIj09dHlwZW9mIGE/YS5zcGxpdChcIiBcIik6YTtmb3IoYj12b2lkIDA9PT1iP3t9OmIsYz0wLGQ9ay5sZW5ndGg7YyE9PWQ7Yys9MSlpZihpPWtbY10sdGhpcy5faGFuZGxlcnNbaV0pe2ZvcihoPWouZ2V0RXZlbnQoaSxiKSxnPVtdLGU9MCxmPXRoaXMuX2hhbmRsZXJzW2ldLmxlbmd0aDtlIT09ZjtlKz0xKXRoaXMuX2hhbmRsZXJzW2ldW2VdLmhhbmRsZXIoaCksdGhpcy5faGFuZGxlcnNbaV1bZV0ub25lfHxnLnB1c2godGhpcy5faGFuZGxlcnNbaV1bZV0pO3RoaXMuX2hhbmRsZXJzW2ldPWd9cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLmdldEV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJue3R5cGU6YSxkYXRhOmJ8fHt9LHRhcmdldDp0aGlzfX0sYS5leHRlbmQ9ZnVuY3Rpb24oYixjKXt2YXIgZDtmb3IoZCBpbiBhLnByb3RvdHlwZSlhLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShkKSYmKGJbZF09YS5wcm90b3R5cGVbZF0pO2EuYXBwbHkoYixjKX0sdm9pZCAwIT09dGhpcy5zaWdtYT8odGhpcy5zaWdtYS5jbGFzc2VzPXRoaXMuc2lnbWEuY2xhc3Nlc3x8e30sdGhpcy5zaWdtYS5jbGFzc2VzLmRpc3BhdGNoZXI9YSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1hKSxleHBvcnRzLmRpc3BhdGNoZXI9YSk6dGhpcy5kaXNwYXRjaGVyPWF9LmNhbGwodGhpcyksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgYT1mdW5jdGlvbigpe3ZhciBiLGMsZD17fSxlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxmPWZ1bmN0aW9uKGEsYil7dmFyIGMsZyxoLGk7e2lmKDEhPT1hcmd1bWVudHMubGVuZ3RofHxcInN0cmluZ1wiIT10eXBlb2YgYSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEmJlwic3RyaW5nXCI9PXR5cGVvZiBiKXJldHVybiB2b2lkIDAhPT0oYXx8e30pW2JdP2FbYl06ZihiKTtmb3IoYz1cIm9iamVjdFwiPT10eXBlb2YgYSYmdm9pZCAwPT09Yj9hOnt9LFwic3RyaW5nXCI9PXR5cGVvZiBhJiYoY1thXT1iKSxnPTAsaT1PYmplY3Qua2V5cyhjKSxoPWkubGVuZ3RoO2c8aDtnKyspZFtpW2ddXT1jW2lbZ11dO3JldHVybiB0aGlzfWlmKHZvaWQgMCE9PWRbYV0pcmV0dXJuIGRbYV07Zm9yKGc9MCxoPWUubGVuZ3RoO2c8aDtnKyspaWYodm9pZCAwIT09ZVtnXVthXSlyZXR1cm4gZVtnXVthXX19O2ZvcihmLmVtYmVkT2JqZWN0cz1mdW5jdGlvbigpe3ZhciBiPWUuY29uY2F0KGQpLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApKTtyZXR1cm4gYS5hcHBseSh7fSxiKX0sYj0wLGM9YXJndW1lbnRzLmxlbmd0aDtiPGM7YisrKWYoYXJndW1lbnRzW2JdKTtyZXR1cm4gZn07dm9pZCAwIT09dGhpcy5zaWdtYT8odGhpcy5zaWdtYS5jbGFzc2VzPXRoaXMuc2lnbWEuY2xhc3Nlc3x8e30sdGhpcy5zaWdtYS5jbGFzc2VzLmNvbmZpZ3VyYWJsZT1hKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cz8oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPWEpLGV4cG9ydHMuY29uZmlndXJhYmxlPWEpOnRoaXMuY29uZmlndXJhYmxlPWF9LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQsZTtmb3IoZCBpbiBoW2FdKWhbYV1bZF0uYXBwbHkoYixhcmd1bWVudHMpO2U9Yy5hcHBseShiLGFyZ3VtZW50cyk7Zm9yKGQgaW4gZ1thXSlnW2FdW2RdLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gZX19ZnVuY3Rpb24gYyhhKXt2YXIgYjtmb3IoYiBpbiBhKVwiaGFzT3duUHJvcGVydHlcImluIGEmJiFhLmhhc093blByb3BlcnR5KGIpfHxkZWxldGUgYVtiXTtyZXR1cm4gYX12YXIgZD1PYmplY3QuY3JlYXRlKG51bGwpLGU9T2JqZWN0LmNyZWF0ZShudWxsKSxmPU9iamVjdC5jcmVhdGUobnVsbCksZz1PYmplY3QuY3JlYXRlKG51bGwpLGg9T2JqZWN0LmNyZWF0ZShudWxsKSxpPXtpbW11dGFibGU6ITAsY2xvbmU6ITB9LGo9ZnVuY3Rpb24oYSl7cmV0dXJuIGlbYV19LGs9ZnVuY3Rpb24oYSl7dmFyIGMsZSxnO2c9e3NldHRpbmdzOmF8fGosbm9kZXNBcnJheTpbXSxlZGdlc0FycmF5OltdLG5vZGVzSW5kZXg6T2JqZWN0LmNyZWF0ZShudWxsKSxlZGdlc0luZGV4Ok9iamVjdC5jcmVhdGUobnVsbCksaW5OZWlnaGJvcnNJbmRleDpPYmplY3QuY3JlYXRlKG51bGwpLG91dE5laWdoYm9yc0luZGV4Ok9iamVjdC5jcmVhdGUobnVsbCksYWxsTmVpZ2hib3JzSW5kZXg6T2JqZWN0LmNyZWF0ZShudWxsKSxpbk5laWdoYm9yc0NvdW50Ok9iamVjdC5jcmVhdGUobnVsbCksb3V0TmVpZ2hib3JzQ291bnQ6T2JqZWN0LmNyZWF0ZShudWxsKSxhbGxOZWlnaGJvcnNDb3VudDpPYmplY3QuY3JlYXRlKG51bGwpfTtmb3IoYyBpbiBmKWZbY10uY2FsbChnKTtmb3IoYyBpbiBkKWU9YihjLGcsZFtjXSksdGhpc1tjXT1lLGdbY109ZX07ay5hZGRNZXRob2Q9ZnVuY3Rpb24oYSxiKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYnx8MiE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3dcImFkZE1ldGhvZDogV3JvbmcgYXJndW1lbnRzLlwiO2lmKGRbYV18fGtbYV0pdGhyb3cnVGhlIG1ldGhvZCBcIicrYSsnXCIgYWxyZWFkeSBleGlzdHMuJztyZXR1cm4gZFthXT1iLGdbYV09T2JqZWN0LmNyZWF0ZShudWxsKSxoW2FdPU9iamVjdC5jcmVhdGUobnVsbCksdGhpc30say5oYXNNZXRob2Q9ZnVuY3Rpb24oYSl7cmV0dXJuISghZFthXSYmIWtbYV0pfSxrLmF0dGFjaD1mdW5jdGlvbihhLGIsYyxkKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYXx8XCJzdHJpbmdcIiE9dHlwZW9mIGJ8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGN8fGFyZ3VtZW50cy5sZW5ndGg8M3x8YXJndW1lbnRzLmxlbmd0aD40KXRocm93XCJhdHRhY2g6IFdyb25nIGFyZ3VtZW50cy5cIjt2YXIgZTtpZihcImNvbnN0cnVjdG9yXCI9PT1hKWU9ZjtlbHNlIGlmKGQpe2lmKCFoW2FdKXRocm93J1RoZSBtZXRob2QgXCInK2ErJ1wiIGRvZXMgbm90IGV4aXN0Lic7ZT1oW2FdfWVsc2V7aWYoIWdbYV0pdGhyb3cnVGhlIG1ldGhvZCBcIicrYSsnXCIgZG9lcyBub3QgZXhpc3QuJztlPWdbYV19aWYoZVtiXSl0aHJvdydBIGZ1bmN0aW9uIFwiJytiKydcIiBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoZSBtZXRob2QgXCInK2ErJ1wiLic7cmV0dXJuIGVbYl09Yyx0aGlzfSxrLmF0dGFjaEJlZm9yZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYXR0YWNoKGEsYixjLCEwKX0say5hZGRJbmRleD1mdW5jdGlvbihhLGIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhfHxPYmplY3QoYikhPT1ifHwyIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvd1wiYWRkSW5kZXg6IFdyb25nIGFyZ3VtZW50cy5cIjtpZihlW2FdKXRocm93J1RoZSBpbmRleCBcIicrYSsnXCIgYWxyZWFkeSBleGlzdHMuJzt2YXIgYztlW2FdPWI7Zm9yKGMgaW4gYil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYltjXSl0aHJvd1wiVGhlIGJpbmRpbmdzIG11c3QgYmUgZnVuY3Rpb25zLlwiO2suYXR0YWNoKGMsYSxiW2NdKX1yZXR1cm4gdGhpc30say5hZGRNZXRob2QoXCJhZGROb2RlXCIsZnVuY3Rpb24oYSl7aWYoT2JqZWN0KGEpIT09YXx8MSE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3dcImFkZE5vZGU6IFdyb25nIGFyZ3VtZW50cy5cIjtpZihcInN0cmluZ1wiIT10eXBlb2YgYS5pZCYmXCJudW1iZXJcIiE9dHlwZW9mIGEuaWQpdGhyb3dcIlRoZSBub2RlIG11c3QgaGF2ZSBhIHN0cmluZyBvciBudW1iZXIgaWQuXCI7aWYodGhpcy5ub2Rlc0luZGV4W2EuaWRdKXRocm93J1RoZSBub2RlIFwiJythLmlkKydcIiBhbHJlYWR5IGV4aXN0cy4nO3ZhciBiLGM9YS5pZCxkPU9iamVjdC5jcmVhdGUobnVsbCk7aWYodGhpcy5zZXR0aW5ncyhcImNsb25lXCIpKWZvcihiIGluIGEpXCJpZFwiIT09YiYmKGRbYl09YVtiXSk7ZWxzZSBkPWE7cmV0dXJuIHRoaXMuc2V0dGluZ3MoXCJpbW11dGFibGVcIik/T2JqZWN0LmRlZmluZVByb3BlcnR5KGQsXCJpZFwiLHt2YWx1ZTpjLGVudW1lcmFibGU6ITB9KTpkLmlkPWMsdGhpcy5pbk5laWdoYm9yc0luZGV4W2NdPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5vdXROZWlnaGJvcnNJbmRleFtjXT1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbY109T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmluTmVpZ2hib3JzQ291bnRbY109MCx0aGlzLm91dE5laWdoYm9yc0NvdW50W2NdPTAsdGhpcy5hbGxOZWlnaGJvcnNDb3VudFtjXT0wLHRoaXMubm9kZXNBcnJheS5wdXNoKGQpLHRoaXMubm9kZXNJbmRleFtkLmlkXT1kLHRoaXN9KSxrLmFkZE1ldGhvZChcImFkZEVkZ2VcIixmdW5jdGlvbihhKXtpZihPYmplY3QoYSkhPT1hfHwxIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvd1wiYWRkRWRnZTogV3JvbmcgYXJndW1lbnRzLlwiO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhLmlkJiZcIm51bWJlclwiIT10eXBlb2YgYS5pZCl0aHJvd1wiVGhlIGVkZ2UgbXVzdCBoYXZlIGEgc3RyaW5nIG9yIG51bWJlciBpZC5cIjtpZihcInN0cmluZ1wiIT10eXBlb2YgYS5zb3VyY2UmJlwibnVtYmVyXCIhPXR5cGVvZiBhLnNvdXJjZXx8IXRoaXMubm9kZXNJbmRleFthLnNvdXJjZV0pdGhyb3dcIlRoZSBlZGdlIHNvdXJjZSBtdXN0IGhhdmUgYW4gZXhpc3Rpbmcgbm9kZSBpZC5cIjtpZihcInN0cmluZ1wiIT10eXBlb2YgYS50YXJnZXQmJlwibnVtYmVyXCIhPXR5cGVvZiBhLnRhcmdldHx8IXRoaXMubm9kZXNJbmRleFthLnRhcmdldF0pdGhyb3dcIlRoZSBlZGdlIHRhcmdldCBtdXN0IGhhdmUgYW4gZXhpc3Rpbmcgbm9kZSBpZC5cIjtpZih0aGlzLmVkZ2VzSW5kZXhbYS5pZF0pdGhyb3cnVGhlIGVkZ2UgXCInK2EuaWQrJ1wiIGFscmVhZHkgZXhpc3RzLic7dmFyIGIsYz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHRoaXMuc2V0dGluZ3MoXCJjbG9uZVwiKSlmb3IoYiBpbiBhKVwiaWRcIiE9PWImJlwic291cmNlXCIhPT1iJiZcInRhcmdldFwiIT09YiYmKGNbYl09YVtiXSk7ZWxzZSBjPWE7cmV0dXJuIHRoaXMuc2V0dGluZ3MoXCJpbW11dGFibGVcIik/KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLFwiaWRcIix7dmFsdWU6YS5pZCxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGMsXCJzb3VyY2VcIix7dmFsdWU6YS5zb3VyY2UsZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLFwidGFyZ2V0XCIse3ZhbHVlOmEudGFyZ2V0LGVudW1lcmFibGU6ITB9KSk6KGMuaWQ9YS5pZCxjLnNvdXJjZT1hLnNvdXJjZSxjLnRhcmdldD1hLnRhcmdldCksdGhpcy5lZGdlc0FycmF5LnB1c2goYyksdGhpcy5lZGdlc0luZGV4W2MuaWRdPWMsdGhpcy5pbk5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV18fCh0aGlzLmluTmVpZ2hib3JzSW5kZXhbYy50YXJnZXRdW2Muc291cmNlXT1PYmplY3QuY3JlYXRlKG51bGwpKSx0aGlzLmluTmVpZ2hib3JzSW5kZXhbYy50YXJnZXRdW2Muc291cmNlXVtjLmlkXT1jLHRoaXMub3V0TmVpZ2hib3JzSW5kZXhbYy5zb3VyY2VdW2MudGFyZ2V0XXx8KHRoaXMub3V0TmVpZ2hib3JzSW5kZXhbYy5zb3VyY2VdW2MudGFyZ2V0XT1PYmplY3QuY3JlYXRlKG51bGwpKSx0aGlzLm91dE5laWdoYm9yc0luZGV4W2Muc291cmNlXVtjLnRhcmdldF1bYy5pZF09Yyx0aGlzLmFsbE5laWdoYm9yc0luZGV4W2Muc291cmNlXVtjLnRhcmdldF18fCh0aGlzLmFsbE5laWdoYm9yc0luZGV4W2Muc291cmNlXVtjLnRhcmdldF09T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjLnNvdXJjZV1bYy50YXJnZXRdW2MuaWRdPWMsYy50YXJnZXQhPT1jLnNvdXJjZSYmKHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbYy50YXJnZXRdW2Muc291cmNlXXx8KHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbYy50YXJnZXRdW2Muc291cmNlXT1PYmplY3QuY3JlYXRlKG51bGwpKSx0aGlzLmFsbE5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV1bYy5pZF09YyksdGhpcy5pbk5laWdoYm9yc0NvdW50W2MudGFyZ2V0XSsrLHRoaXMub3V0TmVpZ2hib3JzQ291bnRbYy5zb3VyY2VdKyssdGhpcy5hbGxOZWlnaGJvcnNDb3VudFtjLnRhcmdldF0rKyx0aGlzLmFsbE5laWdoYm9yc0NvdW50W2Muc291cmNlXSsrLHRoaXN9KSxrLmFkZE1ldGhvZChcImRyb3BOb2RlXCIsZnVuY3Rpb24oYSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJlwibnVtYmVyXCIhPXR5cGVvZiBhfHwxIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvd1wiZHJvcE5vZGU6IFdyb25nIGFyZ3VtZW50cy5cIjtpZighdGhpcy5ub2Rlc0luZGV4W2FdKXRocm93J1RoZSBub2RlIFwiJythKydcIiBkb2VzIG5vdCBleGlzdC4nO3ZhciBiLGMsZDtmb3IoZGVsZXRlIHRoaXMubm9kZXNJbmRleFthXSxiPTAsZD10aGlzLm5vZGVzQXJyYXkubGVuZ3RoO2I8ZDtiKyspaWYodGhpcy5ub2Rlc0FycmF5W2JdLmlkPT09YSl7dGhpcy5ub2Rlc0FycmF5LnNwbGljZShiLDEpO2JyZWFrfWZvcihiPXRoaXMuZWRnZXNBcnJheS5sZW5ndGgtMTtiPj0wO2ItLSl0aGlzLmVkZ2VzQXJyYXlbYl0uc291cmNlIT09YSYmdGhpcy5lZGdlc0FycmF5W2JdLnRhcmdldCE9PWF8fHRoaXMuZHJvcEVkZ2UodGhpcy5lZGdlc0FycmF5W2JdLmlkKTtkZWxldGUgdGhpcy5pbk5laWdoYm9yc0luZGV4W2FdLGRlbGV0ZSB0aGlzLm91dE5laWdoYm9yc0luZGV4W2FdLGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0luZGV4W2FdLGRlbGV0ZSB0aGlzLmluTmVpZ2hib3JzQ291bnRbYV0sZGVsZXRlIHRoaXMub3V0TmVpZ2hib3JzQ291bnRbYV0sZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzQ291bnRbYV07Zm9yKGMgaW4gdGhpcy5ub2Rlc0luZGV4KWRlbGV0ZSB0aGlzLmluTmVpZ2hib3JzSW5kZXhbY11bYV0sZGVsZXRlIHRoaXMub3V0TmVpZ2hib3JzSW5kZXhbY11bYV0sZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbY11bYV07cmV0dXJuIHRoaXN9KSxrLmFkZE1ldGhvZChcImRyb3BFZGdlXCIsZnVuY3Rpb24oYSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJlwibnVtYmVyXCIhPXR5cGVvZiBhfHwxIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvd1wiZHJvcEVkZ2U6IFdyb25nIGFyZ3VtZW50cy5cIjtpZighdGhpcy5lZGdlc0luZGV4W2FdKXRocm93J1RoZSBlZGdlIFwiJythKydcIiBkb2VzIG5vdCBleGlzdC4nO3ZhciBiLGMsZDtmb3IoZD10aGlzLmVkZ2VzSW5kZXhbYV0sZGVsZXRlIHRoaXMuZWRnZXNJbmRleFthXSxiPTAsYz10aGlzLmVkZ2VzQXJyYXkubGVuZ3RoO2I8YztiKyspaWYodGhpcy5lZGdlc0FycmF5W2JdLmlkPT09YSl7dGhpcy5lZGdlc0FycmF5LnNwbGljZShiLDEpO2JyZWFrfXJldHVybiBkZWxldGUgdGhpcy5pbk5laWdoYm9yc0luZGV4W2QudGFyZ2V0XVtkLnNvdXJjZV1bZC5pZF0sT2JqZWN0LmtleXModGhpcy5pbk5laWdoYm9yc0luZGV4W2QudGFyZ2V0XVtkLnNvdXJjZV0pLmxlbmd0aHx8ZGVsZXRlIHRoaXMuaW5OZWlnaGJvcnNJbmRleFtkLnRhcmdldF1bZC5zb3VyY2VdLGRlbGV0ZSB0aGlzLm91dE5laWdoYm9yc0luZGV4W2Quc291cmNlXVtkLnRhcmdldF1bZC5pZF0sT2JqZWN0LmtleXModGhpcy5vdXROZWlnaGJvcnNJbmRleFtkLnNvdXJjZV1bZC50YXJnZXRdKS5sZW5ndGh8fGRlbGV0ZSB0aGlzLm91dE5laWdoYm9yc0luZGV4W2Quc291cmNlXVtkLnRhcmdldF0sZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbZC5zb3VyY2VdW2QudGFyZ2V0XVtkLmlkXSxPYmplY3Qua2V5cyh0aGlzLmFsbE5laWdoYm9yc0luZGV4W2Quc291cmNlXVtkLnRhcmdldF0pLmxlbmd0aHx8ZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbZC5zb3VyY2VdW2QudGFyZ2V0XSxkLnRhcmdldCE9PWQuc291cmNlJiYoZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbZC50YXJnZXRdW2Quc291cmNlXVtkLmlkXSxPYmplY3Qua2V5cyh0aGlzLmFsbE5laWdoYm9yc0luZGV4W2QudGFyZ2V0XVtkLnNvdXJjZV0pLmxlbmd0aHx8ZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbZC50YXJnZXRdW2Quc291cmNlXSksdGhpcy5pbk5laWdoYm9yc0NvdW50W2QudGFyZ2V0XS0tLHRoaXMub3V0TmVpZ2hib3JzQ291bnRbZC5zb3VyY2VdLS0sdGhpcy5hbGxOZWlnaGJvcnNDb3VudFtkLnNvdXJjZV0tLSx0aGlzLmFsbE5laWdoYm9yc0NvdW50W2QudGFyZ2V0XS0tLHRoaXN9KSxrLmFkZE1ldGhvZChcImtpbGxcIixmdW5jdGlvbigpe3RoaXMubm9kZXNBcnJheS5sZW5ndGg9MCx0aGlzLmVkZ2VzQXJyYXkubGVuZ3RoPTAsZGVsZXRlIHRoaXMubm9kZXNBcnJheSxkZWxldGUgdGhpcy5lZGdlc0FycmF5LGRlbGV0ZSB0aGlzLm5vZGVzSW5kZXgsZGVsZXRlIHRoaXMuZWRnZXNJbmRleCxkZWxldGUgdGhpcy5pbk5laWdoYm9yc0luZGV4LGRlbGV0ZSB0aGlzLm91dE5laWdoYm9yc0luZGV4LGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0luZGV4LGRlbGV0ZSB0aGlzLmluTmVpZ2hib3JzQ291bnQsZGVsZXRlIHRoaXMub3V0TmVpZ2hib3JzQ291bnQsZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzQ291bnR9KSxrLmFkZE1ldGhvZChcImNsZWFyXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc0FycmF5Lmxlbmd0aD0wLHRoaXMuZWRnZXNBcnJheS5sZW5ndGg9MCxjKHRoaXMubm9kZXNJbmRleCksYyh0aGlzLmVkZ2VzSW5kZXgpLGModGhpcy5ub2Rlc0luZGV4KSxjKHRoaXMuaW5OZWlnaGJvcnNJbmRleCksYyh0aGlzLm91dE5laWdoYm9yc0luZGV4KSxjKHRoaXMuYWxsTmVpZ2hib3JzSW5kZXgpLGModGhpcy5pbk5laWdoYm9yc0NvdW50KSxjKHRoaXMub3V0TmVpZ2hib3JzQ291bnQpLGModGhpcy5hbGxOZWlnaGJvcnNDb3VudCksdGhpc30pLGsuYWRkTWV0aG9kKFwicmVhZFwiLGZ1bmN0aW9uKGEpe3ZhciBiLGMsZDtmb3IoYz1hLm5vZGVzfHxbXSxiPTAsZD1jLmxlbmd0aDtiPGQ7YisrKXRoaXMuYWRkTm9kZShjW2JdKTtmb3IoYz1hLmVkZ2VzfHxbXSxiPTAsZD1jLmxlbmd0aDtiPGQ7YisrKXRoaXMuYWRkRWRnZShjW2JdKTtyZXR1cm4gdGhpc30pLGsuYWRkTWV0aG9kKFwibm9kZXNcIixmdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5ub2Rlc0FycmF5LnNsaWNlKDApO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYoXCJzdHJpbmdcIj09dHlwZW9mIGF8fFwibnVtYmVyXCI9PXR5cGVvZiBhKSlyZXR1cm4gdGhpcy5ub2Rlc0luZGV4W2FdO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiZcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkpe3ZhciBiLGMsZD1bXTtmb3IoYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGFbYl0mJlwibnVtYmVyXCIhPXR5cGVvZiBhW2JdKXRocm93XCJub2RlczogV3JvbmcgYXJndW1lbnRzLlwiO2QucHVzaCh0aGlzLm5vZGVzSW5kZXhbYVtiXV0pfXJldHVybiBkfXRocm93XCJub2RlczogV3JvbmcgYXJndW1lbnRzLlwifSksay5hZGRNZXRob2QoXCJkZWdyZWVcIixmdW5jdGlvbihhLGIpe2lmKGI9e2luOnRoaXMuaW5OZWlnaGJvcnNDb3VudCxvdXQ6dGhpcy5vdXROZWlnaGJvcnNDb3VudH1bYnx8XCJcIl18fHRoaXMuYWxsTmVpZ2hib3JzQ291bnQsXCJzdHJpbmdcIj09dHlwZW9mIGF8fFwibnVtYmVyXCI9PXR5cGVvZiBhKXJldHVybiBiW2FdO2lmKFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSl7dmFyIGMsZCxlPVtdO2ZvcihjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYVtjXSYmXCJudW1iZXJcIiE9dHlwZW9mIGFbY10pdGhyb3dcImRlZ3JlZTogV3JvbmcgYXJndW1lbnRzLlwiO2UucHVzaChiW2FbY11dKX1yZXR1cm4gZX10aHJvd1wiZGVncmVlOiBXcm9uZyBhcmd1bWVudHMuXCJ9KSxrLmFkZE1ldGhvZChcImVkZ2VzXCIsZnVuY3Rpb24oYSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuZWRnZXNBcnJheS5zbGljZSgwKTtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmKFwic3RyaW5nXCI9PXR5cGVvZiBhfHxcIm51bWJlclwiPT10eXBlb2YgYSkpcmV0dXJuIHRoaXMuZWRnZXNJbmRleFthXTtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpKXt2YXIgYixjLGQ9W107Zm9yKGI9MCxjPWEubGVuZ3RoO2I8YztiKyspe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhW2JdJiZcIm51bWJlclwiIT10eXBlb2YgYVtiXSl0aHJvd1wiZWRnZXM6IFdyb25nIGFyZ3VtZW50cy5cIjtkLnB1c2godGhpcy5lZGdlc0luZGV4W2FbYl1dKX1yZXR1cm4gZH10aHJvd1wiZWRnZXM6IFdyb25nIGFyZ3VtZW50cy5cIn0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzaWdtYT8oc2lnbWEuY2xhc3Nlcz1zaWdtYS5jbGFzc2VzfHxPYmplY3QuY3JlYXRlKG51bGwpLHNpZ21hLmNsYXNzZXMuZ3JhcGg9ayk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1rKSxleHBvcnRzLmdyYXBoPWspOnRoaXMuZ3JhcGg9a30uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNsYXNzZXNcIiksc2lnbWEuY2xhc3Nlcy5jYW1lcmE9ZnVuY3Rpb24oYSxiLGMsZCl7c2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImdyYXBoXCIse3ZhbHVlOmJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlkXCIse3ZhbHVlOmF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInJlYWRQcmVmaXhcIix7dmFsdWU6XCJyZWFkX2NhbVwiK2ErXCI6XCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInByZWZpeFwiLHt2YWx1ZTpcImNhbVwiK2ErXCI6XCJ9KSx0aGlzLng9MCx0aGlzLnk9MCx0aGlzLnJhdGlvPTEsdGhpcy5hbmdsZT0wLHRoaXMuaXNBbmltYXRlZD0hMSx0aGlzLnNldHRpbmdzPVwib2JqZWN0XCI9PXR5cGVvZiBkJiZkP2MuZW1iZWRPYmplY3QoZCk6Y30sc2lnbWEuY2xhc3Nlcy5jYW1lcmEucHJvdG90eXBlLmdvVG89ZnVuY3Rpb24oYil7aWYoIXRoaXMuc2V0dGluZ3MoXCJlbmFibGVDYW1lcmFcIikpcmV0dXJuIHRoaXM7dmFyIGMsZCxlPWJ8fHt9LGY9W1wieFwiLFwieVwiLFwicmF0aW9cIixcImFuZ2xlXCJdO2ZvcihjPTAsZD1mLmxlbmd0aDtjPGQ7YysrKWlmKGVbZltjXV0hPT1hKXtpZihcIm51bWJlclwiIT10eXBlb2YgZVtmW2NdXXx8aXNOYU4oZVtmW2NdXSkpdGhyb3cnVmFsdWUgZm9yIFwiJytmW2NdKydcIiBpcyBub3QgYSBudW1iZXIuJzt0aGlzW2ZbY11dPWVbZltjXV19cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudChcImNvb3JkaW5hdGVzVXBkYXRlZFwiKSx0aGlzfSxzaWdtYS5jbGFzc2VzLmNhbWVyYS5wcm90b3R5cGUuYXBwbHlWaWV3PWZ1bmN0aW9uKGIsYyxkKXtkPWR8fHt9LGM9YyE9PWE/Yzp0aGlzLnByZWZpeCxiPWIhPT1hP2I6dGhpcy5yZWFkUHJlZml4O3ZhciBlLGYsZyxoPWQubm9kZXN8fHRoaXMuZ3JhcGgubm9kZXMoKSxpPWQuZWRnZXN8fHRoaXMuZ3JhcGguZWRnZXMoKSxqPU1hdGguY29zKHRoaXMuYW5nbGUpL3RoaXMucmF0aW8saz1NYXRoLnNpbih0aGlzLmFuZ2xlKS90aGlzLnJhdGlvLGw9TWF0aC5wb3codGhpcy5yYXRpbyx0aGlzLnNldHRpbmdzKFwibm9kZXNQb3dSYXRpb1wiKSksbT1NYXRoLnBvdyh0aGlzLnJhdGlvLHRoaXMuc2V0dGluZ3MoXCJlZGdlc1Bvd1JhdGlvXCIpKSxuPShkLndpZHRofHwwKS8yLXRoaXMueCpqLXRoaXMueSprLG89KGQuaGVpZ2h0fHwwKS8yLXRoaXMueSpqK3RoaXMueCprO2ZvcihlPTAsZj1oLmxlbmd0aDtlPGY7ZSsrKWc9aFtlXSxnW2MrXCJ4XCJdPShnW2IrXCJ4XCJdfHwwKSpqKyhnW2IrXCJ5XCJdfHwwKSprK24sZ1tjK1wieVwiXT0oZ1tiK1wieVwiXXx8MCkqai0oZ1tiK1wieFwiXXx8MCkqaytvLGdbYytcInNpemVcIl09KGdbYitcInNpemVcIl18fDApL2w7Zm9yKGU9MCxmPWkubGVuZ3RoO2U8ZjtlKyspaVtlXVtjK1wic2l6ZVwiXT0oaVtlXVtiK1wic2l6ZVwiXXx8MCkvbTtyZXR1cm4gdGhpc30sc2lnbWEuY2xhc3Nlcy5jYW1lcmEucHJvdG90eXBlLmdyYXBoUG9zaXRpb249ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPTAsZT0wLGY9TWF0aC5jb3ModGhpcy5hbmdsZSksZz1NYXRoLnNpbih0aGlzLmFuZ2xlKTtyZXR1cm4gY3x8KGQ9LSh0aGlzLngqZit0aGlzLnkqZykvdGhpcy5yYXRpbyxlPS0odGhpcy55KmYtdGhpcy54KmcpL3RoaXMucmF0aW8pLHt4OihhKmYrYipnKS90aGlzLnJhdGlvK2QseTooYipmLWEqZykvdGhpcy5yYXRpbytlfX0sc2lnbWEuY2xhc3Nlcy5jYW1lcmEucHJvdG90eXBlLmNhbWVyYVBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9MCxmPU1hdGguY29zKHRoaXMuYW5nbGUpLGc9TWF0aC5zaW4odGhpcy5hbmdsZSk7cmV0dXJuIGN8fChkPS0odGhpcy54KmYrdGhpcy55KmcpL3RoaXMucmF0aW8sZT0tKHRoaXMueSpmLXRoaXMueCpnKS90aGlzLnJhdGlvKSx7eDooKGEtZCkqZi0oYi1lKSpnKSp0aGlzLnJhdGlvLHk6KChiLWUpKmYrKGEtZCkqZykqdGhpcy5yYXRpb319LHNpZ21hLmNsYXNzZXMuY2FtZXJhLnByb3RvdHlwZS5nZXRNYXRyaXg9ZnVuY3Rpb24oKXt2YXIgYT1zaWdtYS51dGlscy5tYXRyaWNlcy5zY2FsZSgxL3RoaXMucmF0aW8pLGI9c2lnbWEudXRpbHMubWF0cmljZXMucm90YXRpb24odGhpcy5hbmdsZSksYz1zaWdtYS51dGlscy5tYXRyaWNlcy50cmFuc2xhdGlvbigtdGhpcy54LC10aGlzLnkpO3JldHVybiBzaWdtYS51dGlscy5tYXRyaWNlcy5tdWx0aXBseShjLHNpZ21hLnV0aWxzLm1hdHJpY2VzLm11bHRpcGx5KGIsYSkpfSxzaWdtYS5jbGFzc2VzLmNhbWVyYS5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYW1lcmFQb3NpdGlvbihhLDAsITApLGQ9dGhpcy5jYW1lcmFQb3NpdGlvbigwLGIsITApLGU9dGhpcy5jYW1lcmFQb3NpdGlvbihhLzIsYi8yLCEwKSxmPXRoaXMuY2FtZXJhUG9zaXRpb24oYS80LDAsITApLngsZz10aGlzLmNhbWVyYVBvc2l0aW9uKDAsYi80LCEwKS55O3JldHVybnt4MTp0aGlzLngtZS54LWYseTE6dGhpcy55LWUueS1nLHgyOnRoaXMueC1lLngrZitjLngseTI6dGhpcy55LWUueS1nK2MueSxoZWlnaHQ6TWF0aC5zcXJ0KE1hdGgucG93KGQueCwyKStNYXRoLnBvdyhkLnkrMipnLDIpKX19fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz1iLngrYi53aWR0aC8yLGQ9Yi55K2IuaGVpZ2h0LzIsZT1hLnk8ZCxmPWEueDxjO3JldHVybiBlP2Y/MDoxOmY/MjozfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8NDtkKyspYS54Mj49YltkXVswXS54JiZhLngxPD1iW2RdWzFdLngmJmEueTErYS5oZWlnaHQ+PWJbZF1bMF0ueSYmYS55MTw9YltkXVsyXS55JiZjLnB1c2goZCk7cmV0dXJuIGN9ZnVuY3Rpb24gZChhLGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDw0O2QrKylqLmNvbGxpc2lvbihhLGJbZF0pJiZjLnB1c2goZCk7cmV0dXJuIGN9ZnVuY3Rpb24gZShhLGIpe3ZhciBjLGQsZT1iLmxldmVsKzEsZj1NYXRoLnJvdW5kKGIuYm91bmRzLndpZHRoLzIpLGc9TWF0aC5yb3VuZChiLmJvdW5kcy5oZWlnaHQvMiksaD1NYXRoLnJvdW5kKGIuYm91bmRzLngpLGo9TWF0aC5yb3VuZChiLmJvdW5kcy55KTtzd2l0Y2goYSl7Y2FzZSAwOmM9aCxkPWo7YnJlYWs7Y2FzZSAxOmM9aCtmLGQ9ajticmVhaztjYXNlIDI6Yz1oLGQ9aitnO2JyZWFrO2Nhc2UgMzpjPWgrZixkPWorZ31yZXR1cm4gaSh7eDpjLHk6ZCx3aWR0aDpmLGhlaWdodDpnfSxlLGIubWF4RWxlbWVudHMsYi5tYXhMZXZlbCl9ZnVuY3Rpb24gZihiLGQsZyl7aWYoZy5sZXZlbDxnLm1heExldmVsKWZvcih2YXIgaD1jKGQsZy5jb3JuZXJzKSxpPTAsaj1oLmxlbmd0aDtpPGo7aSsrKWcubm9kZXNbaFtpXV09PT1hJiYoZy5ub2Rlc1toW2ldXT1lKGhbaV0sZykpLGYoYixkLGcubm9kZXNbaFtpXV0pO2Vsc2UgZy5lbGVtZW50cy5wdXNoKGIpfWZ1bmN0aW9uIGcoYyxkKXtpZihkLmxldmVsPGQubWF4TGV2ZWwpe3ZhciBlPWIoYyxkLmJvdW5kcyk7cmV0dXJuIGQubm9kZXNbZV0hPT1hP2coYyxkLm5vZGVzW2VdKTpbXX1yZXR1cm4gZC5lbGVtZW50c31mdW5jdGlvbiBoKGIsYyxkLGUpe2lmKGU9ZXx8e30sYy5sZXZlbDxjLm1heExldmVsKWZvcih2YXIgZj1kKGIsYy5jb3JuZXJzKSxnPTAsaT1mLmxlbmd0aDtnPGk7ZysrKWMubm9kZXNbZltnXV0hPT1hJiZoKGIsYy5ub2Rlc1tmW2ddXSxkLGUpO2Vsc2UgZm9yKHZhciBqPTAsaz1jLmVsZW1lbnRzLmxlbmd0aDtqPGs7aisrKWVbYy5lbGVtZW50c1tqXS5pZF09PT1hJiYoZVtjLmVsZW1lbnRzW2pdLmlkXT1jLmVsZW1lbnRzW2pdKTtyZXR1cm4gZX1mdW5jdGlvbiBpKGEsYixjLGQpe3JldHVybntsZXZlbDpifHwwLGJvdW5kczphLGNvcm5lcnM6ai5zcGxpdFNxdWFyZShhKSxtYXhFbGVtZW50czpjfHwyMCxtYXhMZXZlbDpkfHw0LGVsZW1lbnRzOltdLG5vZGVzOltdfX12YXIgaj17cG9pbnRUb1NxdWFyZTpmdW5jdGlvbihhKXtyZXR1cm57eDE6YS54LWEuc2l6ZSx5MTphLnktYS5zaXplLHgyOmEueCthLnNpemUseTI6YS55LWEuc2l6ZSxoZWlnaHQ6MiphLnNpemV9fSxpc0F4aXNBbGlnbmVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLngxPT09YS54Mnx8YS55MT09PWEueTJ9LGF4aXNBbGlnbmVkVG9wUG9pbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnkxPT09YS55MiYmYS54MTxhLngyP2E6YS54MT09PWEueDImJmEueTI+YS55MT97eDE6YS54MS1hLmhlaWdodCx5MTphLnkxLHgyOmEueDEseTI6YS55MSxoZWlnaHQ6YS5oZWlnaHR9OmEueDE9PT1hLngyJiZhLnkyPGEueTE/e3gxOmEueDEseTE6YS55Mix4MjphLngyK2EuaGVpZ2h0LHkyOmEueTIsaGVpZ2h0OmEuaGVpZ2h0fTp7eDE6YS54Mix5MTphLnkxLWEuaGVpZ2h0LHgyOmEueDEseTI6YS55MS1hLmhlaWdodCxoZWlnaHQ6YS5oZWlnaHR9fSxsb3dlckxlZnRDb29yOmZ1bmN0aW9uKGEpe3ZhciBiPU1hdGguc3FydChNYXRoLnBvdyhhLngyLWEueDEsMikrTWF0aC5wb3coYS55Mi1hLnkxLDIpKTtyZXR1cm57eDphLngxLShhLnkyLWEueTEpKmEuaGVpZ2h0L2IseTphLnkxKyhhLngyLWEueDEpKmEuaGVpZ2h0L2J9fSxsb3dlclJpZ2h0Q29vcjpmdW5jdGlvbihhLGIpe3JldHVybnt4OmIueC1hLngxK2EueDIseTpiLnktYS55MSthLnkyfX0scmVjdGFuZ2xlQ29ybmVyczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxvd2VyTGVmdENvb3IoYSksYz10aGlzLmxvd2VyUmlnaHRDb29yKGEsYik7cmV0dXJuW3t4OmEueDEseTphLnkxfSx7eDphLngyLHk6YS55Mn0se3g6Yi54LHk6Yi55fSx7eDpjLngseTpjLnl9XX0sc3BsaXRTcXVhcmU6ZnVuY3Rpb24oYSl7cmV0dXJuW1t7eDphLngseTphLnl9LHt4OmEueCthLndpZHRoLzIseTphLnl9LHt4OmEueCx5OmEueSthLmhlaWdodC8yfSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0LzJ9XSxbe3g6YS54K2Eud2lkdGgvMix5OmEueX0se3g6YS54K2Eud2lkdGgseTphLnl9LHt4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgseTphLnkrYS5oZWlnaHQvMn1dLFt7eDphLngseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodC8yfSx7eDphLngseTphLnkrYS5oZWlnaHR9LHt4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHR9XSxbe3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodC8yfSx7eDphLngrYS53aWR0aCx5OmEueSthLmhlaWdodC8yfSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0fSx7eDphLngrYS53aWR0aCx5OmEueSthLmhlaWdodH1dXX0sYXhpczpmdW5jdGlvbihhLGIpe3JldHVyblt7eDphWzFdLngtYVswXS54LHk6YVsxXS55LWFbMF0ueX0se3g6YVsxXS54LWFbM10ueCx5OmFbMV0ueS1hWzNdLnl9LHt4OmJbMF0ueC1iWzJdLngseTpiWzBdLnktYlsyXS55fSx7eDpiWzBdLngtYlsxXS54LHk6YlswXS55LWJbMV0ueX1dfSxwcm9qZWN0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9KGEueCpiLngrYS55KmIueSkvKE1hdGgucG93KGIueCwyKStNYXRoLnBvdyhiLnksMikpO3JldHVybnt4OmMqYi54LHk6YypiLnl9fSxheGlzQ29sbGlzaW9uOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9W10sZT1bXSxmPTA7Zjw0O2YrKyl7dmFyIGc9dGhpcy5wcm9qZWN0aW9uKGJbZl0sYSksaD10aGlzLnByb2plY3Rpb24oY1tmXSxhKTtkLnB1c2goZy54KmEueCtnLnkqYS55KSxlLnB1c2goaC54KmEueCtoLnkqYS55KX12YXIgaT1NYXRoLm1heC5hcHBseShNYXRoLGQpLGo9TWF0aC5tYXguYXBwbHkoTWF0aCxlKSxrPU1hdGgubWluLmFwcGx5KE1hdGgsZCk7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsZSk8PWkmJmo+PWt9LGNvbGxpc2lvbjpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmF4aXMoYSxiKSxkPSEwLGU9MDtlPDQ7ZSsrKWQ9ZCYmdGhpcy5heGlzQ29sbGlzaW9uKGNbZV0sYSxiKTtyZXR1cm4gZH19LGs9ZnVuY3Rpb24oKXt0aGlzLl9nZW9tPWosdGhpcy5fdHJlZT1udWxsLHRoaXMuX2NhY2hlPXtxdWVyeTohMSxyZXN1bHQ6ITF9fTtrLnByb3RvdHlwZS5pbmRleD1mdW5jdGlvbihhLGIpe2lmKCFiLmJvdW5kcyl0aHJvd1wic2lnbWEuY2xhc3Nlcy5xdWFkLmluZGV4OiBib3VuZHMgaW5mb3JtYXRpb24gbm90IGdpdmVuLlwiO3ZhciBjPWIucHJlZml4fHxcIlwiO3RoaXMuX3RyZWU9aShiLmJvdW5kcywwLGIubWF4RWxlbWVudHMsYi5tYXhMZXZlbCk7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWYoYVtkXSxqLnBvaW50VG9TcXVhcmUoe3g6YVtkXVtjK1wieFwiXSx5OmFbZF1bYytcInlcIl0sc2l6ZTphW2RdW2MrXCJzaXplXCJdfSksdGhpcy5fdHJlZSk7cmV0dXJuIHRoaXMuX2NhY2hlPXtxdWVyeTohMSxyZXN1bHQ6ITF9LHRoaXMuX3RyZWV9LGsucHJvdG90eXBlLnBvaW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX3RyZWU/Zyh7eDphLHk6Yn0sdGhpcy5fdHJlZSl8fFtdOltdfSxrLnByb3RvdHlwZS5hcmVhPWZ1bmN0aW9uKGEpe3ZhciBiLGUsZj1KU09OLnN0cmluZ2lmeShhKTtpZih0aGlzLl9jYWNoZS5xdWVyeT09PWYpcmV0dXJuIHRoaXMuX2NhY2hlLnJlc3VsdDtqLmlzQXhpc0FsaWduZWQoYSk/KGI9YyxlPWouYXhpc0FsaWduZWRUb3BQb2ludHMoYSkpOihiPWQsZT1qLnJlY3RhbmdsZUNvcm5lcnMoYSkpO3ZhciBnPXRoaXMuX3RyZWU/aChlLHRoaXMuX3RyZWUsYik6W10saT1bXTtmb3IodmFyIGsgaW4gZylpLnB1c2goZ1trXSk7cmV0dXJuIHRoaXMuX2NhY2hlLnF1ZXJ5PWYsdGhpcy5fY2FjaGUucmVzdWx0PWksaX0sdm9pZCAwIT09dGhpcy5zaWdtYT8odGhpcy5zaWdtYS5jbGFzc2VzPXRoaXMuc2lnbWEuY2xhc3Nlc3x8e30sdGhpcy5zaWdtYS5jbGFzc2VzLnF1YWQ9ayk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1rKSxleHBvcnRzLnF1YWQ9ayk6dGhpcy5xdWFkPWt9LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhLGIpe3ZhciBjPWIueCtiLndpZHRoLzIsZD1iLnkrYi5oZWlnaHQvMixlPWEueTxkLGY9YS54PGM7cmV0dXJuIGU/Zj8wOjE6Zj8yOjN9ZnVuY3Rpb24gYyhhLGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDw0O2QrKylhLngyPj1iW2RdWzBdLngmJmEueDE8PWJbZF1bMV0ueCYmYS55MSthLmhlaWdodD49YltkXVswXS55JiZhLnkxPD1iW2RdWzJdLnkmJmMucHVzaChkKTtyZXR1cm4gY31mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPDQ7ZCsrKWouY29sbGlzaW9uKGEsYltkXSkmJmMucHVzaChkKTtyZXR1cm4gY31mdW5jdGlvbiBlKGEsYil7dmFyIGMsZCxlPWIubGV2ZWwrMSxmPU1hdGgucm91bmQoYi5ib3VuZHMud2lkdGgvMiksZz1NYXRoLnJvdW5kKGIuYm91bmRzLmhlaWdodC8yKSxoPU1hdGgucm91bmQoYi5ib3VuZHMueCksaj1NYXRoLnJvdW5kKGIuYm91bmRzLnkpO3N3aXRjaChhKXtjYXNlIDA6Yz1oLGQ9ajticmVhaztjYXNlIDE6Yz1oK2YsZD1qO2JyZWFrO2Nhc2UgMjpjPWgsZD1qK2c7YnJlYWs7Y2FzZSAzOmM9aCtmLGQ9aitnfXJldHVybiBpKHt4OmMseTpkLHdpZHRoOmYsaGVpZ2h0Omd9LGUsYi5tYXhFbGVtZW50cyxiLm1heExldmVsKX1mdW5jdGlvbiBmKGIsZCxnKXtpZihnLmxldmVsPGcubWF4TGV2ZWwpZm9yKHZhciBoPWMoZCxnLmNvcm5lcnMpLGk9MCxqPWgubGVuZ3RoO2k8ajtpKyspZy5ub2Rlc1toW2ldXT09PWEmJihnLm5vZGVzW2hbaV1dPWUoaFtpXSxnKSksZihiLGQsZy5ub2Rlc1toW2ldXSk7ZWxzZSBnLmVsZW1lbnRzLnB1c2goYil9ZnVuY3Rpb24gZyhjLGQpe2lmKGQubGV2ZWw8ZC5tYXhMZXZlbCl7dmFyIGU9YihjLGQuYm91bmRzKTtyZXR1cm4gZC5ub2Rlc1tlXSE9PWE/ZyhjLGQubm9kZXNbZV0pOltdfXJldHVybiBkLmVsZW1lbnRzfWZ1bmN0aW9uIGgoYixjLGQsZSl7aWYoZT1lfHx7fSxjLmxldmVsPGMubWF4TGV2ZWwpZm9yKHZhciBmPWQoYixjLmNvcm5lcnMpLGc9MCxpPWYubGVuZ3RoO2c8aTtnKyspYy5ub2Rlc1tmW2ddXSE9PWEmJmgoYixjLm5vZGVzW2ZbZ11dLGQsZSk7ZWxzZSBmb3IodmFyIGo9MCxrPWMuZWxlbWVudHMubGVuZ3RoO2o8aztqKyspZVtjLmVsZW1lbnRzW2pdLmlkXT09PWEmJihlW2MuZWxlbWVudHNbal0uaWRdPWMuZWxlbWVudHNbal0pO3JldHVybiBlfWZ1bmN0aW9uIGkoYSxiLGMsZCl7cmV0dXJue2xldmVsOmJ8fDAsYm91bmRzOmEsY29ybmVyczpqLnNwbGl0U3F1YXJlKGEpLG1heEVsZW1lbnRzOmN8fDQwLG1heExldmVsOmR8fDgsZWxlbWVudHM6W10sbm9kZXM6W119fXZhciBqPXtwb2ludFRvU3F1YXJlOmZ1bmN0aW9uKGEpe3JldHVybnt4MTphLngtYS5zaXplLHkxOmEueS1hLnNpemUseDI6YS54K2Euc2l6ZSx5MjphLnktYS5zaXplLGhlaWdodDoyKmEuc2l6ZX19LGxpbmVUb1NxdWFyZTpmdW5jdGlvbihhKXtyZXR1cm4gYS55MTxhLnkyP2EueDE8YS54Mj97eDE6YS54MS1hLnNpemUseTE6YS55MS1hLnNpemUseDI6YS54MithLnNpemUseTI6YS55MS1hLnNpemUsaGVpZ2h0OmEueTItYS55MSsyKmEuc2l6ZX06e3gxOmEueDItYS5zaXplLHkxOmEueTEtYS5zaXplLHgyOmEueDErYS5zaXplLHkyOmEueTEtYS5zaXplLGhlaWdodDphLnkyLWEueTErMiphLnNpemV9OmEueDE8YS54Mj97eDE6YS54MS1hLnNpemUseTE6YS55Mi1hLnNpemUseDI6YS54MithLnNpemUseTI6YS55Mi1hLnNpemUsaGVpZ2h0OmEueTEtYS55MisyKmEuc2l6ZX06e3gxOmEueDItYS5zaXplLHkxOmEueTItYS5zaXplLHgyOmEueDErYS5zaXplLHkyOmEueTItYS5zaXplLGhlaWdodDphLnkxLWEueTIrMiphLnNpemV9fSxxdWFkcmF0aWNDdXJ2ZVRvU3F1YXJlOmZ1bmN0aW9uKGEsYil7dmFyIGM9c2lnbWEudXRpbHMuZ2V0UG9pbnRPblF1YWRyYXRpY0N1cnZlKC41LGEueDEsYS55MSxhLngyLGEueTIsYi54LGIueSksZD1NYXRoLm1pbihhLngxLGEueDIsYy54KSxlPU1hdGgubWF4KGEueDEsYS54MixjLngpLGY9TWF0aC5taW4oYS55MSxhLnkyLGMueSksZz1NYXRoLm1heChhLnkxLGEueTIsYy55KTtyZXR1cm57eDE6ZC1hLnNpemUseTE6Zi1hLnNpemUseDI6ZSthLnNpemUseTI6Zi1hLnNpemUsaGVpZ2h0OmctZisyKmEuc2l6ZX19LHNlbGZMb29wVG9TcXVhcmU6ZnVuY3Rpb24oYSl7dmFyIGI9c2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzKGEueCxhLnksYS5zaXplKSxjPU1hdGgubWluKGEueCxiLngxLGIueDIpLGQ9TWF0aC5tYXgoYS54LGIueDEsYi54MiksZT1NYXRoLm1pbihhLnksYi55MSxiLnkyKSxmPU1hdGgubWF4KGEueSxiLnkxLGIueTIpO3JldHVybnt4MTpjLWEuc2l6ZSx5MTplLWEuc2l6ZSx4MjpkK2Euc2l6ZSx5MjplLWEuc2l6ZSxoZWlnaHQ6Zi1lKzIqYS5zaXplfX0saXNBeGlzQWxpZ25lZDpmdW5jdGlvbihhKXtyZXR1cm4gYS54MT09PWEueDJ8fGEueTE9PT1hLnkyfSxheGlzQWxpZ25lZFRvcFBvaW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS55MT09PWEueTImJmEueDE8YS54Mj9hOmEueDE9PT1hLngyJiZhLnkyPmEueTE/e3gxOmEueDEtYS5oZWlnaHQseTE6YS55MSx4MjphLngxLHkyOmEueTEsaGVpZ2h0OmEuaGVpZ2h0fTphLngxPT09YS54MiYmYS55MjxhLnkxP3t4MTphLngxLHkxOmEueTIseDI6YS54MithLmhlaWdodCx5MjphLnkyLGhlaWdodDphLmhlaWdodH06e3gxOmEueDIseTE6YS55MS1hLmhlaWdodCx4MjphLngxLHkyOmEueTEtYS5oZWlnaHQsaGVpZ2h0OmEuaGVpZ2h0fX0sbG93ZXJMZWZ0Q29vcjpmdW5jdGlvbihhKXt2YXIgYj1NYXRoLnNxcnQoTWF0aC5wb3coYS54Mi1hLngxLDIpK01hdGgucG93KGEueTItYS55MSwyKSk7cmV0dXJue3g6YS54MS0oYS55Mi1hLnkxKSphLmhlaWdodC9iLHk6YS55MSsoYS54Mi1hLngxKSphLmhlaWdodC9ifX0sbG93ZXJSaWdodENvb3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm57eDpiLngtYS54MSthLngyLHk6Yi55LWEueTErYS55Mn19LHJlY3RhbmdsZUNvcm5lcnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sb3dlckxlZnRDb29yKGEpLGM9dGhpcy5sb3dlclJpZ2h0Q29vcihhLGIpO3JldHVyblt7eDphLngxLHk6YS55MX0se3g6YS54Mix5OmEueTJ9LHt4OmIueCx5OmIueX0se3g6Yy54LHk6Yy55fV19LHNwbGl0U3F1YXJlOmZ1bmN0aW9uKGEpe3JldHVybltbe3g6YS54LHk6YS55fSx7eDphLngrYS53aWR0aC8yLHk6YS55fSx7eDphLngseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodC8yfV0sW3t4OmEueCthLndpZHRoLzIseTphLnl9LHt4OmEueCthLndpZHRoLHk6YS55fSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLHk6YS55K2EuaGVpZ2h0LzJ9XSxbe3g6YS54LHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn0se3g6YS54LHk6YS55K2EuaGVpZ2h0fSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0fV0sW3t4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodH0se3g6YS54K2Eud2lkdGgseTphLnkrYS5oZWlnaHR9XV19LGF4aXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5be3g6YVsxXS54LWFbMF0ueCx5OmFbMV0ueS1hWzBdLnl9LHt4OmFbMV0ueC1hWzNdLngseTphWzFdLnktYVszXS55fSx7eDpiWzBdLngtYlsyXS54LHk6YlswXS55LWJbMl0ueX0se3g6YlswXS54LWJbMV0ueCx5OmJbMF0ueS1iWzFdLnl9XX0scHJvamVjdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPShhLngqYi54K2EueSpiLnkpLyhNYXRoLnBvdyhiLngsMikrTWF0aC5wb3coYi55LDIpKTtyZXR1cm57eDpjKmIueCx5OmMqYi55fX0sYXhpc0NvbGxpc2lvbjpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9W10sZj0wO2Y8NDtmKyspe3ZhciBnPXRoaXMucHJvamVjdGlvbihiW2ZdLGEpLGg9dGhpcy5wcm9qZWN0aW9uKGNbZl0sYSk7ZC5wdXNoKGcueCphLngrZy55KmEueSksZS5wdXNoKGgueCphLngraC55KmEueSl9dmFyIGk9TWF0aC5tYXguYXBwbHkoTWF0aCxkKSxqPU1hdGgubWF4LmFwcGx5KE1hdGgsZSksaz1NYXRoLm1pbi5hcHBseShNYXRoLGQpO3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGUpPD1pJiZqPj1rfSxjb2xsaXNpb246ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5heGlzKGEsYiksZD0hMCxlPTA7ZTw0O2UrKylkPWQmJnRoaXMuYXhpc0NvbGxpc2lvbihjW2VdLGEsYik7cmV0dXJuIGR9fSxrPWZ1bmN0aW9uKCl7dGhpcy5fZ2VvbT1qLHRoaXMuX3RyZWU9bnVsbCx0aGlzLl9jYWNoZT17cXVlcnk6ITEscmVzdWx0OiExfSx0aGlzLl9lbmFibGVkPSEwfTtrLnByb3RvdHlwZS5pbmRleD1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLl9lbmFibGVkKXJldHVybiB0aGlzLl90cmVlO2lmKCFiLmJvdW5kcyl0aHJvd1wic2lnbWEuY2xhc3Nlcy5lZGdlcXVhZC5pbmRleDogYm91bmRzIGluZm9ybWF0aW9uIG5vdCBnaXZlbi5cIjt2YXIgYyxkLGUsZyxoLGs9Yi5wcmVmaXh8fFwiXCI7dGhpcy5fdHJlZT1pKGIuYm91bmRzLDAsYi5tYXhFbGVtZW50cyxiLm1heExldmVsKTtmb3IodmFyIGw9YS5lZGdlcygpLG09MCxuPWwubGVuZ3RoO208bjttKyspZD1hLm5vZGVzKGxbbV0uc291cmNlKSxlPWEubm9kZXMobFttXS50YXJnZXQpLGg9e3gxOmRbaytcInhcIl0seTE6ZFtrK1wieVwiXSx4MjplW2srXCJ4XCJdLHkyOmVbaytcInlcIl0sc2l6ZTpsW21dW2srXCJzaXplXCJdfHwwfSxcImN1cnZlXCI9PT1sW21dLnR5cGV8fFwiY3VydmVkQXJyb3dcIj09PWxbbV0udHlwZT9kLmlkPT09ZS5pZD8oZz17eDpkW2srXCJ4XCJdLHk6ZFtrK1wieVwiXSxzaXplOmRbaytcInNpemVcIl18fDB9LGYobFttXSxqLnNlbGZMb29wVG9TcXVhcmUoZyksdGhpcy5fdHJlZSkpOihjPXNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludChoLngxLGgueTEsaC54MixoLnkyKSxmKGxbbV0sai5xdWFkcmF0aWNDdXJ2ZVRvU3F1YXJlKGgsYyksdGhpcy5fdHJlZSkpOmYobFttXSxqLmxpbmVUb1NxdWFyZShoKSx0aGlzLl90cmVlKTtyZXR1cm4gdGhpcy5fY2FjaGU9e3F1ZXJ5OiExLHJlc3VsdDohMX0sdGhpcy5fdHJlZX0say5wcm90b3R5cGUucG9pbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fZW5hYmxlZCYmdGhpcy5fdHJlZT9nKHt4OmEseTpifSx0aGlzLl90cmVlKXx8W106W119LGsucHJvdG90eXBlLmFyZWE9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuX2VuYWJsZWQpcmV0dXJuW107dmFyIGIsZSxmPUpTT04uc3RyaW5naWZ5KGEpO2lmKHRoaXMuX2NhY2hlLnF1ZXJ5PT09ZilyZXR1cm4gdGhpcy5fY2FjaGUucmVzdWx0O2ouaXNBeGlzQWxpZ25lZChhKT8oYj1jLGU9ai5heGlzQWxpZ25lZFRvcFBvaW50cyhhKSk6KGI9ZCxlPWoucmVjdGFuZ2xlQ29ybmVycyhhKSk7dmFyIGc9dGhpcy5fdHJlZT9oKGUsdGhpcy5fdHJlZSxiKTpbXSxpPVtdO2Zvcih2YXIgayBpbiBnKWkucHVzaChnW2tdKTtyZXR1cm4gdGhpcy5fY2FjaGUucXVlcnk9Zix0aGlzLl9jYWNoZS5yZXN1bHQ9aSxpfSx2b2lkIDAhPT10aGlzLnNpZ21hPyh0aGlzLnNpZ21hLmNsYXNzZXM9dGhpcy5zaWdtYS5jbGFzc2VzfHx7fSx0aGlzLnNpZ21hLmNsYXNzZXMuZWRnZXF1YWQ9ayk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1rKSxleHBvcnRzLmVkZ2VxdWFkPWspOnRoaXMuZWRnZXF1YWQ9a30uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhcHRvcnNcIiksc2lnbWEuY2FwdG9ycy5tb3VzZT1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXt2YXIgYixjLGQ7aWYoeShcIm1vdXNlRW5hYmxlZFwiKSYmKHYuZGlzcGF0Y2hFdmVudChcIm1vdXNlbW92ZVwiLHNpZ21hLnV0aWxzLm1vdXNlQ29vcmRzKGEpKSxxKSlyZXR1cm4gcj0hMCxzPSEwLHUmJmNsZWFyVGltZW91dCh1KSx1PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyPSExfSx5KFwiZHJhZ1RpbWVvdXRcIikpLHNpZ21hLm1pc2MuYW5pbWF0aW9uLmtpbGxBbGwoeCkseC5pc01vdmluZz0hMCxkPXguY2FtZXJhUG9zaXRpb24oc2lnbWEudXRpbHMuZ2V0WChhKS1vLHNpZ21hLnV0aWxzLmdldFkoYSktcCwhMCksYj1rLWQueCxjPWwtZC55LGI9PT14LngmJmM9PT14Lnl8fChtPXgueCxuPXgueSx4LmdvVG8oe3g6Yix5OmN9KSksYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSxhLnN0b3BQcm9wYWdhdGlvbigpLCExfWZ1bmN0aW9uIGUoYSl7aWYoeShcIm1vdXNlRW5hYmxlZFwiKSYmcSl7cT0hMSx1JiZjbGVhclRpbWVvdXQodSkseC5pc01vdmluZz0hMTt2YXIgYj1zaWdtYS51dGlscy5nZXRYKGEpLGM9c2lnbWEudXRpbHMuZ2V0WShhKTtyPyhzaWdtYS5taXNjLmFuaW1hdGlvbi5raWxsQWxsKHgpLHNpZ21hLm1pc2MuYW5pbWF0aW9uLmNhbWVyYSh4LHt4OngueCt5KFwibW91c2VJbmVydGlhUmF0aW9cIikqKHgueC1tKSx5OngueSt5KFwibW91c2VJbmVydGlhUmF0aW9cIikqKHgueS1uKX0se2Vhc2luZzpcInF1YWRyYXRpY091dFwiLGR1cmF0aW9uOnkoXCJtb3VzZUluZXJ0aWFEdXJhdGlvblwiKX0pKTpvPT09YiYmcD09PWN8fHguZ29Ubyh7eDp4LngseTp4Lnl9KSx2LmRpc3BhdGNoRXZlbnQoXCJtb3VzZXVwXCIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSkpLHI9ITF9fWZ1bmN0aW9uIGYoYSl7aWYoeShcIm1vdXNlRW5hYmxlZFwiKSlzd2l0Y2goaz14LngsbD14LnksbT14Lngsbj14Lnksbz1zaWdtYS51dGlscy5nZXRYKGEpLHA9c2lnbWEudXRpbHMuZ2V0WShhKSxzPSExLHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksYS53aGljaCl7Y2FzZSAyOmJyZWFrO2Nhc2UgMzp2LmRpc3BhdGNoRXZlbnQoXCJyaWdodGNsaWNrXCIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSxvLHApKTticmVhaztkZWZhdWx0OnE9ITAsdi5kaXNwYXRjaEV2ZW50KFwibW91c2Vkb3duXCIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSxvLHApKX19ZnVuY3Rpb24gZyhhKXt5KFwibW91c2VFbmFibGVkXCIpJiZ2LmRpc3BhdGNoRXZlbnQoXCJtb3VzZW91dFwiKX1mdW5jdGlvbiBoKGEpe2lmKHkoXCJtb3VzZUVuYWJsZWRcIikpe3ZhciBiPXNpZ21hLnV0aWxzLm1vdXNlQ29vcmRzKGEpO2IuaXNEcmFnZ2luZz0obmV3IERhdGUpLmdldFRpbWUoKS10PjEwMCYmcyx2LmRpc3BhdGNoRXZlbnQoXCJjbGlja1wiLGIpfXJldHVybiBhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExLGEuc3RvcFByb3BhZ2F0aW9uKCksITF9ZnVuY3Rpb24gaShhKXt2YXIgYixjLGQ7aWYoeShcIm1vdXNlRW5hYmxlZFwiKSlyZXR1cm4gYz0xL3koXCJkb3VibGVDbGlja1pvb21pbmdSYXRpb1wiKSx2LmRpc3BhdGNoRXZlbnQoXCJkb3VibGVjbGlja1wiLHNpZ21hLnV0aWxzLm1vdXNlQ29vcmRzKGEsbyxwKSkseShcImRvdWJsZUNsaWNrRW5hYmxlZFwiKSYmKGI9eC5jYW1lcmFQb3NpdGlvbihzaWdtYS51dGlscy5nZXRYKGEpLXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS54LHNpZ21hLnV0aWxzLmdldFkoYSktc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLnksITApLGQ9e2R1cmF0aW9uOnkoXCJkb3VibGVDbGlja1pvb21EdXJhdGlvblwiKX0sc2lnbWEudXRpbHMuem9vbVRvKHgsYi54LGIueSxjLGQpKSxhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExLGEuc3RvcFByb3BhZ2F0aW9uKCksITF9ZnVuY3Rpb24gaihhKXt2YXIgYixjLGQsZT1zaWdtYS51dGlscy5nZXREZWx0YShhKTtpZih5KFwibW91c2VFbmFibGVkXCIpJiZ5KFwibW91c2VXaGVlbEVuYWJsZWRcIikmJjAhPT1lKXJldHVybiBjPWU+MD8xL3koXCJ6b29taW5nUmF0aW9cIik6eShcInpvb21pbmdSYXRpb1wiKSxiPXguY2FtZXJhUG9zaXRpb24oc2lnbWEudXRpbHMuZ2V0WChhKS1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueCxzaWdtYS51dGlscy5nZXRZKGEpLXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS55LCEwKSxkPXtkdXJhdGlvbjp5KFwibW91c2Vab29tRHVyYXRpb25cIil9LHNpZ21hLnV0aWxzLnpvb21Ubyh4LGIueCxiLnksYyxkKSxhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExLGEuc3RvcFByb3BhZ2F0aW9uKCksITF9dmFyIGssbCxtLG4sbyxwLHEscixzLHQsdSx2PXRoaXMsdz1hLHg9Yix5PWM7c2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKSxzaWdtYS51dGlscy5kb3VibGVDbGljayh3LFwiY2xpY2tcIixpKSx3LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLGosITEpLHcuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIixqLCExKSx3LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixkLCExKSx3LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixmLCExKSx3LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGgsITEpLHcuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsZywhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixlLCExKSx0aGlzLmtpbGw9ZnVuY3Rpb24oKXtzaWdtYS51dGlscy51bmJpbmREb3VibGVDbGljayh3LFwiY2xpY2tcIiksdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIixqKSx3LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsaiksdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZCksdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZiksdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixoKSx3LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLGcpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsZSl9fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhcHRvcnNcIiksc2lnbWEuY2FwdG9ycy50b3VjaD1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXt2YXIgYj1zaWdtYS51dGlscy5nZXRPZmZzZXQoQik7cmV0dXJue3g6YS5wYWdlWC1iLmxlZnQseTphLnBhZ2VZLWIudG9wfX1mdW5jdGlvbiBlKGEpe2lmKEQoXCJ0b3VjaEVuYWJsZWRcIikpe3ZhciBiLGMsZSxmLGcsaDtzd2l0Y2goRT1hLnRvdWNoZXMsRS5sZW5ndGgpe2Nhc2UgMTpDLmlzTW92aW5nPSEwLHc9MSxpPUMueCxqPUMueSxtPUMueCxuPUMueSxnPWQoRVswXSkscT1nLngscj1nLnk7YnJlYWs7Y2FzZSAyOnJldHVybiBDLmlzTW92aW5nPSEwLHc9MixnPWQoRVswXSksaD1kKEVbMV0pLGI9Zy54LGU9Zy55LGM9aC54LGY9aC55LG09Qy54LG49Qy55LGs9Qy5hbmdsZSxsPUMucmF0aW8saT1DLngsaj1DLnkscT1iLHI9ZSxzPWMsdD1mLHU9TWF0aC5hdGFuMih0LXIscy1xKSx2PU1hdGguc3FydCgodC1yKSoodC1yKSsocy1xKSoocy1xKSksYS5wcmV2ZW50RGVmYXVsdCgpLCExfX19ZnVuY3Rpb24gZihhKXtpZihEKFwidG91Y2hFbmFibGVkXCIpKXtFPWEudG91Y2hlczt2YXIgYj1EKFwidG91Y2hJbmVydGlhUmF0aW9cIik7c3dpdGNoKHomJih4PSExLGNsZWFyVGltZW91dCh6KSksdyl7Y2FzZSAyOmlmKDE9PT1hLnRvdWNoZXMubGVuZ3RoKXtlKGEpLGEucHJldmVudERlZmF1bHQoKTticmVha31jYXNlIDE6Qy5pc01vdmluZz0hMSxBLmRpc3BhdGNoRXZlbnQoXCJzdG9wRHJhZ1wiKSx4JiYoeT0hMSxzaWdtYS5taXNjLmFuaW1hdGlvbi5jYW1lcmEoQyx7eDpDLngrYiooQy54LW0pLHk6Qy55K2IqKEMueS1uKX0se2Vhc2luZzpcInF1YWRyYXRpY091dFwiLGR1cmF0aW9uOkQoXCJ0b3VjaEluZXJ0aWFEdXJhdGlvblwiKX0pKSx4PSExLHc9MH19fWZ1bmN0aW9uIGcoYSl7aWYoIXkmJkQoXCJ0b3VjaEVuYWJsZWRcIikpe3ZhciBiLGMsZSxmLGcsaCxCLEYsRyxILEksSixLLEwsTSxOLE87c3dpdGNoKEU9YS50b3VjaGVzLHg9ITAseiYmY2xlYXJUaW1lb3V0KHopLHo9c2V0VGltZW91dChmdW5jdGlvbigpe3g9ITF9LEQoXCJkcmFnVGltZW91dFwiKSksdyl7Y2FzZSAxOkY9ZChFWzBdKSxiPUYueCxlPUYueSxIPUMuY2FtZXJhUG9zaXRpb24oYi1xLGUtciwhMCksTD1pLUgueCxNPWotSC55LEw9PT1DLngmJk09PT1DLnl8fChtPUMueCxuPUMueSxDLmdvVG8oe3g6TCx5Ok19KSxBLmRpc3BhdGNoRXZlbnQoXCJtb3VzZW1vdmVcIixzaWdtYS51dGlscy5tb3VzZUNvb3JkcyhhLEYueCxGLnkpKSxBLmRpc3BhdGNoRXZlbnQoXCJkcmFnXCIpKTticmVhaztjYXNlIDI6Rj1kKEVbMF0pLEc9ZChFWzFdKSxiPUYueCxlPUYueSxjPUcueCxmPUcueSxJPUMuY2FtZXJhUG9zaXRpb24oKHErcykvMi1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueCwocit0KS8yLXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS55LCEwKSxCPUMuY2FtZXJhUG9zaXRpb24oKGIrYykvMi1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueCwoZStmKS8yLXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS55LCEwKSxKPU1hdGguYXRhbjIoZi1lLGMtYiktdSxLPU1hdGguc3FydCgoZi1lKSooZi1lKSsoYy1iKSooYy1iKSkvdixiPUkueCxlPUkueSxOPWwvSyxiKj1LLGUqPUssTz1rLUosZz1NYXRoLmNvcygtSiksaD1NYXRoLnNpbigtSiksYz1iKmcrZSpoLGY9ZSpnLWIqaCxiPWMsZT1mLEw9Yi1CLngraSxNPWUtQi55K2osTj09PUMucmF0aW8mJk89PT1DLmFuZ2xlJiZMPT09Qy54JiZNPT09Qy55fHwobT1DLngsbj1DLnksbz1DLmFuZ2xlLHA9Qy5yYXRpbyxDLmdvVG8oe3g6TCx5Ok0sYW5nbGU6TyxyYXRpbzpOfSksQS5kaXNwYXRjaEV2ZW50KFwiZHJhZ1wiKSl9cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSwhMX19ZnVuY3Rpb24gaChhKXt2YXIgYixjLGU7aWYoYS50b3VjaGVzJiYxPT09YS50b3VjaGVzLmxlbmd0aCYmRChcInRvdWNoRW5hYmxlZFwiKSlyZXR1cm4geT0hMCxjPTEvRChcImRvdWJsZUNsaWNrWm9vbWluZ1JhdGlvXCIpLGI9ZChhLnRvdWNoZXNbMF0pLEEuZGlzcGF0Y2hFdmVudChcImRvdWJsZWNsaWNrXCIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSxiLngsYi55KSksRChcImRvdWJsZUNsaWNrRW5hYmxlZFwiKSYmKGI9Qy5jYW1lcmFQb3NpdGlvbihiLngtc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLngsYi55LXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS55LCEwKSxlPXtkdXJhdGlvbjpEKFwiZG91YmxlQ2xpY2tab29tRHVyYXRpb25cIiksb25Db21wbGV0ZTpmdW5jdGlvbigpe3k9ITF9fSxzaWdtYS51dGlscy56b29tVG8oQyxiLngsYi55LGMsZSkpLGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEsYS5zdG9wUHJvcGFnYXRpb24oKSwhMX12YXIgaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHosQT10aGlzLEI9YSxDPWIsRD1jLEU9W107c2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKSxzaWdtYS51dGlscy5kb3VibGVDbGljayhCLFwidG91Y2hzdGFydFwiLGgpLEIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLCExKSxCLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLGYsITEpLEIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsZiwhMSksQi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hsZWF2ZVwiLGYsITEpLEIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLGcsITEpLHRoaXMua2lsbD1mdW5jdGlvbigpe3NpZ21hLnV0aWxzLnVuYmluZERvdWJsZUNsaWNrKEIsXCJ0b3VjaHN0YXJ0XCIpLEIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlKSxCLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLGYpLEIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsZiksQi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hsZWF2ZVwiLGYpLEIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLGcpfX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgY29ucmFkKXRocm93XCJjb25yYWQgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEucmVuZGVyZXJzXCIpLHNpZ21hLnJlbmRlcmVycy5jYW52YXM9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGQpdGhyb3dcInNpZ21hLnJlbmRlcmVycy5jYW52YXM6IFdyb25nIGFyZ3VtZW50cy5cIjtpZighKGQuY29udGFpbmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKXRocm93XCJDb250YWluZXIgbm90IGZvdW5kLlwiO3ZhciBlLGYsZyxoO2ZvcihzaWdtYS5jbGFzc2VzLmRpc3BhdGNoZXIuZXh0ZW5kKHRoaXMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY29ucmFkSWRcIix7dmFsdWU6c2lnbWEudXRpbHMuaWQoKX0pLHRoaXMuZ3JhcGg9YSx0aGlzLmNhbWVyYT1iLHRoaXMuY29udGV4dHM9e30sdGhpcy5kb21FbGVtZW50cz17fSx0aGlzLm9wdGlvbnM9ZCx0aGlzLmNvbnRhaW5lcj10aGlzLm9wdGlvbnMuY29udGFpbmVyLHRoaXMuc2V0dGluZ3M9XCJvYmplY3RcIj09dHlwZW9mIGQuc2V0dGluZ3MmJmQuc2V0dGluZ3M/Yy5lbWJlZE9iamVjdHMoZC5zZXR0aW5ncyk6Yyx0aGlzLm5vZGVzT25TY3JlZW49W10sdGhpcy5lZGdlc09uU2NyZWVuPVtdLHRoaXMuam9icz17fSx0aGlzLm9wdGlvbnMucHJlZml4PVwicmVuZGVyZXJcIit0aGlzLmNvbnJhZElkK1wiOlwiLHRoaXMuc2V0dGluZ3MoXCJiYXRjaEVkZ2VzRHJhd2luZ1wiKT8odGhpcy5pbml0RE9NKFwiY2FudmFzXCIsXCJlZGdlc1wiKSx0aGlzLmluaXRET00oXCJjYW52YXNcIixcInNjZW5lXCIpLHRoaXMuY29udGV4dHMubm9kZXM9dGhpcy5jb250ZXh0cy5zY2VuZSx0aGlzLmNvbnRleHRzLmxhYmVscz10aGlzLmNvbnRleHRzLnNjZW5lKToodGhpcy5pbml0RE9NKFwiY2FudmFzXCIsXCJzY2VuZVwiKSx0aGlzLmNvbnRleHRzLmVkZ2VzPXRoaXMuY29udGV4dHMuc2NlbmUsdGhpcy5jb250ZXh0cy5ub2Rlcz10aGlzLmNvbnRleHRzLnNjZW5lLHRoaXMuY29udGV4dHMubGFiZWxzPXRoaXMuY29udGV4dHMuc2NlbmUpLHRoaXMuaW5pdERPTShcImNhbnZhc1wiLFwibW91c2VcIiksdGhpcy5jb250ZXh0cy5ob3Zlcj10aGlzLmNvbnRleHRzLm1vdXNlLHRoaXMuY2FwdG9ycz1bXSxnPXRoaXMub3B0aW9ucy5jYXB0b3JzfHxbc2lnbWEuY2FwdG9ycy5tb3VzZSxzaWdtYS5jYXB0b3JzLnRvdWNoXSxlPTAsZj1nLmxlbmd0aDtlPGY7ZSsrKWg9XCJmdW5jdGlvblwiPT10eXBlb2YgZ1tlXT9nW2VdOnNpZ21hLmNhcHRvcnNbZ1tlXV0sdGhpcy5jYXB0b3JzLnB1c2gobmV3IGgodGhpcy5kb21FbGVtZW50cy5tb3VzZSx0aGlzLmNhbWVyYSx0aGlzLnNldHRpbmdzKSk7c2lnbWEubWlzYy5iaW5kRXZlbnRzLmNhbGwodGhpcyx0aGlzLm9wdGlvbnMucHJlZml4KSxzaWdtYS5taXNjLmRyYXdIb3ZlcnMuY2FsbCh0aGlzLHRoaXMub3B0aW9ucy5wcmVmaXgpLHRoaXMucmVzaXplKCExKX0sc2lnbWEucmVuZGVyZXJzLmNhbnZhcy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGIpe2I9Ynx8e307dmFyIGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scD17fSxxPXRoaXMuZ3JhcGgscj10aGlzLmdyYXBoLm5vZGVzLHM9KHRoaXMub3B0aW9ucy5wcmVmaXgsdGhpcy5zZXR0aW5ncyhiLFwiZHJhd0VkZ2VzXCIpKSx0PXRoaXMuc2V0dGluZ3MoYixcImRyYXdOb2Rlc1wiKSx1PXRoaXMuc2V0dGluZ3MoYixcImRyYXdMYWJlbHNcIiksdj10aGlzLnNldHRpbmdzKGIsXCJkcmF3RWRnZUxhYmVsc1wiKSx3PXRoaXMuc2V0dGluZ3MuZW1iZWRPYmplY3RzKGIse3ByZWZpeDp0aGlzLm9wdGlvbnMucHJlZml4fSk7dGhpcy5yZXNpemUoITEpLHRoaXMuc2V0dGluZ3MoYixcImhpZGVFZGdlc09uTW92ZVwiKSYmKHRoaXMuY2FtZXJhLmlzQW5pbWF0ZWR8fHRoaXMuY2FtZXJhLmlzTW92aW5nKSYmKHM9ITEpLHRoaXMuY2FtZXJhLmFwcGx5VmlldyhhLHRoaXMub3B0aW9ucy5wcmVmaXgse3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSksdGhpcy5jbGVhcigpO2ZvcihlIGluIHRoaXMuam9icyljb25yYWQuaGFzSm9iKGUpJiZjb25yYWQua2lsbEpvYihlKTtmb3IodGhpcy5lZGdlc09uU2NyZWVuPVtdLHRoaXMubm9kZXNPblNjcmVlbj10aGlzLmNhbWVyYS5xdWFkdHJlZS5hcmVhKHRoaXMuY2FtZXJhLmdldFJlY3RhbmdsZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksYz10aGlzLm5vZGVzT25TY3JlZW4sZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKylwW2NbZF0uaWRdPWNbZF07aWYocyl7Zm9yKGM9cS5lZGdlcygpLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspZz1jW2RdLCFwW2cuc291cmNlXSYmIXBbZy50YXJnZXRdfHxnLmhpZGRlbnx8cihnLnNvdXJjZSkuaGlkZGVufHxyKGcudGFyZ2V0KS5oaWRkZW58fHRoaXMuZWRnZXNPblNjcmVlbi5wdXNoKGcpO2lmKHRoaXMuc2V0dGluZ3MoYixcImJhdGNoRWRnZXNEcmF3aW5nXCIpKWg9XCJlZGdlc19cIit0aGlzLmNvbnJhZElkLG49dyhcImNhbnZhc0VkZ2VzQmF0Y2hTaXplXCIpLGw9dGhpcy5lZGdlc09uU2NyZWVuLGY9bC5sZW5ndGgsaz0wLGk9TWF0aC5taW4obC5sZW5ndGgsaytuKSxqPWZ1bmN0aW9uKCl7Zm9yKG89dGhpcy5jb250ZXh0cy5lZGdlcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24sdGhpcy5jb250ZXh0cy5lZGdlcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJkZXN0aW5hdGlvbi1vdmVyXCIsbT1zaWdtYS5jYW52YXMuZWRnZXMsZD1rO2Q8aTtkKyspZz1sW2RdLChtW2cudHlwZXx8dGhpcy5zZXR0aW5ncyhiLFwiZGVmYXVsdEVkZ2VUeXBlXCIpXXx8bS5kZWYpKGcscS5ub2RlcyhnLnNvdXJjZSkscS5ub2RlcyhnLnRhcmdldCksdGhpcy5jb250ZXh0cy5lZGdlcyx3KTtpZih2KWZvcihtPXNpZ21hLmNhbnZhcy5lZGdlcy5sYWJlbHMsZD1rO2Q8aTtkKyspZz1sW2RdLGcuaGlkZGVufHwobVtnLnR5cGV8fHRoaXMuc2V0dGluZ3MoYixcImRlZmF1bHRFZGdlVHlwZVwiKV18fG0uZGVmKShnLHEubm9kZXMoZy5zb3VyY2UpLHEubm9kZXMoZy50YXJnZXQpLHRoaXMuY29udGV4dHMubGFiZWxzLHcpO3JldHVybiB0aGlzLmNvbnRleHRzLmVkZ2VzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1vLGk9PT1sLmxlbmd0aD8oZGVsZXRlIHRoaXMuam9ic1toXSwhMSk6KGs9aSsxLGk9TWF0aC5taW4obC5sZW5ndGgsaytuKSwhMCl9LHRoaXMuam9ic1toXT1qLGNvbnJhZC5hZGRKb2IoaCxqLmJpbmQodGhpcykpO2Vsc2V7Zm9yKG09c2lnbWEuY2FudmFzLmVkZ2VzLGM9dGhpcy5lZGdlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspZz1jW2RdLChtW2cudHlwZXx8dGhpcy5zZXR0aW5ncyhiLFwiZGVmYXVsdEVkZ2VUeXBlXCIpXXx8bS5kZWYpKGcscS5ub2RlcyhnLnNvdXJjZSkscS5ub2RlcyhnLnRhcmdldCksdGhpcy5jb250ZXh0cy5lZGdlcyx3KTtpZih2KWZvcihtPXNpZ21hLmNhbnZhcy5lZGdlcy5sYWJlbHMsYz10aGlzLmVkZ2VzT25TY3JlZW4sZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKyljW2RdLmhpZGRlbnx8KG1bY1tkXS50eXBlfHx0aGlzLnNldHRpbmdzKGIsXCJkZWZhdWx0RWRnZVR5cGVcIildfHxtLmRlZikoY1tkXSxxLm5vZGVzKGNbZF0uc291cmNlKSxxLm5vZGVzKGNbZF0udGFyZ2V0KSx0aGlzLmNvbnRleHRzLmxhYmVscyx3KX19aWYodClmb3IobT1zaWdtYS5jYW52YXMubm9kZXMsYz10aGlzLm5vZGVzT25TY3JlZW4sZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKyljW2RdLmhpZGRlbnx8KG1bY1tkXS50eXBlfHx0aGlzLnNldHRpbmdzKGIsXCJkZWZhdWx0Tm9kZVR5cGVcIildfHxtLmRlZikoY1tkXSx0aGlzLmNvbnRleHRzLm5vZGVzLHcpO2lmKHUpZm9yKG09c2lnbWEuY2FudmFzLmxhYmVscyxjPXRoaXMubm9kZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWNbZF0uaGlkZGVufHwobVtjW2RdLnR5cGV8fHRoaXMuc2V0dGluZ3MoYixcImRlZmF1bHROb2RlVHlwZVwiKV18fG0uZGVmKShjW2RdLHRoaXMuY29udGV4dHMubGFiZWxzLHcpO3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoXCJyZW5kZXJcIiksdGhpc30sc2lnbWEucmVuZGVyZXJzLmNhbnZhcy5wcm90b3R5cGUuaW5pdERPTT1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSk7Yy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwic2lnbWEtXCIrYiksdGhpcy5kb21FbGVtZW50c1tiXT1jLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGMpLFwiY2FudmFzXCI9PT1hLnRvTG93ZXJDYXNlKCkmJih0aGlzLmNvbnRleHRzW2JdPWMuZ2V0Q29udGV4dChcIjJkXCIpKX0sc2lnbWEucmVuZGVyZXJzLmNhbnZhcy5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLndpZHRoLGY9dGhpcy5oZWlnaHQsZz1zaWdtYS51dGlscy5nZXRQaXhlbFJhdGlvKCk7aWYoYiE9PWEmJmMhPT1hPyh0aGlzLndpZHRoPWIsdGhpcy5oZWlnaHQ9Yyk6KHRoaXMud2lkdGg9dGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LGI9dGhpcy53aWR0aCxjPXRoaXMuaGVpZ2h0KSxlIT09dGhpcy53aWR0aHx8ZiE9PXRoaXMuaGVpZ2h0KWZvcihkIGluIHRoaXMuZG9tRWxlbWVudHMpdGhpcy5kb21FbGVtZW50c1tkXS5zdHlsZS53aWR0aD1iK1wicHhcIix0aGlzLmRvbUVsZW1lbnRzW2RdLnN0eWxlLmhlaWdodD1jK1wicHhcIixcImNhbnZhc1wiPT09dGhpcy5kb21FbGVtZW50c1tkXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJih0aGlzLmRvbUVsZW1lbnRzW2RdLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYipnK1wicHhcIiksdGhpcy5kb21FbGVtZW50c1tkXS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixjKmcrXCJweFwiKSwxIT09ZyYmdGhpcy5jb250ZXh0c1tkXS5zY2FsZShnLGcpKTtyZXR1cm4gdGhpc30sc2lnbWEucmVuZGVyZXJzLmNhbnZhcy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5jb250ZXh0cyl0aGlzLmNvbnRleHRzW2FdLmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7cmV0dXJuIHRoaXN9LHNpZ21hLnJlbmRlcmVycy5jYW52YXMucHJvdG90eXBlLmtpbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYjtiPXRoaXMuY2FwdG9ycy5wb3AoKTspYi5raWxsKCk7ZGVsZXRlIHRoaXMuY2FwdG9ycztmb3IoYSBpbiB0aGlzLmRvbUVsZW1lbnRzKXRoaXMuZG9tRWxlbWVudHNbYV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbUVsZW1lbnRzW2FdKSxkZWxldGUgdGhpcy5kb21FbGVtZW50c1thXSxkZWxldGUgdGhpcy5jb250ZXh0c1thXTtkZWxldGUgdGhpcy5kb21FbGVtZW50cyxkZWxldGUgdGhpcy5jb250ZXh0c30sc2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLm5vZGVzXCIpLHNpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlc1wiKSxzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMubGFiZWxzXCIpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEucmVuZGVyZXJzXCIpLHNpZ21hLnJlbmRlcmVycy53ZWJnbD1mdW5jdGlvbihhLGIsYyxkKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZCl0aHJvd1wic2lnbWEucmVuZGVyZXJzLndlYmdsOiBXcm9uZyBhcmd1bWVudHMuXCI7aWYoIShkLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSl0aHJvd1wiQ29udGFpbmVyIG5vdCBmb3VuZC5cIjt2YXIgZSxmLGcsaDtmb3Ioc2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKSx0aGlzLmpvYnM9e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb25yYWRJZFwiLHt2YWx1ZTpzaWdtYS51dGlscy5pZCgpfSksdGhpcy5ncmFwaD1hLHRoaXMuY2FtZXJhPWIsdGhpcy5jb250ZXh0cz17fSx0aGlzLmRvbUVsZW1lbnRzPXt9LHRoaXMub3B0aW9ucz1kLHRoaXMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXIsdGhpcy5zZXR0aW5ncz1cIm9iamVjdFwiPT10eXBlb2YgZC5zZXR0aW5ncyYmZC5zZXR0aW5ncz9jLmVtYmVkT2JqZWN0cyhkLnNldHRpbmdzKTpjLHRoaXMub3B0aW9ucy5wcmVmaXg9dGhpcy5jYW1lcmEucmVhZFByZWZpeCxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIm5vZGVQcm9ncmFtc1wiLHt2YWx1ZTp7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZWRnZVByb2dyYW1zXCIse3ZhbHVlOnt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJub2RlRmxvYXRBcnJheXNcIix7dmFsdWU6e319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImVkZ2VGbG9hdEFycmF5c1wiLHt2YWx1ZTp7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZWRnZUluZGljZXNBcnJheXNcIix7dmFsdWU6e319KSx0aGlzLnNldHRpbmdzKGQsXCJiYXRjaEVkZ2VzRHJhd2luZ1wiKT8odGhpcy5pbml0RE9NKFwiY2FudmFzXCIsXCJlZGdlc1wiLCEwKSx0aGlzLmluaXRET00oXCJjYW52YXNcIixcIm5vZGVzXCIsITApKToodGhpcy5pbml0RE9NKFwiY2FudmFzXCIsXCJzY2VuZVwiLCEwKSx0aGlzLmNvbnRleHRzLm5vZGVzPXRoaXMuY29udGV4dHMuc2NlbmUsdGhpcy5jb250ZXh0cy5lZGdlcz10aGlzLmNvbnRleHRzLnNjZW5lKSx0aGlzLmluaXRET00oXCJjYW52YXNcIixcImxhYmVsc1wiKSx0aGlzLmluaXRET00oXCJjYW52YXNcIixcIm1vdXNlXCIpLHRoaXMuY29udGV4dHMuaG92ZXI9dGhpcy5jb250ZXh0cy5tb3VzZSx0aGlzLmNhcHRvcnM9W10sZz10aGlzLm9wdGlvbnMuY2FwdG9yc3x8W3NpZ21hLmNhcHRvcnMubW91c2Usc2lnbWEuY2FwdG9ycy50b3VjaF0sZT0wLGY9Zy5sZW5ndGg7ZTxmO2UrKyloPVwiZnVuY3Rpb25cIj09dHlwZW9mIGdbZV0/Z1tlXTpzaWdtYS5jYXB0b3JzW2dbZV1dLHRoaXMuY2FwdG9ycy5wdXNoKG5ldyBoKHRoaXMuZG9tRWxlbWVudHMubW91c2UsdGhpcy5jYW1lcmEsdGhpcy5zZXR0aW5ncykpO3NpZ21hLm1pc2MuYmluZEV2ZW50cy5jYWxsKHRoaXMsdGhpcy5jYW1lcmEucHJlZml4KSxzaWdtYS5taXNjLmRyYXdIb3ZlcnMuY2FsbCh0aGlzLHRoaXMuY2FtZXJhLnByZWZpeCksdGhpcy5yZXNpemUoKX0sc2lnbWEucmVuZGVyZXJzLndlYmdsLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9dGhpcy5ncmFwaCxoPXNpZ21hLnV0aWxzLmV4dGVuZChoLHRoaXMub3B0aW9ucyksaT10aGlzLnNldHRpbmdzKGgsXCJkZWZhdWx0RWRnZVR5cGVcIiksaj10aGlzLnNldHRpbmdzKGgsXCJkZWZhdWx0Tm9kZVR5cGVcIik7Zm9yKGQgaW4gdGhpcy5ub2RlRmxvYXRBcnJheXMpZGVsZXRlIHRoaXMubm9kZUZsb2F0QXJyYXlzW2RdO2ZvcihkIGluIHRoaXMuZWRnZUZsb2F0QXJyYXlzKWRlbGV0ZSB0aGlzLmVkZ2VGbG9hdEFycmF5c1tkXTtmb3IoZCBpbiB0aGlzLmVkZ2VJbmRpY2VzQXJyYXlzKWRlbGV0ZSB0aGlzLmVkZ2VJbmRpY2VzQXJyYXlzW2RdO2ZvcihhPWcuZWRnZXMoKSxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKWU9YVtiXS50eXBlfHxpLGQ9ZSYmc2lnbWEud2ViZ2wuZWRnZXNbZV0/ZTpcImRlZlwiLHRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdfHwodGhpcy5lZGdlRmxvYXRBcnJheXNbZF09e2VkZ2VzOltdfSksdGhpcy5lZGdlRmxvYXRBcnJheXNbZF0uZWRnZXMucHVzaChhW2JdKTtmb3IoYT1nLm5vZGVzKCksYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyllPWFbYl0udHlwZXx8aixkPWUmJnNpZ21hLndlYmdsLm5vZGVzW2VdP2U6XCJkZWZcIix0aGlzLm5vZGVGbG9hdEFycmF5c1tkXXx8KHRoaXMubm9kZUZsb2F0QXJyYXlzW2RdPXtub2RlczpbXX0pLHRoaXMubm9kZUZsb2F0QXJyYXlzW2RdLm5vZGVzLnB1c2goYVtiXSk7Zm9yKGQgaW4gdGhpcy5lZGdlRmxvYXRBcnJheXMpe2ZvcihmPXNpZ21hLndlYmdsLmVkZ2VzW2RdLGE9dGhpcy5lZGdlRmxvYXRBcnJheXNbZF0uZWRnZXMsdGhpcy5lZGdlRmxvYXRBcnJheXNbZF0uYXJyYXk9bmV3IEZsb2F0MzJBcnJheShhLmxlbmd0aCpmLlBPSU5UUypmLkFUVFJJQlVURVMpLGI9MCxjPWEubGVuZ3RoO2I8YztiKyspYVtiXS5oaWRkZW58fGcubm9kZXMoYVtiXS5zb3VyY2UpLmhpZGRlbnx8Zy5ub2RlcyhhW2JdLnRhcmdldCkuaGlkZGVufHxmLmFkZEVkZ2UoYVtiXSxnLm5vZGVzKGFbYl0uc291cmNlKSxnLm5vZGVzKGFbYl0udGFyZ2V0KSx0aGlzLmVkZ2VGbG9hdEFycmF5c1tkXS5hcnJheSxiKmYuUE9JTlRTKmYuQVRUUklCVVRFUyxoLnByZWZpeCx0aGlzLnNldHRpbmdzKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLmNvbXB1dGVJbmRpY2VzJiYodGhpcy5lZGdlSW5kaWNlc0FycmF5c1tkXT1mLmNvbXB1dGVJbmRpY2VzKHRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdLmFycmF5KSl9Zm9yKGQgaW4gdGhpcy5ub2RlRmxvYXRBcnJheXMpZm9yKGY9c2lnbWEud2ViZ2wubm9kZXNbZF0sYT10aGlzLm5vZGVGbG9hdEFycmF5c1tkXS5ub2Rlcyx0aGlzLm5vZGVGbG9hdEFycmF5c1tkXS5hcnJheT1uZXcgRmxvYXQzMkFycmF5KGEubGVuZ3RoKmYuUE9JTlRTKmYuQVRUUklCVVRFUyksYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl0aGlzLm5vZGVGbG9hdEFycmF5c1tkXS5hcnJheXx8KHRoaXMubm9kZUZsb2F0QXJyYXlzW2RdLmFycmF5PW5ldyBGbG9hdDMyQXJyYXkoYS5sZW5ndGgqZi5QT0lOVFMqZi5BVFRSSUJVVEVTKSksYVtiXS5oaWRkZW58fGYuYWRkTm9kZShhW2JdLHRoaXMubm9kZUZsb2F0QXJyYXlzW2RdLmFycmF5LGIqZi5QT0lOVFMqZi5BVFRSSUJVVEVTLGgucHJlZml4LHRoaXMuc2V0dGluZ3MpO3JldHVybiB0aGlzfSxzaWdtYS5yZW5kZXJlcnMud2ViZ2wucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaT10aGlzLGo9KHRoaXMuZ3JhcGgsdGhpcy5jb250ZXh0cy5ub2Rlcyksaz10aGlzLmNvbnRleHRzLmVkZ2VzLGw9dGhpcy5jYW1lcmEuZ2V0TWF0cml4KCksbT1zaWdtYS51dGlscy5leHRlbmQoYix0aGlzLm9wdGlvbnMpLG49dGhpcy5zZXR0aW5ncyhtLFwiZHJhd0xhYmVsc1wiKSxvPXRoaXMuc2V0dGluZ3MobSxcImRyYXdFZGdlc1wiKSxwPXRoaXMuc2V0dGluZ3MobSxcImRyYXdOb2Rlc1wiKTt0aGlzLnJlc2l6ZSghMSksdGhpcy5zZXR0aW5ncyhtLFwiaGlkZUVkZ2VzT25Nb3ZlXCIpJiYodGhpcy5jYW1lcmEuaXNBbmltYXRlZHx8dGhpcy5jYW1lcmEuaXNNb3ZpbmcpJiYobz0hMSksdGhpcy5jbGVhcigpLGw9c2lnbWEudXRpbHMubWF0cmljZXMubXVsdGlwbHkobCxzaWdtYS51dGlscy5tYXRyaWNlcy50cmFuc2xhdGlvbih0aGlzLndpZHRoLzIsdGhpcy5oZWlnaHQvMikpO2ZvcihmIGluIHRoaXMuam9icyljb25yYWQuaGFzSm9iKGYpJiZjb25yYWQua2lsbEpvYihmKTtpZihvKWlmKHRoaXMuc2V0dGluZ3MobSxcImJhdGNoRWRnZXNEcmF3aW5nXCIpKShmdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqO2M9XCJlZGdlc19cIit0aGlzLmNvbnJhZElkLGo9dGhpcy5zZXR0aW5ncyhtLFwid2ViZ2xFZGdlc0JhdGNoU2l6ZVwiKSxhPU9iamVjdC5rZXlzKHRoaXMuZWRnZUZsb2F0QXJyYXlzKSxhLmxlbmd0aCYmKGI9MCxpPXNpZ21hLndlYmdsLmVkZ2VzW2FbYl1dLGU9dGhpcy5lZGdlRmxvYXRBcnJheXNbYVtiXV0uYXJyYXksaD10aGlzLmVkZ2VJbmRpY2VzQXJyYXlzW2FbYl1dLGc9MCxmPU1hdGgubWluKGcraippLlBPSU5UUyxlLmxlbmd0aC9pLkFUVFJJQlVURVMpLGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlUHJvZ3JhbXNbYVtiXV18fCh0aGlzLmVkZ2VQcm9ncmFtc1thW2JdXT1pLmluaXRQcm9ncmFtKGspKSxnPGYmJihrLnVzZVByb2dyYW0odGhpcy5lZGdlUHJvZ3JhbXNbYVtiXV0pLGkucmVuZGVyKGssdGhpcy5lZGdlUHJvZ3JhbXNbYVtiXV0sZSx7c2V0dGluZ3M6dGhpcy5zZXR0aW5ncyxtYXRyaXg6bCx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxyYXRpbzp0aGlzLmNhbWVyYS5yYXRpbyxzY2FsaW5nUmF0aW86dGhpcy5zZXR0aW5ncyhtLFwid2ViZ2xPdmVyc2FtcGxpbmdSYXRpb1wiKSxzdGFydDpnLGNvdW50OmYtZyxpbmRpY2VzRGF0YTpofSkpLGY+PWUubGVuZ3RoL2kuQVRUUklCVVRFUyYmYj09PWEubGVuZ3RoLTE/KGRlbGV0ZSB0aGlzLmpvYnNbY10sITEpOihmPj1lLmxlbmd0aC9pLkFUVFJJQlVURVM/KGIrKyxlPXRoaXMuZWRnZUZsb2F0QXJyYXlzW2FbYl1dLmFycmF5LGk9c2lnbWEud2ViZ2wuZWRnZXNbYVtiXV0sZz0wLGY9TWF0aC5taW4oZytqKmkuUE9JTlRTLGUubGVuZ3RoL2kuQVRUUklCVVRFUykpOihnPWYsZj1NYXRoLm1pbihnK2oqaS5QT0lOVFMsZS5sZW5ndGgvaS5BVFRSSUJVVEVTKSksITApfSx0aGlzLmpvYnNbY109ZCxjb25yYWQuYWRkSm9iKGMsZC5iaW5kKHRoaXMpKSl9KS5jYWxsKHRoaXMpO2Vsc2UgZm9yKGYgaW4gdGhpcy5lZGdlRmxvYXRBcnJheXMpaD1zaWdtYS53ZWJnbC5lZGdlc1tmXSx0aGlzLmVkZ2VQcm9ncmFtc1tmXXx8KHRoaXMuZWRnZVByb2dyYW1zW2ZdPWguaW5pdFByb2dyYW0oaykpLHRoaXMuZWRnZUZsb2F0QXJyYXlzW2ZdJiYoay51c2VQcm9ncmFtKHRoaXMuZWRnZVByb2dyYW1zW2ZdKSxoLnJlbmRlcihrLHRoaXMuZWRnZVByb2dyYW1zW2ZdLHRoaXMuZWRnZUZsb2F0QXJyYXlzW2ZdLmFycmF5LHtzZXR0aW5nczp0aGlzLnNldHRpbmdzLG1hdHJpeDpsLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LHJhdGlvOnRoaXMuY2FtZXJhLnJhdGlvLHNjYWxpbmdSYXRpbzp0aGlzLnNldHRpbmdzKG0sXCJ3ZWJnbE92ZXJzYW1wbGluZ1JhdGlvXCIpLGluZGljZXNEYXRhOnRoaXMuZWRnZUluZGljZXNBcnJheXNbZl19KSk7aWYocCl7ai5ibGVuZEZ1bmMoai5TUkNfQUxQSEEsai5PTkVfTUlOVVNfU1JDX0FMUEhBKSxqLmVuYWJsZShqLkJMRU5EKTtmb3IoZiBpbiB0aGlzLm5vZGVGbG9hdEFycmF5cyloPXNpZ21hLndlYmdsLm5vZGVzW2ZdLHRoaXMubm9kZVByb2dyYW1zW2ZdfHwodGhpcy5ub2RlUHJvZ3JhbXNbZl09aC5pbml0UHJvZ3JhbShqKSksdGhpcy5ub2RlRmxvYXRBcnJheXNbZl0mJihqLnVzZVByb2dyYW0odGhpcy5ub2RlUHJvZ3JhbXNbZl0pLGgucmVuZGVyKGosdGhpcy5ub2RlUHJvZ3JhbXNbZl0sdGhpcy5ub2RlRmxvYXRBcnJheXNbZl0uYXJyYXkse3NldHRpbmdzOnRoaXMuc2V0dGluZ3MsbWF0cml4Omwsd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQscmF0aW86dGhpcy5jYW1lcmEucmF0aW8sc2NhbGluZ1JhdGlvOnRoaXMuc2V0dGluZ3MobSxcIndlYmdsT3ZlcnNhbXBsaW5nUmF0aW9cIil9KSl9aWYobilmb3IoYz10aGlzLmNhbWVyYS5xdWFkdHJlZS5hcmVhKHRoaXMuY2FtZXJhLmdldFJlY3RhbmdsZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksdGhpcy5jYW1lcmEuYXBwbHlWaWV3KGEsYSx7bm9kZXM6YyxlZGdlczpbXSx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0pLGc9ZnVuY3Rpb24oYSl7cmV0dXJuIGkuc2V0dGluZ3Moe3ByZWZpeDppLmNhbWVyYS5wcmVmaXh9LGEpfSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWNbZF0uaGlkZGVufHwoc2lnbWEuY2FudmFzLmxhYmVsc1tjW2RdLnR5cGV8fHRoaXMuc2V0dGluZ3MobSxcImRlZmF1bHROb2RlVHlwZVwiKV18fHNpZ21hLmNhbnZhcy5sYWJlbHMuZGVmKShjW2RdLHRoaXMuY29udGV4dHMubGFiZWxzLGcpO3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoXCJyZW5kZXJcIiksdGhpc30sc2lnbWEucmVuZGVyZXJzLndlYmdsLnByb3RvdHlwZS5pbml0RE9NPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLGU9dGhpcztkLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixkLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJzaWdtYS1cIitiKSx0aGlzLmRvbUVsZW1lbnRzW2JdPWQsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZCksXCJjYW52YXNcIj09PWEudG9Mb3dlckNhc2UoKSYmKHRoaXMuY29udGV4dHNbYl09ZC5nZXRDb250ZXh0KGM/XCJleHBlcmltZW50YWwtd2ViZ2xcIjpcIjJkXCIse3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMH0pLGMmJihkLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSwhMSksZC5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIixmdW5jdGlvbihhKXtlLnJlbmRlcigpfSwhMSkpKX0sc2lnbWEucmVuZGVyZXJzLndlYmdsLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oYixjKXt2YXIgZCxlPXRoaXMud2lkdGgsZj10aGlzLmhlaWdodCxnPXNpZ21hLnV0aWxzLmdldFBpeGVsUmF0aW8oKTtpZihiIT09YSYmYyE9PWE/KHRoaXMud2lkdGg9Yix0aGlzLmhlaWdodD1jKToodGhpcy53aWR0aD10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCx0aGlzLmhlaWdodD10aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQsYj10aGlzLndpZHRoLGM9dGhpcy5oZWlnaHQpLGUhPT10aGlzLndpZHRofHxmIT09dGhpcy5oZWlnaHQpZm9yKGQgaW4gdGhpcy5kb21FbGVtZW50cyl0aGlzLmRvbUVsZW1lbnRzW2RdLnN0eWxlLndpZHRoPWIrXCJweFwiLHRoaXMuZG9tRWxlbWVudHNbZF0uc3R5bGUuaGVpZ2h0PWMrXCJweFwiLFwiY2FudmFzXCI9PT10aGlzLmRvbUVsZW1lbnRzW2RdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKHRoaXMuY29udGV4dHNbZF0mJnRoaXMuY29udGV4dHNbZF0uc2NhbGU/KHRoaXMuZG9tRWxlbWVudHNbZF0uc2V0QXR0cmlidXRlKFwid2lkdGhcIixiKmcrXCJweFwiKSx0aGlzLmRvbUVsZW1lbnRzW2RdLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGMqZytcInB4XCIpLDEhPT1nJiZ0aGlzLmNvbnRleHRzW2RdLnNjYWxlKGcsZykpOih0aGlzLmRvbUVsZW1lbnRzW2RdLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYip0aGlzLnNldHRpbmdzKFwid2ViZ2xPdmVyc2FtcGxpbmdSYXRpb1wiKStcInB4XCIpLHRoaXMuZG9tRWxlbWVudHNbZF0uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYyp0aGlzLnNldHRpbmdzKFwid2ViZ2xPdmVyc2FtcGxpbmdSYXRpb1wiKStcInB4XCIpKSk7Zm9yKGQgaW4gdGhpcy5jb250ZXh0cyl0aGlzLmNvbnRleHRzW2RdJiZ0aGlzLmNvbnRleHRzW2RdLnZpZXdwb3J0JiZ0aGlzLmNvbnRleHRzW2RdLnZpZXdwb3J0KDAsMCx0aGlzLndpZHRoKnRoaXMuc2V0dGluZ3MoXCJ3ZWJnbE92ZXJzYW1wbGluZ1JhdGlvXCIpLHRoaXMuaGVpZ2h0KnRoaXMuc2V0dGluZ3MoXCJ3ZWJnbE92ZXJzYW1wbGluZ1JhdGlvXCIpKTtyZXR1cm4gdGhpc30sc2lnbWEucmVuZGVyZXJzLndlYmdsLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHRzLmxhYmVscy5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuY29udGV4dHMubm9kZXMuY2xlYXIodGhpcy5jb250ZXh0cy5ub2Rlcy5DT0xPUl9CVUZGRVJfQklUKSx0aGlzLmNvbnRleHRzLmVkZ2VzLmNsZWFyKHRoaXMuY29udGV4dHMuZWRnZXMuQ09MT1JfQlVGRkVSX0JJVCksdGhpc30sc2lnbWEucmVuZGVyZXJzLndlYmdsLnByb3RvdHlwZS5raWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI7Yj10aGlzLmNhcHRvcnMucG9wKCk7KWIua2lsbCgpO2RlbGV0ZSB0aGlzLmNhcHRvcnM7Zm9yKGEgaW4gdGhpcy5kb21FbGVtZW50cyl0aGlzLmRvbUVsZW1lbnRzW2FdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb21FbGVtZW50c1thXSksZGVsZXRlIHRoaXMuZG9tRWxlbWVudHNbYV0sZGVsZXRlIHRoaXMuY29udGV4dHNbYV07ZGVsZXRlIHRoaXMuZG9tRWxlbWVudHMsZGVsZXRlIHRoaXMuY29udGV4dHN9LHNpZ21hLnV0aWxzLnBrZyhcInNpZ21hLndlYmdsLm5vZGVzXCIpLHNpZ21hLnV0aWxzLnBrZyhcInNpZ21hLndlYmdsLmVkZ2VzXCIpLHNpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5sYWJlbHNcIil9LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgY29ucmFkKXRocm93XCJjb25yYWQgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEucmVuZGVyZXJzXCIpLHNpZ21hLnJlbmRlcmVycy5zdmc9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGQpdGhyb3dcInNpZ21hLnJlbmRlcmVycy5zdmc6IFdyb25nIGFyZ3VtZW50cy5cIjtpZighKGQuY29udGFpbmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKXRocm93XCJDb250YWluZXIgbm90IGZvdW5kLlwiO3ZhciBlLGYsZyxoLGk9dGhpcztmb3Ioc2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKSx0aGlzLmdyYXBoPWEsdGhpcy5jYW1lcmE9Yix0aGlzLmRvbUVsZW1lbnRzPXtncmFwaDpudWxsLGdyb3Vwczp7fSxub2Rlczp7fSxlZGdlczp7fSxsYWJlbHM6e30saG92ZXJzOnt9fSx0aGlzLm1lYXN1cmVtZW50Q2FudmFzPW51bGwsdGhpcy5vcHRpb25zPWQsdGhpcy5jb250YWluZXI9dGhpcy5vcHRpb25zLmNvbnRhaW5lcix0aGlzLnNldHRpbmdzPVwib2JqZWN0XCI9PXR5cGVvZiBkLnNldHRpbmdzJiZkLnNldHRpbmdzP2MuZW1iZWRPYmplY3RzKGQuc2V0dGluZ3MpOmMsdGhpcy5zZXR0aW5ncyhcImZyZWVTdHlsZVwiLCEhdGhpcy5vcHRpb25zLmZyZWVTdHlsZSksdGhpcy5zZXR0aW5ncyhcInhtbG5zXCIsXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKSx0aGlzLm5vZGVzT25TY3JlZW49W10sdGhpcy5lZGdlc09uU2NyZWVuPVtdLHRoaXMub3B0aW9ucy5wcmVmaXg9XCJyZW5kZXJlclwiK3NpZ21hLnV0aWxzLmlkKCkrXCI6XCIsdGhpcy5pbml0RE9NKFwic3ZnXCIpLHRoaXMuY2FwdG9ycz1bXSxnPXRoaXMub3B0aW9ucy5jYXB0b3JzfHxbc2lnbWEuY2FwdG9ycy5tb3VzZSxzaWdtYS5jYXB0b3JzLnRvdWNoXSxlPTAsZj1nLmxlbmd0aDtlPGY7ZSsrKWg9XCJmdW5jdGlvblwiPT10eXBlb2YgZ1tlXT9nW2VdOnNpZ21hLmNhcHRvcnNbZ1tlXV0sdGhpcy5jYXB0b3JzLnB1c2gobmV3IGgodGhpcy5kb21FbGVtZW50cy5ncmFwaCx0aGlzLmNhbWVyYSx0aGlzLnNldHRpbmdzKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe2kucmVzaXplKCl9KSxzaWdtYS5taXNjLmJpbmRET01FdmVudHMuY2FsbCh0aGlzLHRoaXMuZG9tRWxlbWVudHMuZ3JhcGgpLHRoaXMuYmluZEhvdmVycyh0aGlzLm9wdGlvbnMucHJlZml4KSx0aGlzLnJlc2l6ZSghMSl9LHNpZ21hLnJlbmRlcmVycy5zdmcucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihiKXtiPWJ8fHt9O3ZhciBjLGQsZSxmLGcsaCxpLGosayxsPXt9LG09dGhpcy5ncmFwaCxuPXRoaXMuZ3JhcGgubm9kZXMsbz0odGhpcy5vcHRpb25zLnByZWZpeCx0aGlzLnNldHRpbmdzKGIsXCJkcmF3RWRnZXNcIikpLHA9dGhpcy5zZXR0aW5ncyhiLFwiZHJhd05vZGVzXCIpLHE9KHRoaXMuc2V0dGluZ3MoYixcImRyYXdMYWJlbHNcIiksdGhpcy5zZXR0aW5ncy5lbWJlZE9iamVjdHMoYix7cHJlZml4OnRoaXMub3B0aW9ucy5wcmVmaXgsZm9yY2VMYWJlbHM6dGhpcy5vcHRpb25zLmZvcmNlTGFiZWxzfSkpO2Zvcih0aGlzLnNldHRpbmdzKGIsXCJoaWRlRWRnZXNPbk1vdmVcIikmJih0aGlzLmNhbWVyYS5pc0FuaW1hdGVkfHx0aGlzLmNhbWVyYS5pc01vdmluZykmJihvPSExKSx0aGlzLmNhbWVyYS5hcHBseVZpZXcoYSx0aGlzLm9wdGlvbnMucHJlZml4LHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0pLHRoaXMuaGlkZURPTUVsZW1lbnRzKHRoaXMuZG9tRWxlbWVudHMubm9kZXMpLHRoaXMuaGlkZURPTUVsZW1lbnRzKHRoaXMuZG9tRWxlbWVudHMuZWRnZXMpLHRoaXMuaGlkZURPTUVsZW1lbnRzKHRoaXMuZG9tRWxlbWVudHMubGFiZWxzKSx0aGlzLmVkZ2VzT25TY3JlZW49W10sdGhpcy5ub2Rlc09uU2NyZWVuPXRoaXMuY2FtZXJhLnF1YWR0cmVlLmFyZWEodGhpcy5jYW1lcmEuZ2V0UmVjdGFuZ2xlKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSxjPXRoaXMubm9kZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWxbY1tkXS5pZF09Y1tkXTtmb3IoYz1tLmVkZ2VzKCksZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKylnPWNbZF0sIWxbZy5zb3VyY2VdJiYhbFtnLnRhcmdldF18fGcuaGlkZGVufHxuKGcuc291cmNlKS5oaWRkZW58fG4oZy50YXJnZXQpLmhpZGRlbnx8dGhpcy5lZGdlc09uU2NyZWVuLnB1c2goZyk7aWYoaj1zaWdtYS5zdmcubm9kZXMsaz1zaWdtYS5zdmcubGFiZWxzLHApZm9yKGM9dGhpcy5ub2Rlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspY1tkXS5oaWRkZW58fHRoaXMuZG9tRWxlbWVudHMubm9kZXNbY1tkXS5pZF18fChlPShqW2NbZF0udHlwZV18fGouZGVmKS5jcmVhdGUoY1tkXSxxKSx0aGlzLmRvbUVsZW1lbnRzLm5vZGVzW2NbZF0uaWRdPWUsdGhpcy5kb21FbGVtZW50cy5ncm91cHMubm9kZXMuYXBwZW5kQ2hpbGQoZSksZT0oa1tjW2RdLnR5cGVdfHxrLmRlZikuY3JlYXRlKGNbZF0scSksdGhpcy5kb21FbGVtZW50cy5sYWJlbHNbY1tkXS5pZF09ZSx0aGlzLmRvbUVsZW1lbnRzLmdyb3Vwcy5sYWJlbHMuYXBwZW5kQ2hpbGQoZSkpO2lmKHApZm9yKGM9dGhpcy5ub2Rlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspY1tkXS5oaWRkZW58fCgoaltjW2RdLnR5cGVdfHxqLmRlZikudXBkYXRlKGNbZF0sdGhpcy5kb21FbGVtZW50cy5ub2Rlc1tjW2RdLmlkXSxxKSwoa1tjW2RdLnR5cGVdfHxrLmRlZikudXBkYXRlKGNbZF0sdGhpcy5kb21FbGVtZW50cy5sYWJlbHNbY1tkXS5pZF0scSkpO2lmKGo9c2lnbWEuc3ZnLmVkZ2VzLG8pZm9yKGM9dGhpcy5lZGdlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspdGhpcy5kb21FbGVtZW50cy5lZGdlc1tjW2RdLmlkXXx8KGg9bihjW2RdLnNvdXJjZSksaT1uKGNbZF0udGFyZ2V0KSxlPShqW2NbZF0udHlwZV18fGouZGVmKS5jcmVhdGUoY1tkXSxoLGkscSksdGhpcy5kb21FbGVtZW50cy5lZGdlc1tjW2RdLmlkXT1lLHRoaXMuZG9tRWxlbWVudHMuZ3JvdXBzLmVkZ2VzLmFwcGVuZENoaWxkKGUpKTtpZihvKWZvcihjPXRoaXMuZWRnZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWg9bihjW2RdLnNvdXJjZSksaT1uKGNbZF0udGFyZ2V0KSwoaltjW2RdLnR5cGVdfHxqLmRlZikudXBkYXRlKGNbZF0sdGhpcy5kb21FbGVtZW50cy5lZGdlc1tjW2RdLmlkXSxoLGkscSk7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudChcInJlbmRlclwiKSx0aGlzfSxzaWdtYS5yZW5kZXJlcnMuc3ZnLnByb3RvdHlwZS5pbml0RE9NPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLnNldHRpbmdzKFwieG1sbnNcIiksYSksZj10aGlzLnNldHRpbmdzKFwiY2xhc3NQcmVmaXhcIik7ZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGYrXCItc3ZnXCIpLGUuc2V0QXR0cmlidXRlKFwieG1sbnNcIix0aGlzLnNldHRpbmdzKFwieG1sbnNcIikpLGUuc2V0QXR0cmlidXRlKFwieG1sbnM6eGxpbmtcIixcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiksZS5zZXRBdHRyaWJ1dGUoXCJ2ZXJzaW9uXCIsXCIxLjFcIik7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtnLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsZitcIi1tZWFzdXJlbWVudC1jYW52YXNcIiksdGhpcy5kb21FbGVtZW50cy5ncmFwaD10aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlKTt2YXIgaD1bXCJlZGdlc1wiLFwibm9kZXNcIixcImxhYmVsc1wiLFwiaG92ZXJzXCJdO2ZvcihkPTAsYz1oLmxlbmd0aDtkPGM7ZCsrKWI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuc2V0dGluZ3MoXCJ4bWxuc1wiKSxcImdcIiksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaWRcIixmK1wiLWdyb3VwLVwiK2hbZF0pLGIuc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsZitcIi1ncm91cFwiKSx0aGlzLmRvbUVsZW1lbnRzLmdyb3Vwc1toW2RdXT10aGlzLmRvbUVsZW1lbnRzLmdyYXBoLmFwcGVuZENoaWxkKGIpO3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGcpLHRoaXMubWVhc3VyZW1lbnRDYW52YXM9Zy5nZXRDb250ZXh0KFwiMmRcIil9LHNpZ21hLnJlbmRlcmVycy5zdmcucHJvdG90eXBlLmhpZGVET01FbGVtZW50cz1mdW5jdGlvbihhKXt2YXIgYixjO2ZvcihjIGluIGEpYj1hW2NdLHNpZ21hLnN2Zy51dGlscy5oaWRlKGIpO3JldHVybiB0aGlzfSxzaWdtYS5yZW5kZXJlcnMuc3ZnLnByb3RvdHlwZS5iaW5kSG92ZXJzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7dmFyIGM9Yi5kYXRhLm5vZGUsZD1nLnNldHRpbmdzLmVtYmVkT2JqZWN0cyh7cHJlZml4OmF9KTtpZihkKFwiZW5hYmxlSG92ZXJpbmdcIikpe3ZhciBoPShmW2MudHlwZV18fGYuZGVmKS5jcmVhdGUoYyxnLmRvbUVsZW1lbnRzLm5vZGVzW2MuaWRdLGcubWVhc3VyZW1lbnRDYW52YXMsZCk7Zy5kb21FbGVtZW50cy5ob3ZlcnNbYy5pZF09aCxnLmRvbUVsZW1lbnRzLmdyb3Vwcy5ob3ZlcnMuYXBwZW5kQ2hpbGQoaCksZT1jfX1mdW5jdGlvbiBjKGIpe3ZhciBjPWIuZGF0YS5ub2RlO2cuc2V0dGluZ3MuZW1iZWRPYmplY3RzKHtwcmVmaXg6YX0pKFwiZW5hYmxlSG92ZXJpbmdcIikmJihnLmRvbUVsZW1lbnRzLmdyb3Vwcy5ob3ZlcnMucmVtb3ZlQ2hpbGQoZy5kb21FbGVtZW50cy5ob3ZlcnNbYy5pZF0pLGU9bnVsbCxkZWxldGUgZy5kb21FbGVtZW50cy5ob3ZlcnNbYy5pZF0sZy5kb21FbGVtZW50cy5ncm91cHMubm9kZXMuYXBwZW5kQ2hpbGQoZy5kb21FbGVtZW50cy5ub2Rlc1tjLmlkXSkpfWZ1bmN0aW9uIGQoKXtpZihlKXt2YXIgYj1nLnNldHRpbmdzLmVtYmVkT2JqZWN0cyh7cHJlZml4OmF9KTtnLmRvbUVsZW1lbnRzLmdyb3Vwcy5ob3ZlcnMucmVtb3ZlQ2hpbGQoZy5kb21FbGVtZW50cy5ob3ZlcnNbZS5pZF0pLGRlbGV0ZSBnLmRvbUVsZW1lbnRzLmhvdmVyc1tlLmlkXTt2YXIgYz0oZltlLnR5cGVdfHxmLmRlZikuY3JlYXRlKGUsZy5kb21FbGVtZW50cy5ub2Rlc1tlLmlkXSxnLm1lYXN1cmVtZW50Q2FudmFzLGIpO2cuZG9tRWxlbWVudHMuaG92ZXJzW2UuaWRdPWMsZy5kb21FbGVtZW50cy5ncm91cHMuaG92ZXJzLmFwcGVuZENoaWxkKGMpfX12YXIgZSxmPXNpZ21hLnN2Zy5ob3ZlcnMsZz10aGlzO3RoaXMuYmluZChcIm92ZXJOb2RlXCIsYiksdGhpcy5iaW5kKFwib3V0Tm9kZVwiLGMpLHRoaXMuYmluZChcInJlbmRlclwiLGQpfSxzaWdtYS5yZW5kZXJlcnMuc3ZnLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLndpZHRoLGU9dGhpcy5oZWlnaHQsZj0xO3JldHVybiBiIT09YSYmYyE9PWE/KHRoaXMud2lkdGg9Yix0aGlzLmhlaWdodD1jKToodGhpcy53aWR0aD10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCx0aGlzLmhlaWdodD10aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQsYj10aGlzLndpZHRoLGM9dGhpcy5oZWlnaHQpLGQ9PT10aGlzLndpZHRoJiZlPT09dGhpcy5oZWlnaHR8fCh0aGlzLmRvbUVsZW1lbnRzLmdyYXBoLnN0eWxlLndpZHRoPWIrXCJweFwiLHRoaXMuZG9tRWxlbWVudHMuZ3JhcGguc3R5bGUuaGVpZ2h0PWMrXCJweFwiLFwic3ZnXCI9PT10aGlzLmRvbUVsZW1lbnRzLmdyYXBoLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKHRoaXMuZG9tRWxlbWVudHMuZ3JhcGguc2V0QXR0cmlidXRlKFwid2lkdGhcIixiKmYpLHRoaXMuZG9tRWxlbWVudHMuZ3JhcGguc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYypmKSkpLHRoaXN9LHNpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnN2Zy5ub2Rlc1wiKSxzaWdtYS51dGlscy5wa2coXCJzaWdtYS5zdmcuZWRnZXNcIiksc2lnbWEudXRpbHMucGtnKFwic2lnbWEuc3ZnLmxhYmVsc1wiKX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnJlbmRlcmVyc1wiKTt2YXIgYixjPSEhYS5XZWJHTFJlbmRlcmluZ0NvbnRleHQ7aWYoYyl7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3RyeXtjPSEoIWIuZ2V0Q29udGV4dChcIndlYmdsXCIpJiYhYi5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpKX1jYXRjaChhKXtjPSExfX1zaWdtYS5yZW5kZXJlcnMuZGVmPWM/c2lnbWEucmVuZGVyZXJzLndlYmdsOnNpZ21hLnJlbmRlcmVycy5jYW52YXN9KHRoaXMpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEud2ViZ2wubm9kZXNcIiksc2lnbWEud2ViZ2wubm9kZXMuZGVmPXtQT0lOVFM6MyxBVFRSSUJVVEVTOjUsYWRkTm9kZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXNpZ21hLnV0aWxzLmZsb2F0Q29sb3IoYS5jb2xvcnx8ZShcImRlZmF1bHROb2RlQ29sb3JcIikpO2JbYysrXT1hW2QrXCJ4XCJdLGJbYysrXT1hW2QrXCJ5XCJdLGJbYysrXT1hW2QrXCJzaXplXCJdLGJbYysrXT1mLGJbYysrXT0wLGJbYysrXT1hW2QrXCJ4XCJdLGJbYysrXT1hW2QrXCJ5XCJdLGJbYysrXT1hW2QrXCJzaXplXCJdLGJbYysrXT1mLGJbYysrXT0yKk1hdGguUEkvMyxiW2MrK109YVtkK1wieFwiXSxiW2MrK109YVtkK1wieVwiXSxiW2MrK109YVtkK1wic2l6ZVwiXSxiW2MrK109ZixiW2MrK109NCpNYXRoLlBJLzN9LHJlbmRlcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfcG9zaXRpb25cIiksZz1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX3NpemVcIiksaD1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX2NvbG9yXCIpLGk9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9hbmdsZVwiKSxqPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X3Jlc29sdXRpb25cIiksaz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9tYXRyaXhcIiksbD1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9yYXRpb1wiKSxtPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X3NjYWxlXCIpO2U9YS5jcmVhdGVCdWZmZXIoKSxhLmJpbmRCdWZmZXIoYS5BUlJBWV9CVUZGRVIsZSksYS5idWZmZXJEYXRhKGEuQVJSQVlfQlVGRkVSLGMsYS5EWU5BTUlDX0RSQVcpLGEudW5pZm9ybTJmKGosZC53aWR0aCxkLmhlaWdodCksYS51bmlmb3JtMWYobCwxL01hdGgucG93KGQucmF0aW8sZC5zZXR0aW5ncyhcIm5vZGVzUG93UmF0aW9cIikpKSxhLnVuaWZvcm0xZihtLGQuc2NhbGluZ1JhdGlvKSxhLnVuaWZvcm1NYXRyaXgzZnYoaywhMSxkLm1hdHJpeCksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGcpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaCksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZiwyLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwwKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZywxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCw4KSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoaCwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwxMiksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGksMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMTYpLGEuZHJhd0FycmF5cyhhLlRSSUFOR0xFUyxkLnN0YXJ0fHwwLGQuY291bnR8fGMubGVuZ3RoL3RoaXMuQVRUUklCVVRFUyl9LGluaXRQcm9ncmFtOmZ1bmN0aW9uKGEpe3ZhciBiLGM7cmV0dXJuIGI9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV9zaXplO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfY29sb3I7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV9hbmdsZTtcIixcInVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XCIsXCJ1bmlmb3JtIGZsb2F0IHVfcmF0aW87XCIsXCJ1bmlmb3JtIGZsb2F0IHVfc2NhbGU7XCIsXCJ1bmlmb3JtIG1hdDMgdV9tYXRyaXg7XCIsXCJ2YXJ5aW5nIHZlYzQgY29sb3I7XCIsXCJ2YXJ5aW5nIHZlYzIgY2VudGVyO1wiLFwidmFyeWluZyBmbG9hdCByYWRpdXM7XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJyYWRpdXMgPSBhX3NpemUgKiB1X3JhdGlvO1wiLFwidmVjMiBwb3NpdGlvbiA9ICh1X21hdHJpeCAqIHZlYzMoYV9wb3NpdGlvbiwgMSkpLnh5O1wiLFwiY2VudGVyID0gcG9zaXRpb24gKiB1X3NjYWxlO1wiLFwiY2VudGVyID0gdmVjMihjZW50ZXIueCwgdV9zY2FsZSAqIHVfcmVzb2x1dGlvbi55IC0gY2VudGVyLnkpO1wiLFwicG9zaXRpb24gPSBwb3NpdGlvbiArXCIsXCIyLjAgKiByYWRpdXMgKiB2ZWMyKGNvcyhhX2FuZ2xlKSwgc2luKGFfYW5nbGUpKTtcIixcInBvc2l0aW9uID0gKHBvc2l0aW9uIC8gdV9yZXNvbHV0aW9uICogMi4wIC0gMS4wKSAqIHZlYzIoMSwgLTEpO1wiLFwicmFkaXVzID0gcmFkaXVzICogdV9zY2FsZTtcIixcImdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMCwgMSk7XCIsXCJmbG9hdCBjID0gYV9jb2xvcjtcIixcImNvbG9yLmIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTtcIixcImNvbG9yLmcgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTtcIixcImNvbG9yLnIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTsgY29sb3IgLz0gMjU1LjA7XCIsXCJjb2xvci5hID0gMS4wO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGEuVkVSVEVYX1NIQURFUiksYz1zaWdtYS51dGlscy5sb2FkU2hhZGVyKGEsW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzQgY29sb3I7XCIsXCJ2YXJ5aW5nIHZlYzIgY2VudGVyO1wiLFwidmFyeWluZyBmbG9hdCByYWRpdXM7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwidmVjNCBjb2xvcjAgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7XCIsXCJ2ZWMyIG0gPSBnbF9GcmFnQ29vcmQueHkgLSBjZW50ZXI7XCIsXCJmbG9hdCBkaWZmID0gcmFkaXVzIC0gc3FydChtLnggKiBtLnggKyBtLnkgKiBtLnkpO1wiLFwiaWYgKGRpZmYgPiAwLjApXCIsXCJnbF9GcmFnQ29sb3IgPSBjb2xvcjtcIixcImVsc2VcIixcImdsX0ZyYWdDb2xvciA9IGNvbG9yMDtcIixcIn1cIl0uam9pbihcIlxcblwiKSxhLkZSQUdNRU5UX1NIQURFUiksc2lnbWEudXRpbHMubG9hZFByb2dyYW0oYSxbYixjXSl9fX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLndlYmdsLm5vZGVzXCIpLHNpZ21hLndlYmdsLm5vZGVzLmZhc3Q9e1BPSU5UUzoxLEFUVFJJQlVURVM6NCxhZGROb2RlOmZ1bmN0aW9uKGEsYixjLGQsZSl7YltjKytdPWFbZCtcInhcIl0sYltjKytdPWFbZCtcInlcIl0sYltjKytdPWFbZCtcInNpemVcIl0sYltjKytdPXNpZ21hLnV0aWxzLmZsb2F0Q29sb3IoYS5jb2xvcnx8ZShcImRlZmF1bHROb2RlQ29sb3JcIikpfSxyZW5kZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX3Bvc2l0aW9uXCIpLGc9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9zaXplXCIpLGg9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9jb2xvclwiKSxpPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X3Jlc29sdXRpb25cIiksaj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9tYXRyaXhcIiksaz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9yYXRpb1wiKSxsPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X3NjYWxlXCIpO2U9YS5jcmVhdGVCdWZmZXIoKSxhLmJpbmRCdWZmZXIoYS5BUlJBWV9CVUZGRVIsZSksYS5idWZmZXJEYXRhKGEuQVJSQVlfQlVGRkVSLGMsYS5EWU5BTUlDX0RSQVcpLGEudW5pZm9ybTJmKGksZC53aWR0aCxkLmhlaWdodCksYS51bmlmb3JtMWYoaywxL01hdGgucG93KGQucmF0aW8sZC5zZXR0aW5ncyhcIm5vZGVzUG93UmF0aW9cIikpKSxhLnVuaWZvcm0xZihsLGQuc2NhbGluZ1JhdGlvKSxhLnVuaWZvcm1NYXRyaXgzZnYoaiwhMSxkLm1hdHJpeCksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGcpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGcsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsOCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMTIpLGEuZHJhd0FycmF5cyhhLlBPSU5UUyxkLnN0YXJ0fHwwLGQuY291bnR8fGMubGVuZ3RoL3RoaXMuQVRUUklCVVRFUyl9LGluaXRQcm9ncmFtOmZ1bmN0aW9uKGEpe3ZhciBiLGM7cmV0dXJuIGI9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV9zaXplO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfY29sb3I7XCIsXCJ1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1wiLFwidW5pZm9ybSBmbG9hdCB1X3JhdGlvO1wiLFwidW5pZm9ybSBmbG9hdCB1X3NjYWxlO1wiLFwidW5pZm9ybSBtYXQzIHVfbWF0cml4O1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidm9pZCBtYWluKCkge1wiLFwiZ2xfUG9zaXRpb24gPSB2ZWM0KFwiLFwiKCh1X21hdHJpeCAqIHZlYzMoYV9wb3NpdGlvbiwgMSkpLnh5IC9cIixcInVfcmVzb2x1dGlvbiAqIDIuMCAtIDEuMCkgKiB2ZWMyKDEsIC0xKSxcIixcIjAsXCIsXCIxXCIsXCIpO1wiLFwiZ2xfUG9pbnRTaXplID0gYV9zaXplICogdV9yYXRpbyAqIHVfc2NhbGUgKiAyLjA7XCIsXCJmbG9hdCBjID0gYV9jb2xvcjtcIixcImNvbG9yLmIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTtcIixcImNvbG9yLmcgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTtcIixcImNvbG9yLnIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTsgY29sb3IgLz0gMjU1LjA7XCIsXCJjb2xvci5hID0gMS4wO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGEuVkVSVEVYX1NIQURFUiksYz1zaWdtYS51dGlscy5sb2FkU2hhZGVyKGEsW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzQgY29sb3I7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiZmxvYXQgYm9yZGVyID0gMC4wMTtcIixcImZsb2F0IHJhZGl1cyA9IDAuNTtcIixcInZlYzQgY29sb3IwID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAwLjApO1wiLFwidmVjMiBtID0gZ2xfUG9pbnRDb29yZCAtIHZlYzIoMC41LCAwLjUpO1wiLFwiZmxvYXQgZGlzdCA9IHJhZGl1cyAtIHNxcnQobS54ICogbS54ICsgbS55ICogbS55KTtcIixcImZsb2F0IHQgPSAwLjA7XCIsXCJpZiAoZGlzdCA+IGJvcmRlcilcIixcInQgPSAxLjA7XCIsXCJlbHNlIGlmIChkaXN0ID4gMC4wKVwiLFwidCA9IGRpc3QgLyBib3JkZXI7XCIsXCJnbF9GcmFnQ29sb3IgPSBtaXgoY29sb3IwLCBjb2xvciwgdCk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksYS5GUkFHTUVOVF9TSEFERVIpLHNpZ21hLnV0aWxzLmxvYWRQcm9ncmFtKGEsW2IsY10pfX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS53ZWJnbC5lZGdlc1wiKSxzaWdtYS53ZWJnbC5lZGdlcy5kZWY9e1BPSU5UUzo2LEFUVFJJQlVURVM6NyxhZGRFZGdlOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPShhW2YrXCJzaXplXCJdfHwxKS8yLGk9YltmK1wieFwiXSxqPWJbZitcInlcIl0saz1jW2YrXCJ4XCJdLGw9Y1tmK1wieVwiXSxtPWEuY29sb3I7aWYoIW0pc3dpdGNoKGcoXCJlZGdlQ29sb3JcIikpe2Nhc2VcInNvdXJjZVwiOm09Yi5jb2xvcnx8ZyhcImRlZmF1bHROb2RlQ29sb3JcIik7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6bT1jLmNvbG9yfHxnKFwiZGVmYXVsdE5vZGVDb2xvclwiKTticmVhaztkZWZhdWx0Om09ZyhcImRlZmF1bHRFZGdlQ29sb3JcIil9bT1zaWdtYS51dGlscy5mbG9hdENvbG9yKG0pLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1oLGRbZSsrXT0wLGRbZSsrXT1tLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT0xLGRbZSsrXT1tLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT0wLGRbZSsrXT1tLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT0wLGRbZSsrXT1tLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1oLGRbZSsrXT0xLGRbZSsrXT1tLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1oLGRbZSsrXT0wLGRbZSsrXT1tfSxyZW5kZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX2NvbG9yXCIpLGc9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9wb3NpdGlvbjFcIiksaD1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX3Bvc2l0aW9uMlwiKSxpPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfdGhpY2tuZXNzXCIpLGo9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9taW51c1wiKSxrPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X3Jlc29sdXRpb25cIiksbD1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9tYXRyaXhcIiksbT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9tYXRyaXhIYWxmUGlcIiksbj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9tYXRyaXhIYWxmUGlNaW51c1wiKSxvPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X3JhdGlvXCIpLHA9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfc2NhbGVcIik7ZT1hLmNyZWF0ZUJ1ZmZlcigpLGEuYmluZEJ1ZmZlcihhLkFSUkFZX0JVRkZFUixlKSxhLmJ1ZmZlckRhdGEoYS5BUlJBWV9CVUZGRVIsYyxhLlNUQVRJQ19EUkFXKSxhLnVuaWZvcm0yZihrLGQud2lkdGgsZC5oZWlnaHQpLGEudW5pZm9ybTFmKG8sZC5yYXRpby9NYXRoLnBvdyhkLnJhdGlvLGQuc2V0dGluZ3MoXCJlZGdlc1Bvd1JhdGlvXCIpKSksYS51bmlmb3JtMWYocCxkLnNjYWxpbmdSYXRpbyksYS51bmlmb3JtTWF0cml4M2Z2KGwsITEsZC5tYXRyaXgpLGEudW5pZm9ybU1hdHJpeDJmdihtLCExLHNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uKE1hdGguUEkvMiwhMCkpLGEudW5pZm9ybU1hdHJpeDJmdihuLCExLHNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uKC1NYXRoLlBJLzIsITApKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGYpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZyksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShoKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaiksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGcsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsOCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGksMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMTYpLGEudmVydGV4QXR0cmliUG9pbnRlcihqLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDIwKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZiwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwyNCksYS5kcmF3QXJyYXlzKGEuVFJJQU5HTEVTLGQuc3RhcnR8fDAsZC5jb3VudHx8Yy5sZW5ndGgvdGhpcy5BVFRSSUJVVEVTKX0saW5pdFByb2dyYW06ZnVuY3Rpb24oYSl7dmFyIGIsYztyZXR1cm4gYj1zaWdtYS51dGlscy5sb2FkU2hhZGVyKGEsW1wiYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjE7XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uMjtcIixcImF0dHJpYnV0ZSBmbG9hdCBhX3RoaWNrbmVzcztcIixcImF0dHJpYnV0ZSBmbG9hdCBhX21pbnVzO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfY29sb3I7XCIsXCJ1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1wiLFwidW5pZm9ybSBmbG9hdCB1X3JhdGlvO1wiLFwidW5pZm9ybSBmbG9hdCB1X3NjYWxlO1wiLFwidW5pZm9ybSBtYXQzIHVfbWF0cml4O1wiLFwidW5pZm9ybSBtYXQyIHVfbWF0cml4SGFsZlBpO1wiLFwidW5pZm9ybSBtYXQyIHVfbWF0cml4SGFsZlBpTWludXM7XCIsXCJ2YXJ5aW5nIHZlYzQgY29sb3I7XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJ2ZWMyIHBvc2l0aW9uID0gYV90aGlja25lc3MgKiB1X3JhdGlvICpcIixcIm5vcm1hbGl6ZShhX3Bvc2l0aW9uMiAtIGFfcG9zaXRpb24xKTtcIixcIm1hdDIgbWF0cml4ID0gYV9taW51cyAqIHVfbWF0cml4SGFsZlBpTWludXMgK1wiLFwiKDEuMCAtIGFfbWludXMpICogdV9tYXRyaXhIYWxmUGk7XCIsXCJwb3NpdGlvbiA9IG1hdHJpeCAqIHBvc2l0aW9uICsgYV9wb3NpdGlvbjE7XCIsXCJnbF9Qb3NpdGlvbiA9IHZlYzQoXCIsXCIoKHVfbWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMSkpLnh5IC9cIixcInVfcmVzb2x1dGlvbiAqIDIuMCAtIDEuMCkgKiB2ZWMyKDEsIC0xKSxcIixcIjAsXCIsXCIxXCIsXCIpO1wiLFwiZmxvYXQgYyA9IGFfY29sb3I7XCIsXCJjb2xvci5iID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5nID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5yID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IGNvbG9yIC89IDI1NS4wO1wiLFwiY29sb3IuYSA9IDEuMDtcIixcIn1cIl0uam9pbihcIlxcblwiKSxhLlZFUlRFWF9TSEFERVIpLGM9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcImdsX0ZyYWdDb2xvciA9IGNvbG9yO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGEuRlJBR01FTlRfU0hBREVSKSxzaWdtYS51dGlscy5sb2FkUHJvZ3JhbShhLFtiLGNdKX19fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEud2ViZ2wuZWRnZXNcIiksc2lnbWEud2ViZ2wuZWRnZXMuZmFzdD17UE9JTlRTOjIsQVRUUklCVVRFUzozLGFkZEVkZ2U6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9KGFbZitcInNpemVcIl0sYltmK1wieFwiXSksaT1iW2YrXCJ5XCJdLGo9Y1tmK1wieFwiXSxrPWNbZitcInlcIl0sbD1hLmNvbG9yO2lmKCFsKXN3aXRjaChnKFwiZWRnZUNvbG9yXCIpKXtjYXNlXCJzb3VyY2VcIjpsPWIuY29sb3J8fGcoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpO2JyZWFrO2Nhc2VcInRhcmdldFwiOmw9Yy5jb2xvcnx8ZyhcImRlZmF1bHROb2RlQ29sb3JcIik7YnJlYWs7ZGVmYXVsdDpsPWcoXCJkZWZhdWx0RWRnZUNvbG9yXCIpfWw9c2lnbWEudXRpbHMuZmxvYXRDb2xvcihsKSxkW2UrK109aCxkW2UrK109aSxkW2UrK109bCxkW2UrK109aixkW2UrK109ayxkW2UrK109bH0scmVuZGVyOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9jb2xvclwiKSxnPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfcG9zaXRpb25cIiksaD1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9yZXNvbHV0aW9uXCIpLGk9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfbWF0cml4XCIpO2U9YS5jcmVhdGVCdWZmZXIoKSxhLmJpbmRCdWZmZXIoYS5BUlJBWV9CVUZGRVIsZSksYS5idWZmZXJEYXRhKGEuQVJSQVlfQlVGRkVSLGMsYS5EWU5BTUlDX0RSQVcpLGEudW5pZm9ybTJmKGgsZC53aWR0aCxkLmhlaWdodCksYS51bmlmb3JtTWF0cml4M2Z2KGksITEsZC5tYXRyaXgpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZyksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZywyLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwwKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZiwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCw4KSxhLmxpbmVXaWR0aCgzKSxhLmRyYXdBcnJheXMoYS5MSU5FUyxkLnN0YXJ0fHwwLGQuY291bnR8fGMubGVuZ3RoL3RoaXMuQVRUUklCVVRFUyl9LGluaXRQcm9ncmFtOmZ1bmN0aW9uKGEpe3ZhciBiLGM7cmV0dXJuIGI9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV9jb2xvcjtcIixcInVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XCIsXCJ1bmlmb3JtIG1hdDMgdV9tYXRyaXg7XCIsXCJ2YXJ5aW5nIHZlYzQgY29sb3I7XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJnbF9Qb3NpdGlvbiA9IHZlYzQoXCIsXCIoKHVfbWF0cml4ICogdmVjMyhhX3Bvc2l0aW9uLCAxKSkueHkgL1wiLFwidV9yZXNvbHV0aW9uICogMi4wIC0gMS4wKSAqIHZlYzIoMSwgLTEpLFwiLFwiMCxcIixcIjFcIixcIik7XCIsXCJmbG9hdCBjID0gYV9jb2xvcjtcIixcImNvbG9yLmIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTtcIixcImNvbG9yLmcgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTtcIixcImNvbG9yLnIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTsgY29sb3IgLz0gMjU1LjA7XCIsXCJjb2xvci5hID0gMS4wO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGEuVkVSVEVYX1NIQURFUiksYz1zaWdtYS51dGlscy5sb2FkU2hhZGVyKGEsW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzQgY29sb3I7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiZ2xfRnJhZ0NvbG9yID0gY29sb3I7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksYS5GUkFHTUVOVF9TSEFERVIpLHNpZ21hLnV0aWxzLmxvYWRQcm9ncmFtKGEsW2IsY10pfX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS53ZWJnbC5lZGdlc1wiKSxzaWdtYS53ZWJnbC5lZGdlcy5hcnJvdz17UE9JTlRTOjksQVRUUklCVVRFUzoxMSxhZGRFZGdlOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPShhW2YrXCJzaXplXCJdfHwxKS8yLGk9YltmK1wieFwiXSxqPWJbZitcInlcIl0saz1jW2YrXCJ4XCJdLGw9Y1tmK1wieVwiXSxtPWNbZitcInNpemVcIl0sbj1hLmNvbG9yO2lmKCFuKXN3aXRjaChnKFwiZWRnZUNvbG9yXCIpKXtjYXNlXCJzb3VyY2VcIjpuPWIuY29sb3J8fGcoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpO2JyZWFrO2Nhc2VcInRhcmdldFwiOm49Yy5jb2xvcnx8ZyhcImRlZmF1bHROb2RlQ29sb3JcIik7YnJlYWs7ZGVmYXVsdDpuPWcoXCJkZWZhdWx0RWRnZUNvbG9yXCIpfW49c2lnbWEudXRpbHMuZmxvYXRDb2xvcihuKSxkW2UrK109aSxkW2UrK109aixkW2UrK109ayxkW2UrK109bCxkW2UrK109aCxkW2UrK109bSxkW2UrK109MCxkW2UrK109MCxkW2UrK109MCxkW2UrK109MCxkW2UrK109bixkW2UrK109ayxkW2UrK109bCxkW2UrK109aSxkW2UrK109aixkW2UrK109aCxkW2UrK109bSxkW2UrK109MSxkW2UrK109MSxkW2UrK109MCxkW2UrK109MCxkW2UrK109bixkW2UrK109ayxkW2UrK109bCxkW2UrK109aSxkW2UrK109aixkW2UrK109aCxkW2UrK109bSxkW2UrK109MSxkW2UrK109MCxkW2UrK109MCxkW2UrK109MCxkW2UrK109bixkW2UrK109ayxkW2UrK109bCxkW2UrK109aSxkW2UrK109aixkW2UrK109aCxkW2UrK109bSxkW2UrK109MSxkW2UrK109MCxkW2UrK109MCxkW2UrK109MCxkW2UrK109bixkW2UrK109aSxkW2UrK109aixkW2UrK109ayxkW2UrK109bCxkW2UrK109aCxkW2UrK109bSxkW2UrK109MCxkW2UrK109MSxkW2UrK109MCxkW2UrK109MCxkW2UrK109bixkW2UrK109aSxkW2UrK109aixkW2UrK109ayxkW2UrK109bCxkW2UrK109aCxkW2UrK109bSxkW2UrK109MCxkW2UrK109MCxkW2UrK109MCxkW2UrK109MCxkW2UrK109bixkW2UrK109ayxkW2UrK109bCxkW2UrK109aSxkW2UrK109aixkW2UrK109aCxkW2UrK109bSxkW2UrK109MSxkW2UrK109MCxkW2UrK109MSxkW2UrK109LTEsZFtlKytdPW4sZFtlKytdPWssZFtlKytdPWwsZFtlKytdPWksZFtlKytdPWosZFtlKytdPWgsZFtlKytdPW0sZFtlKytdPTEsZFtlKytdPTAsZFtlKytdPTEsZFtlKytdPTAsZFtlKytdPW4sZFtlKytdPWssZFtlKytdPWwsZFtlKytdPWksZFtlKytdPWosZFtlKytdPWgsZFtlKytdPW0sZFtlKytdPTEsZFtlKytdPTAsZFtlKytdPTEsZFtlKytdPTEsZFtlKytdPW59LHJlbmRlcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfcG9zMVwiKSxnPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfcG9zMlwiKSxoPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfdGhpY2tuZXNzXCIpLGk9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV90U2l6ZVwiKSxqPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfZGVsYXlcIiksaz1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX21pbnVzXCIpLGw9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9oZWFkXCIpLG09YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9oZWFkUG9zaXRpb25cIiksbj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX2NvbG9yXCIpLG89YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfcmVzb2x1dGlvblwiKSxwPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X21hdHJpeFwiKSxxPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X21hdHJpeEhhbGZQaVwiKSxyPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X21hdHJpeEhhbGZQaU1pbnVzXCIpLHM9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfcmF0aW9cIiksdD1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9ub2RlUmF0aW9cIiksdT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9hcnJvd0hlYWRcIiksdj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9zY2FsZVwiKTtlPWEuY3JlYXRlQnVmZmVyKCksYS5iaW5kQnVmZmVyKGEuQVJSQVlfQlVGRkVSLGUpLGEuYnVmZmVyRGF0YShhLkFSUkFZX0JVRkZFUixjLGEuU1RBVElDX0RSQVcpLGEudW5pZm9ybTJmKG8sZC53aWR0aCxkLmhlaWdodCksYS51bmlmb3JtMWYocyxkLnJhdGlvL01hdGgucG93KGQucmF0aW8sZC5zZXR0aW5ncyhcImVkZ2VzUG93UmF0aW9cIikpKSxhLnVuaWZvcm0xZih0LE1hdGgucG93KGQucmF0aW8sZC5zZXR0aW5ncyhcIm5vZGVzUG93UmF0aW9cIikpL2QucmF0aW8pLGEudW5pZm9ybTFmKHUsNSksYS51bmlmb3JtMWYodixkLnNjYWxpbmdSYXRpbyksYS51bmlmb3JtTWF0cml4M2Z2KHAsITEsZC5tYXRyaXgpLGEudW5pZm9ybU1hdHJpeDJmdihxLCExLHNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uKE1hdGguUEkvMiwhMCkpLGEudW5pZm9ybU1hdHJpeDJmdihyLCExLHNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uKC1NYXRoLlBJLzIsITApKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGYpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZyksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShoKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaiksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShrKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGwpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobSksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZiwyLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwwKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZywyLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCw4KSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoaCwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwxNiksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGksMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMjApLGEudmVydGV4QXR0cmliUG9pbnRlcihqLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDI0KSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoaywxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwyOCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGwsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMzIpLGEudmVydGV4QXR0cmliUG9pbnRlcihtLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDM2KSxhLnZlcnRleEF0dHJpYlBvaW50ZXIobiwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCw0MCksYS5kcmF3QXJyYXlzKGEuVFJJQU5HTEVTLGQuc3RhcnR8fDAsZC5jb3VudHx8Yy5sZW5ndGgvdGhpcy5BVFRSSUJVVEVTKX0saW5pdFByb2dyYW06ZnVuY3Rpb24oYSl7dmFyIGIsYztyZXR1cm4gYj1zaWdtYS51dGlscy5sb2FkU2hhZGVyKGEsW1wiYXR0cmlidXRlIHZlYzIgYV9wb3MxO1wiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3MyO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfdGhpY2tuZXNzO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfdFNpemU7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV9kZWxheTtcIixcImF0dHJpYnV0ZSBmbG9hdCBhX21pbnVzO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfaGVhZDtcIixcImF0dHJpYnV0ZSBmbG9hdCBhX2hlYWRQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSBmbG9hdCBhX2NvbG9yO1wiLFwidW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcIixcInVuaWZvcm0gZmxvYXQgdV9yYXRpbztcIixcInVuaWZvcm0gZmxvYXQgdV9ub2RlUmF0aW87XCIsXCJ1bmlmb3JtIGZsb2F0IHVfYXJyb3dIZWFkO1wiLFwidW5pZm9ybSBmbG9hdCB1X3NjYWxlO1wiLFwidW5pZm9ybSBtYXQzIHVfbWF0cml4O1wiLFwidW5pZm9ybSBtYXQyIHVfbWF0cml4SGFsZlBpO1wiLFwidW5pZm9ybSBtYXQyIHVfbWF0cml4SGFsZlBpTWludXM7XCIsXCJ2YXJ5aW5nIHZlYzQgY29sb3I7XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJ2ZWMyIHBvcyA9IG5vcm1hbGl6ZShhX3BvczIgLSBhX3BvczEpO1wiLFwibWF0MiBtYXRyaXggPSAoMS4wIC0gYV9oZWFkKSAqXCIsXCIoXCIsXCJhX21pbnVzICogdV9tYXRyaXhIYWxmUGlNaW51cyArXCIsXCIoMS4wIC0gYV9taW51cykgKiB1X21hdHJpeEhhbGZQaVwiLFwiKSArIGFfaGVhZCAqIChcIixcImFfaGVhZFBvc2l0aW9uICogdV9tYXRyaXhIYWxmUGlNaW51cyAqIDAuNiArXCIsXCIoYV9oZWFkUG9zaXRpb24gKiBhX2hlYWRQb3NpdGlvbiAtIDEuMCkgKiBtYXQyKDEuMClcIixcIik7XCIsXCJwb3MgPSBhX3BvczEgKyAoXCIsXCIoMS4wIC0gYV9oZWFkKSAqIGFfdGhpY2tuZXNzICogdV9yYXRpbyAqIG1hdHJpeCAqIHBvcyArXCIsXCJhX2hlYWQgKiB1X2Fycm93SGVhZCAqIGFfdGhpY2tuZXNzICogdV9yYXRpbyAqIG1hdHJpeCAqIHBvcyArXCIsXCJhX2RlbGF5ICogcG9zICogKFwiLFwiYV90U2l6ZSAvIHVfbm9kZVJhdGlvICtcIixcInVfYXJyb3dIZWFkICogYV90aGlja25lc3MgKiB1X3JhdGlvXCIsXCIpXCIsXCIpO1wiLFwiZ2xfUG9zaXRpb24gPSB2ZWM0KFwiLFwiKCh1X21hdHJpeCAqIHZlYzMocG9zLCAxKSkueHkgL1wiLFwidV9yZXNvbHV0aW9uICogMi4wIC0gMS4wKSAqIHZlYzIoMSwgLTEpLFwiLFwiMCxcIixcIjFcIixcIik7XCIsXCJmbG9hdCBjID0gYV9jb2xvcjtcIixcImNvbG9yLmIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTtcIixcImNvbG9yLmcgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTtcIixcImNvbG9yLnIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTsgY29sb3IgLz0gMjU1LjA7XCIsXCJjb2xvci5hID0gMS4wO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGEuVkVSVEVYX1NIQURFUiksYz1zaWdtYS51dGlscy5sb2FkU2hhZGVyKGEsW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzQgY29sb3I7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiZ2xfRnJhZ0NvbG9yID0gY29sb3I7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksYS5GUkFHTUVOVF9TSEFERVIpLHNpZ21hLnV0aWxzLmxvYWRQcm9ncmFtKGEsW2IsY10pfX19KCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMubGFiZWxzXCIpLHNpZ21hLmNhbnZhcy5sYWJlbHMuZGVmPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPWMoXCJwcmVmaXhcIil8fFwiXCIsZj1hW2UrXCJzaXplXCJdO2Y8YyhcImxhYmVsVGhyZXNob2xkXCIpfHxhLmxhYmVsJiZcInN0cmluZ1wiPT10eXBlb2YgYS5sYWJlbCYmKGQ9XCJmaXhlZFwiPT09YyhcImxhYmVsU2l6ZVwiKT9jKFwiZGVmYXVsdExhYmVsU2l6ZVwiKTpjKFwibGFiZWxTaXplUmF0aW9cIikqZixiLmZvbnQ9KGMoXCJmb250U3R5bGVcIik/YyhcImZvbnRTdHlsZVwiKStcIiBcIjpcIlwiKStkK1wicHggXCIrYyhcImZvbnRcIiksYi5maWxsU3R5bGU9XCJub2RlXCI9PT1jKFwibGFiZWxDb2xvclwiKT9hLmNvbG9yfHxjKFwiZGVmYXVsdE5vZGVDb2xvclwiKTpjKFwiZGVmYXVsdExhYmVsQ29sb3JcIiksYi5maWxsVGV4dChhLmxhYmVsLE1hdGgucm91bmQoYVtlK1wieFwiXStmKzMpLE1hdGgucm91bmQoYVtlK1wieVwiXStkLzMpKSl9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmhvdmVyc1wiKSxzaWdtYS5jYW52YXMuaG92ZXJzLmRlZj1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpPWMoXCJob3ZlckZvbnRTdHlsZVwiKXx8YyhcImZvbnRTdHlsZVwiKSxqPWMoXCJwcmVmaXhcIil8fFwiXCIsaz1hW2orXCJzaXplXCJdLGw9XCJmaXhlZFwiPT09YyhcImxhYmVsU2l6ZVwiKT9jKFwiZGVmYXVsdExhYmVsU2l6ZVwiKTpjKFwibGFiZWxTaXplUmF0aW9cIikqaztiLmZvbnQ9KGk/aStcIiBcIjpcIlwiKStsK1wicHggXCIrKGMoXCJob3ZlckZvbnRcIil8fGMoXCJmb250XCIpKSxiLmJlZ2luUGF0aCgpLGIuZmlsbFN0eWxlPVwibm9kZVwiPT09YyhcImxhYmVsSG92ZXJCR0NvbG9yXCIpP2EuY29sb3J8fGMoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpOmMoXCJkZWZhdWx0SG92ZXJMYWJlbEJHQ29sb3JcIiksYS5sYWJlbCYmYyhcImxhYmVsSG92ZXJTaGFkb3dcIikmJihiLnNoYWRvd09mZnNldFg9MCxiLnNoYWRvd09mZnNldFk9MCxiLnNoYWRvd0JsdXI9OCxiLnNoYWRvd0NvbG9yPWMoXCJsYWJlbEhvdmVyU2hhZG93Q29sb3JcIikpLGEubGFiZWwmJlwic3RyaW5nXCI9PXR5cGVvZiBhLmxhYmVsJiYoZD1NYXRoLnJvdW5kKGFbaitcInhcIl0tbC8yLTIpLGU9TWF0aC5yb3VuZChhW2orXCJ5XCJdLWwvMi0yKSxmPU1hdGgucm91bmQoYi5tZWFzdXJlVGV4dChhLmxhYmVsKS53aWR0aCtsLzIrays3KSxnPU1hdGgucm91bmQobCs0KSxoPU1hdGgucm91bmQobC8yKzIpLGIubW92ZVRvKGQsZStoKSxiLmFyY1RvKGQsZSxkK2gsZSxoKSxiLmxpbmVUbyhkK2YsZSksYi5saW5lVG8oZCtmLGUrZyksYi5saW5lVG8oZCtoLGUrZyksYi5hcmNUbyhkLGUrZyxkLGUrZy1oLGgpLGIubGluZVRvKGQsZStoKSxiLmNsb3NlUGF0aCgpLGIuZmlsbCgpLGIuc2hhZG93T2Zmc2V0WD0wLGIuc2hhZG93T2Zmc2V0WT0wLGIuc2hhZG93Qmx1cj0wKSxjKFwiYm9yZGVyU2l6ZVwiKT4wJiYoYi5iZWdpblBhdGgoKSxiLmZpbGxTdHlsZT1cIm5vZGVcIj09PWMoXCJub2RlQm9yZGVyQ29sb3JcIik/YS5jb2xvcnx8YyhcImRlZmF1bHROb2RlQ29sb3JcIik6YyhcImRlZmF1bHROb2RlQm9yZGVyQ29sb3JcIiksYi5hcmMoYVtqK1wieFwiXSxhW2orXCJ5XCJdLGsrYyhcImJvcmRlclNpemVcIiksMCwyKk1hdGguUEksITApLGIuY2xvc2VQYXRoKCksYi5maWxsKCkpLChzaWdtYS5jYW52YXMubm9kZXNbYS50eXBlXXx8c2lnbWEuY2FudmFzLm5vZGVzLmRlZikoYSxiLGMpLGEubGFiZWwmJlwic3RyaW5nXCI9PXR5cGVvZiBhLmxhYmVsJiYoYi5maWxsU3R5bGU9XCJub2RlXCI9PT1jKFwibGFiZWxIb3ZlckNvbG9yXCIpP2EuY29sb3J8fGMoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpOmMoXCJkZWZhdWx0TGFiZWxIb3ZlckNvbG9yXCIpLGIuZmlsbFRleHQoYS5sYWJlbCxNYXRoLnJvdW5kKGFbaitcInhcIl0rayszKSxNYXRoLnJvdW5kKGFbaitcInlcIl0rbC8zKSkpfX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5ub2Rlc1wiKSxzaWdtYS5jYW52YXMubm9kZXMuZGVmPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKFwicHJlZml4XCIpfHxcIlwiO2IuZmlsbFN0eWxlPWEuY29sb3J8fGMoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGIuYmVnaW5QYXRoKCksYi5hcmMoYVtkK1wieFwiXSxhW2QrXCJ5XCJdLGFbZCtcInNpemVcIl0sMCwyKk1hdGguUEksITApLGIuY2xvc2VQYXRoKCksYi5maWxsKCl9fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmVkZ2VzXCIpLHNpZ21hLmNhbnZhcy5lZGdlcy5kZWY9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmNvbG9yLGc9ZShcInByZWZpeFwiKXx8XCJcIixoPWFbZytcInNpemVcIl18fDEsaT1lKFwiZWRnZUNvbG9yXCIpLGo9ZShcImRlZmF1bHROb2RlQ29sb3JcIiksaz1lKFwiZGVmYXVsdEVkZ2VDb2xvclwiKTtpZighZilzd2l0Y2goaSl7Y2FzZVwic291cmNlXCI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2VcInRhcmdldFwiOmY9Yy5jb2xvcnx8ajticmVhaztkZWZhdWx0OmY9a31kLnN0cm9rZVN0eWxlPWYsZC5saW5lV2lkdGg9aCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGJbZytcInhcIl0sYltnK1wieVwiXSksZC5saW5lVG8oY1tnK1wieFwiXSxjW2crXCJ5XCJdKSxkLnN0cm9rZSgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlc1wiKSxzaWdtYS5jYW52YXMuZWRnZXMuYXJyb3c9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmNvbG9yLGc9ZShcInByZWZpeFwiKXx8XCJcIixoPWUoXCJlZGdlQ29sb3JcIiksaT1lKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxqPWUoXCJkZWZhdWx0RWRnZUNvbG9yXCIpLGs9YVtnK1wic2l6ZVwiXXx8MSxsPWNbZytcInNpemVcIl0sbT1iW2crXCJ4XCJdLG49YltnK1wieVwiXSxvPWNbZytcInhcIl0scD1jW2crXCJ5XCJdLHE9TWF0aC5tYXgoMi41KmssZShcIm1pbkFycm93U2l6ZVwiKSkscj1NYXRoLnNxcnQoTWF0aC5wb3coby1tLDIpK01hdGgucG93KHAtbiwyKSkscz1tKyhvLW0pKihyLXEtbCkvcix0PW4rKHAtbikqKHItcS1sKS9yLHU9KG8tbSkqcS9yLHY9KHAtbikqcS9yO2lmKCFmKXN3aXRjaChoKXtjYXNlXCJzb3VyY2VcIjpmPWIuY29sb3J8fGk7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6Zj1jLmNvbG9yfHxpO2JyZWFrO2RlZmF1bHQ6Zj1qfWQuc3Ryb2tlU3R5bGU9ZixkLmxpbmVXaWR0aD1rLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8obSxuKSxkLmxpbmVUbyhzLHQpLGQuc3Ryb2tlKCksZC5maWxsU3R5bGU9ZixkLmJlZ2luUGF0aCgpLGQubW92ZVRvKHMrdSx0K3YpLGQubGluZVRvKHMrLjYqdix0LS42KnUpLGQubGluZVRvKHMtLjYqdix0Ky42KnUpLGQubGluZVRvKHMrdSx0K3YpLGQuY2xvc2VQYXRoKCksZC5maWxsKCl9fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnNcIiksc2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMuZGVmPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5jb2xvcixnPWUoXCJwcmVmaXhcIil8fFwiXCIsaD1hW2crXCJzaXplXCJdfHwxLGk9ZShcImVkZ2VDb2xvclwiKSxqPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGs9ZShcImRlZmF1bHRFZGdlQ29sb3JcIik7aWYoIWYpc3dpdGNoKGkpe2Nhc2VcInNvdXJjZVwiOmY9Yi5jb2xvcnx8ajticmVhaztjYXNlXCJ0YXJnZXRcIjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9Zj1cImVkZ2VcIj09PWUoXCJlZGdlSG92ZXJDb2xvclwiKT9hLmhvdmVyX2NvbG9yfHxmOmEuaG92ZXJfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUhvdmVyQ29sb3JcIil8fGYsaCo9ZShcImVkZ2VIb3ZlclNpemVSYXRpb1wiKSxkLnN0cm9rZVN0eWxlPWYsZC5saW5lV2lkdGg9aCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGJbZytcInhcIl0sYltnK1wieVwiXSksZC5saW5lVG8oY1tnK1wieFwiXSxjW2crXCJ5XCJdKSxkLnN0cm9rZSgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzXCIpLHNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzLmN1cnZlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5jb2xvcixnPWUoXCJwcmVmaXhcIil8fFwiXCIsaD1lKFwiZWRnZUhvdmVyU2l6ZVJhdGlvXCIpKihhW2crXCJzaXplXCJdfHwxKSxpPWUoXCJlZGdlQ29sb3JcIiksaj1lKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxrPWUoXCJkZWZhdWx0RWRnZUNvbG9yXCIpLGw9e30sbT1iW2crXCJzaXplXCJdLG49YltnK1wieFwiXSxvPWJbZytcInlcIl0scD1jW2crXCJ4XCJdLHE9Y1tnK1wieVwiXTtpZihsPWIuaWQ9PT1jLmlkP3NpZ21hLnV0aWxzLmdldFNlbGZMb29wQ29udHJvbFBvaW50cyhuLG8sbSk6c2lnbWEudXRpbHMuZ2V0UXVhZHJhdGljQ29udHJvbFBvaW50KG4sbyxwLHEpLCFmKXN3aXRjaChpKXtjYXNlXCJzb3VyY2VcIjpmPWIuY29sb3J8fGo7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6Zj1jLmNvbG9yfHxqO2JyZWFrO2RlZmF1bHQ6Zj1rfWY9XCJlZGdlXCI9PT1lKFwiZWRnZUhvdmVyQ29sb3JcIik/YS5ob3Zlcl9jb2xvcnx8ZjphLmhvdmVyX2NvbG9yfHxlKFwiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yXCIpfHxmLGQuc3Ryb2tlU3R5bGU9ZixkLmxpbmVXaWR0aD1oLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8obixvKSxiLmlkPT09Yy5pZD9kLmJlemllckN1cnZlVG8obC54MSxsLnkxLGwueDIsbC55MixwLHEpOmQucXVhZHJhdGljQ3VydmVUbyhsLngsbC55LHAscSksZC5zdHJva2UoKX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZWhvdmVyc1wiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5hcnJvdz1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuY29sb3IsZz1lKFwicHJlZml4XCIpfHxcIlwiLGg9ZShcImVkZ2VDb2xvclwiKSxpPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGo9ZShcImRlZmF1bHRFZGdlQ29sb3JcIiksaz1hW2crXCJzaXplXCJdfHwxLGw9Y1tnK1wic2l6ZVwiXSxtPWJbZytcInhcIl0sbj1iW2crXCJ5XCJdLG89Y1tnK1wieFwiXSxwPWNbZytcInlcIl07az1hLmhvdmVyP2UoXCJlZGdlSG92ZXJTaXplUmF0aW9cIikqazprO3ZhciBxPTIuNSprLHI9TWF0aC5zcXJ0KE1hdGgucG93KG8tbSwyKStNYXRoLnBvdyhwLW4sMikpLHM9bSsoby1tKSooci1xLWwpL3IsdD1uKyhwLW4pKihyLXEtbCkvcix1PShvLW0pKnEvcix2PShwLW4pKnEvcjtpZighZilzd2l0Y2goaCl7Y2FzZVwic291cmNlXCI6Zj1iLmNvbG9yfHxpO2JyZWFrO2Nhc2VcInRhcmdldFwiOmY9Yy5jb2xvcnx8aTticmVhaztkZWZhdWx0OmY9an1mPVwiZWRnZVwiPT09ZShcImVkZ2VIb3ZlckNvbG9yXCIpP2EuaG92ZXJfY29sb3J8fGY6YS5ob3Zlcl9jb2xvcnx8ZShcImRlZmF1bHRFZGdlSG92ZXJDb2xvclwiKXx8ZixkLnN0cm9rZVN0eWxlPWYsZC5saW5lV2lkdGg9ayxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKG0sbiksZC5saW5lVG8ocyx0KSxkLnN0cm9rZSgpLGQuZmlsbFN0eWxlPWYsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhzK3UsdCt2KSxkLmxpbmVUbyhzKy42KnYsdC0uNip1KSxkLmxpbmVUbyhzLS42KnYsdCsuNip1KSxkLmxpbmVUbyhzK3UsdCt2KSxkLmNsb3NlUGF0aCgpLGQuZmlsbCgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzXCIpLHNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzLmN1cnZlZEFycm93PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGw9YS5jb2xvcixtPWUoXCJwcmVmaXhcIil8fFwiXCIsbj1lKFwiZWRnZUNvbG9yXCIpLG89ZShcImRlZmF1bHROb2RlQ29sb3JcIikscD1lKFwiZGVmYXVsdEVkZ2VDb2xvclwiKSxxPXt9LHI9ZShcImVkZ2VIb3ZlclNpemVSYXRpb1wiKSooYVttK1wic2l6ZVwiXXx8MSkscz1jW20rXCJzaXplXCJdLHQ9YlttK1wieFwiXSx1PWJbbStcInlcIl0sdj1jW20rXCJ4XCJdLHc9Y1ttK1wieVwiXTtpZihxPWIuaWQ9PT1jLmlkP3NpZ21hLnV0aWxzLmdldFNlbGZMb29wQ29udHJvbFBvaW50cyh0LHUscyk6c2lnbWEudXRpbHMuZ2V0UXVhZHJhdGljQ29udHJvbFBvaW50KHQsdSx2LHcpLGIuaWQ9PT1jLmlkPyhmPU1hdGguc3FydChNYXRoLnBvdyh2LXEueDEsMikrTWF0aC5wb3cody1xLnkxLDIpKSxnPTIuNSpyLGg9cS54MSsodi1xLngxKSooZi1nLXMpL2YsaT1xLnkxKyh3LXEueTEpKihmLWctcykvZixqPSh2LXEueDEpKmcvZixrPSh3LXEueTEpKmcvZik6KGY9TWF0aC5zcXJ0KE1hdGgucG93KHYtcS54LDIpK01hdGgucG93KHctcS55LDIpKSxnPTIuNSpyLGg9cS54Kyh2LXEueCkqKGYtZy1zKS9mLGk9cS55Kyh3LXEueSkqKGYtZy1zKS9mLGo9KHYtcS54KSpnL2Ysaz0ody1xLnkpKmcvZiksIWwpc3dpdGNoKG4pe2Nhc2VcInNvdXJjZVwiOmw9Yi5jb2xvcnx8bzticmVhaztjYXNlXCJ0YXJnZXRcIjpsPWMuY29sb3J8fG87YnJlYWs7ZGVmYXVsdDpsPXB9bD1cImVkZ2VcIj09PWUoXCJlZGdlSG92ZXJDb2xvclwiKT9hLmhvdmVyX2NvbG9yfHxsOmEuaG92ZXJfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUhvdmVyQ29sb3JcIil8fGwsZC5zdHJva2VTdHlsZT1sLGQubGluZVdpZHRoPXIsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyh0LHUpLGIuaWQ9PT1jLmlkP2QuYmV6aWVyQ3VydmVUbyhxLngyLHEueTIscS54MSxxLnkxLGgsaSk6ZC5xdWFkcmF0aWNDdXJ2ZVRvKHEueCxxLnksaCxpKSxkLnN0cm9rZSgpLGQuZmlsbFN0eWxlPWwsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhoK2osaStrKSxkLmxpbmVUbyhoKy42KmssaS0uNipqKSxkLmxpbmVUbyhoLS42KmssaSsuNipqKSxkLmxpbmVUbyhoK2osaStrKSxkLmNsb3NlUGF0aCgpLGQuZmlsbCgpfX0oKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5leHRyZW1pdGllc1wiKSxzaWdtYS5jYW52YXMuZXh0cmVtaXRpZXMuZGVmPWZ1bmN0aW9uKGEsYixjLGQsZSl7KHNpZ21hLmNhbnZhcy5ob3ZlcnNbYi50eXBlXXx8c2lnbWEuY2FudmFzLmhvdmVycy5kZWYpKGIsZCxlKSwoc2lnbWEuY2FudmFzLmhvdmVyc1tjLnR5cGVdfHxzaWdtYS5jYW52YXMuaG92ZXJzLmRlZikoYyxkLGUpfX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnN2Zy51dGlsc1wiKSxzaWdtYS5zdmcudXRpbHM9e3Nob3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3R5bGUuZGlzcGxheT1cIlwiLHRoaXN9LGhpZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzfX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5zdmcubm9kZXNcIiksc2lnbWEuc3ZnLm5vZGVzLmRlZj17Y3JlYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9KGIoXCJwcmVmaXhcIiksZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGIoXCJ4bWxuc1wiKSxcImNpcmNsZVwiKSk7cmV0dXJuIGMuc2V0QXR0cmlidXRlTlMobnVsbCxcImRhdGEtbm9kZS1pZFwiLGEuaWQpLGMuc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsYihcImNsYXNzUHJlZml4XCIpK1wiLW5vZGVcIiksYy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLGEuY29sb3J8fGIoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpKSxjfSx1cGRhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWMoXCJwcmVmaXhcIil8fFwiXCI7cmV0dXJuIGIuc2V0QXR0cmlidXRlTlMobnVsbCxcImN4XCIsYVtkK1wieFwiXSksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY3lcIixhW2QrXCJ5XCJdKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJyXCIsYVtkK1wic2l6ZVwiXSksYyhcImZyZWVTdHlsZVwiKXx8Yi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLGEuY29sb3J8fGMoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpKSxiLnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzfX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5zdmcuZWRnZXNcIiksc2lnbWEuc3ZnLmVkZ2VzLmRlZj17Y3JlYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEuY29sb3IsZj0oZChcInByZWZpeFwiKSxkKFwiZWRnZUNvbG9yXCIpKSxnPWQoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGg9ZChcImRlZmF1bHRFZGdlQ29sb3JcIik7aWYoIWUpc3dpdGNoKGYpe2Nhc2VcInNvdXJjZVwiOmU9Yi5jb2xvcnx8ZzticmVhaztjYXNlXCJ0YXJnZXRcIjplPWMuY29sb3J8fGc7YnJlYWs7ZGVmYXVsdDplPWh9dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQoXCJ4bWxuc1wiKSxcImxpbmVcIik7cmV0dXJuIGkuc2V0QXR0cmlidXRlTlMobnVsbCxcImRhdGEtZWRnZS1pZFwiLGEuaWQpLGkuc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsZChcImNsYXNzUHJlZml4XCIpK1wiLWVkZ2VcIiksaS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsZSksaX0sdXBkYXRlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZShcInByZWZpeFwiKXx8XCJcIjtyZXR1cm4gYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLXdpZHRoXCIsYVtmK1wic2l6ZVwiXXx8MSksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIixjW2YrXCJ4XCJdKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MVwiLGNbZitcInlcIl0pLGIuc2V0QXR0cmlidXRlTlMobnVsbCxcIngyXCIsZFtmK1wieFwiXSksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTJcIixkW2YrXCJ5XCJdKSxiLnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzfX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5zdmcuZWRnZXNcIiksc2lnbWEuc3ZnLmVkZ2VzLmN1cnZlPXtjcmVhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5jb2xvcixmPShkKFwicHJlZml4XCIpLGQoXCJlZGdlQ29sb3JcIikpLGc9ZChcImRlZmF1bHROb2RlQ29sb3JcIiksaD1kKFwiZGVmYXVsdEVkZ2VDb2xvclwiKTtpZighZSlzd2l0Y2goZil7Y2FzZVwic291cmNlXCI6ZT1iLmNvbG9yfHxnO2JyZWFrO2Nhc2VcInRhcmdldFwiOmU9Yy5jb2xvcnx8ZzticmVhaztkZWZhdWx0OmU9aH12YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZChcInhtbG5zXCIpLFwicGF0aFwiKTtyZXR1cm4gaS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGF0YS1lZGdlLWlkXCIsYS5pZCksaS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIixkKFwiY2xhc3NQcmVmaXhcIikrXCItZWRnZVwiKSxpLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixlKSxpfSx1cGRhdGU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1lKFwicHJlZml4XCIpfHxcIlwiO2Iuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS13aWR0aFwiLGFbZitcInNpemVcIl18fDEpO3ZhciBnPShjW2YrXCJ4XCJdK2RbZitcInhcIl0pLzIrKGRbZitcInlcIl0tY1tmK1wieVwiXSkvNCxoPShjW2YrXCJ5XCJdK2RbZitcInlcIl0pLzIrKGNbZitcInhcIl0tZFtmK1wieFwiXSkvNCxpPVwiTVwiK2NbZitcInhcIl0rXCIsXCIrY1tmK1wieVwiXStcIiBRXCIrZytcIixcIitoK1wiIFwiK2RbZitcInhcIl0rXCIsXCIrZFtmK1wieVwiXTtyZXR1cm4gYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLGkpLGIuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixcIm5vbmVcIiksYi5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpc319fSgpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuc3ZnLmxhYmVsc1wiKSxzaWdtYS5zdmcubGFiZWxzLmRlZj17Y3JlYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YihcInByZWZpeFwiKXx8XCJcIixkPWFbYytcInNpemVcIl0sZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYihcInhtbG5zXCIpLFwidGV4dFwiKSxmPVwiZml4ZWRcIj09PWIoXCJsYWJlbFNpemVcIik/YihcImRlZmF1bHRMYWJlbFNpemVcIik6YihcImxhYmVsU2l6ZVJhdGlvXCIpKmQsZz1cIm5vZGVcIj09PWIoXCJsYWJlbENvbG9yXCIpP2EuY29sb3J8fGIoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpOmIoXCJkZWZhdWx0TGFiZWxDb2xvclwiKTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGF0YS1sYWJlbC10YXJnZXRcIixhLmlkKSxlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLGIoXCJjbGFzc1ByZWZpeFwiKStcIi1sYWJlbFwiKSxlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmb250LXNpemVcIixmKSxlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmb250LWZhbWlseVwiLGIoXCJmb250XCIpKSxlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsZyksZS5pbm5lckhUTUw9YS5sYWJlbCxlLnRleHRDb250ZW50PWEubGFiZWwsZX0sdXBkYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKFwicHJlZml4XCIpfHxcIlwiLGU9YVtkK1wic2l6ZVwiXSxmPVwiZml4ZWRcIj09PWMoXCJsYWJlbFNpemVcIik/YyhcImRlZmF1bHRMYWJlbFNpemVcIik6YyhcImxhYmVsU2l6ZVJhdGlvXCIpKmU7aWYoKGMoXCJmb3JjZUxhYmVsc1wiKXx8IShlPGMoXCJsYWJlbFRocmVzaG9sZFwiKSkpJiZcInN0cmluZ1wiPT10eXBlb2YgYS5sYWJlbClyZXR1cm4gYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieFwiLE1hdGgucm91bmQoYVtkK1wieFwiXStlKzMpKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5XCIsTWF0aC5yb3VuZChhW2QrXCJ5XCJdK2YvMykpLGIuc3R5bGUuZGlzcGxheT1cIlwiLHRoaXN9fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnN2Zy5ob3ZlcnNcIiksc2lnbWEuc3ZnLmhvdmVycy5kZWY9e2NyZWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD0oZChcImhvdmVyRm9udFN0eWxlXCIpfHxkKFwiZm9udFN0eWxlXCIpLGQoXCJwcmVmaXhcIil8fFwiXCIpLGk9YVtoK1wic2l6ZVwiXSxqPVwiZml4ZWRcIj09PWQoXCJsYWJlbFNpemVcIik/ZChcImRlZmF1bHRMYWJlbFNpemVcIik6ZChcImxhYmVsU2l6ZVJhdGlvXCIpKmksaz1cIm5vZGVcIj09PWQoXCJsYWJlbEhvdmVyQ29sb3JcIik/YS5jb2xvcnx8ZChcImRlZmF1bHROb2RlQ29sb3JcIik6ZChcImRlZmF1bHRMYWJlbEhvdmVyQ29sb3JcIiksbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZChcInhtbG5zXCIpLFwiZ1wiKSxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkKFwieG1sbnNcIiksXCJyZWN0XCIpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQoXCJ4bWxuc1wiKSxcImNpcmNsZVwiKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkKFwieG1sbnNcIiksXCJ0ZXh0XCIpO3JldHVybiBsLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLGQoXCJjbGFzc1ByZWZpeFwiKStcIi1ob3ZlclwiKSxsLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkYXRhLW5vZGUtaWRcIixhLmlkKSxcInN0cmluZ1wiPT10eXBlb2YgYS5sYWJlbCYmKG8uaW5uZXJIVE1MPWEubGFiZWwsby50ZXh0Q29udGVudD1hLmxhYmVsLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsZChcImNsYXNzUHJlZml4XCIpK1wiLWhvdmVyLWxhYmVsXCIpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcImZvbnQtc2l6ZVwiLGopLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcImZvbnQtZmFtaWx5XCIsZChcImZvbnRcIikpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixrKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4XCIsTWF0aC5yb3VuZChhW2grXCJ4XCJdK2krMykpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcInlcIixNYXRoLnJvdW5kKGFbaCtcInlcIl0rai8zKSksTWF0aC5yb3VuZChhW2grXCJ4XCJdLWovMi0yKSxNYXRoLnJvdW5kKGFbaCtcInlcIl0tai8yLTIpLGU9TWF0aC5yb3VuZChjLm1lYXN1cmVUZXh0KGEubGFiZWwpLndpZHRoK2ovMitpKzkpLGY9TWF0aC5yb3VuZChqKzQpLGc9TWF0aC5yb3VuZChqLzIrMiksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIixkKFwiY2xhc3NQcmVmaXhcIikrXCItaG92ZXItYXJlYVwiKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsXCIjZmZmXCIpLG4uc2V0QXR0cmlidXRlTlMobnVsbCxcImN4XCIsYVtoK1wieFwiXSksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY3lcIixhW2grXCJ5XCJdKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJyXCIsZyksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIixkKFwiY2xhc3NQcmVmaXhcIikrXCItaG92ZXItYXJlYVwiKSxtLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsXCIjZmZmXCIpLG0uc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIixhW2grXCJ4XCJdK2cvNCksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieVwiLGFbaCtcInlcIl0tZyksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwid2lkdGhcIixlKSxtLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJoZWlnaHRcIixmKSksbC5hcHBlbmRDaGlsZChuKSxsLmFwcGVuZENoaWxkKG0pLGwuYXBwZW5kQ2hpbGQobyksbC5hcHBlbmRDaGlsZChiKSxsfX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5taWRkbGV3YXJlc1wiKSxzaWdtYS51dGlscy5wa2coXCJzaWdtYS51dGlsc1wiKSxzaWdtYS5taWRkbGV3YXJlcy5yZXNjYWxlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGw9dGhpcy5ncmFwaC5ub2RlcygpLG09dGhpcy5ncmFwaC5lZGdlcygpLG49dGhpcy5zZXR0aW5ncy5lbWJlZE9iamVjdHMoY3x8e30pLG89bihcImJvdW5kc1wiKXx8c2lnbWEudXRpbHMuZ2V0Qm91bmRhcmllcyh0aGlzLmdyYXBoLGEsITApLHA9by5taW5YLHE9by5taW5ZLHI9by5tYXhYLHM9by5tYXhZLHQ9by5zaXplTWF4LHU9by53ZWlnaHRNYXgsdj1uKFwid2lkdGhcIil8fDEsdz1uKFwiaGVpZ2h0XCIpfHwxLHg9bihcImF1dG9SZXNjYWxlXCIpLHk9e25vZGVQb3NpdGlvbjoxLG5vZGVTaXplOjEsZWRnZVNpemU6MX07Zm9yKHggaW5zdGFuY2VvZiBBcnJheXx8KHg9W1wibm9kZVBvc2l0aW9uXCIsXCJub2RlU2l6ZVwiLFwiZWRnZVNpemVcIl0pLGQ9MCxlPXgubGVuZ3RoO2Q8ZTtkKyspaWYoIXlbeFtkXV0pdGhyb3cgbmV3IEVycm9yKCdUaGUgcmVzY2FsZSBzZXR0aW5nIFwiJyt4W2RdKydcIiBpcyBub3QgcmVjb2duaXplZC4nKTt2YXIgej1+eC5pbmRleE9mKFwibm9kZVBvc2l0aW9uXCIpLEE9fnguaW5kZXhPZihcIm5vZGVTaXplXCIpLEI9fnguaW5kZXhPZihcImVkZ2VTaXplXCIpO2ZvcihqPVwib3V0c2lkZVwiPT09bihcInNjYWxpbmdNb2RlXCIpP01hdGgubWF4KHYvTWF0aC5tYXgoci1wLDEpLHcvTWF0aC5tYXgocy1xLDEpKTpNYXRoLm1pbih2L01hdGgubWF4KHItcCwxKSx3L01hdGgubWF4KHMtcSwxKSksaz0obihcInJlc2NhbGVJZ25vcmVTaXplXCIpPzA6KG4oXCJtYXhOb2RlU2l6ZVwiKXx8dCkvaikrKG4oXCJzaWRlTWFyZ2luXCIpfHwwKSxyKz1rLHAtPWsscys9ayxxLT1rLGo9XCJvdXRzaWRlXCI9PT1uKFwic2NhbGluZ01vZGVcIik/TWF0aC5tYXgodi9NYXRoLm1heChyLXAsMSksdy9NYXRoLm1heChzLXEsMSkpOk1hdGgubWluKHYvTWF0aC5tYXgoci1wLDEpLHcvTWF0aC5tYXgocy1xLDEpKSxuKFwibWF4Tm9kZVNpemVcIil8fG4oXCJtaW5Ob2RlU2l6ZVwiKT9uKFwibWF4Tm9kZVNpemVcIik9PT1uKFwibWluTm9kZVNpemVcIik/KGY9MCxnPStuKFwibWF4Tm9kZVNpemVcIikpOihmPShuKFwibWF4Tm9kZVNpemVcIiktbihcIm1pbk5vZGVTaXplXCIpKS90LGc9K24oXCJtaW5Ob2RlU2l6ZVwiKSk6KGY9MSxnPTApLG4oXCJtYXhFZGdlU2l6ZVwiKXx8bihcIm1pbkVkZ2VTaXplXCIpP24oXCJtYXhFZGdlU2l6ZVwiKT09PW4oXCJtaW5FZGdlU2l6ZVwiKT8oaD0wLGk9K24oXCJtaW5FZGdlU2l6ZVwiKSk6KGg9KG4oXCJtYXhFZGdlU2l6ZVwiKS1uKFwibWluRWRnZVNpemVcIikpL3UsaT0rbihcIm1pbkVkZ2VTaXplXCIpKTooaD0xLGk9MCksZD0wLGU9bS5sZW5ndGg7ZDxlO2QrKyltW2RdW2IrXCJzaXplXCJdPW1bZF1bYStcInNpemVcIl0qKEI/aDoxKSsoQj9pOjApO2ZvcihkPTAsZT1sLmxlbmd0aDtkPGU7ZCsrKWxbZF1bYitcInNpemVcIl09bFtkXVthK1wic2l6ZVwiXSooQT9mOjEpKyhBP2c6MCksbFtkXVtiK1wieFwiXT0obFtkXVthK1wieFwiXS0ocitwKS8yKSooej9qOjEpLGxbZF1bYitcInlcIl09KGxbZF1bYStcInlcIl0tKHMrcSkvMikqKHo/ajoxKX0sc2lnbWEudXRpbHMuZ2V0Qm91bmRhcmllcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEuZWRnZXMoKSxnPWEubm9kZXMoKSxoPS0xLzAsaT0tMS8wLGo9MS8wLGs9MS8wLGw9LTEvMCxtPS0xLzA7aWYoYylmb3IoZD0wLGU9Zi5sZW5ndGg7ZDxlO2QrKyloPU1hdGgubWF4KGZbZF1bYitcInNpemVcIl0saCk7Zm9yKGQ9MCxlPWcubGVuZ3RoO2Q8ZTtkKyspaT1NYXRoLm1heChnW2RdW2IrXCJzaXplXCJdLGkpLGw9TWF0aC5tYXgoZ1tkXVtiK1wieFwiXSxsKSxqPU1hdGgubWluKGdbZF1bYitcInhcIl0saiksbT1NYXRoLm1heChnW2RdW2IrXCJ5XCJdLG0pLGs9TWF0aC5taW4oZ1tkXVtiK1wieVwiXSxrKTtyZXR1cm4gaD1ofHwxLGk9aXx8MSx7d2VpZ2h0TWF4Omgsc2l6ZU1heDppLG1pblg6aixtaW5ZOmssbWF4WDpsLG1heFk6bX19fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEubWlkZGxld2FyZXNcIiksc2lnbWEubWlkZGxld2FyZXMuY29weT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZTtpZihiK1wiXCIhPWErXCJcIil7Zm9yKGU9dGhpcy5ncmFwaC5ub2RlcygpLGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspZVtjXVtiK1wieFwiXT1lW2NdW2ErXCJ4XCJdLGVbY11bYitcInlcIl09ZVtjXVthK1wieVwiXSxlW2NdW2IrXCJzaXplXCJdPWVbY11bYStcInNpemVcIl07Zm9yKGU9dGhpcy5ncmFwaC5lZGdlcygpLGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspZVtjXVtiK1wic2l6ZVwiXT1lW2NdW2ErXCJzaXplXCJdfX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5taXNjLmFuaW1hdGlvbi5ydW5uaW5nXCIpO3ZhciBiPWZ1bmN0aW9uKCl7dmFyIGE9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm5cIlwiKyArK2F9fSgpO3NpZ21hLm1pc2MuYW5pbWF0aW9uLmNhbWVyYT1mdW5jdGlvbihjLGQsZSl7aWYoIShjIGluc3RhbmNlb2Ygc2lnbWEuY2xhc3Nlcy5jYW1lcmEmJlwib2JqZWN0XCI9PXR5cGVvZiBkJiZkKSl0aHJvd1wiYW5pbWF0aW9uLmNhbWVyYTogV3JvbmcgYXJndW1lbnRzLlwiO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBkLngmJlwibnVtYmVyXCIhPXR5cGVvZiBkLnkmJlwibnVtYmVyXCIhPXR5cGVvZiBkLnJhdGlvJiZcIm51bWJlclwiIT10eXBlb2YgZC5hbmdsZSl0aHJvd1wiVGhlcmUgbXVzdCBiZSBhdCBsZWFzdCBvbmUgdmFsaWQgY29vcmRpbmF0ZSBpbiB0aGUgZ2l2ZW4gdmFsLlwiO3ZhciBmLGcsaCxpLGosaz1lfHx7fSxsPXNpZ21hLnV0aWxzLmRhdGVOb3coKTtyZXR1cm4gaj17eDpjLngseTpjLnkscmF0aW86Yy5yYXRpbyxhbmdsZTpjLmFuZ2xlfSxrLmR1cmF0aW9uLGk9XCJmdW5jdGlvblwiIT10eXBlb2Ygay5lYXNpbmc/c2lnbWEudXRpbHMuZWFzaW5nc1trLmVhc2luZ3x8XCJxdWFkcmF0aWNJbk91dFwiXTprLmVhc2luZyxmPWZ1bmN0aW9uKCl7dmFyIGIsZT1rLmR1cmF0aW9uPyhzaWdtYS51dGlscy5kYXRlTm93KCktbCkvay5kdXJhdGlvbjoxO2U+PTE/KGMuaXNBbmltYXRlZD0hMSxjLmdvVG8oe3g6ZC54IT09YT9kLng6ai54LHk6ZC55IT09YT9kLnk6ai55LHJhdGlvOmQucmF0aW8hPT1hP2QucmF0aW86ai5yYXRpbyxhbmdsZTpkLmFuZ2xlIT09YT9kLmFuZ2xlOmouYW5nbGV9KSxjYW5jZWxBbmltYXRpb25GcmFtZShnKSxkZWxldGUgc2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZ1tnXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBrLm9uQ29tcGxldGUmJmsub25Db21wbGV0ZSgpKTooYj1pKGUpLGMuaXNBbmltYXRlZD0hMCxjLmdvVG8oe3g6ZC54IT09YT9qLngrKGQueC1qLngpKmI6ai54LHk6ZC55IT09YT9qLnkrKGQueS1qLnkpKmI6ai55LHJhdGlvOmQucmF0aW8hPT1hP2oucmF0aW8rKGQucmF0aW8tai5yYXRpbykqYjpqLnJhdGlvLGFuZ2xlOmQuYW5nbGUhPT1hP2ouYW5nbGUrKGQuYW5nbGUtai5hbmdsZSkqYjpqLmFuZ2xlfSksXCJmdW5jdGlvblwiPT10eXBlb2Ygay5vbk5ld0ZyYW1lJiZrLm9uTmV3RnJhbWUoKSxoLmZyYW1lSWQ9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGYpKX0sZz1iKCksaD17ZnJhbWVJZDpyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZiksdGFyZ2V0OmMsdHlwZTpcImNhbWVyYVwiLG9wdGlvbnM6ayxmbjpmfSxzaWdtYS5taXNjLmFuaW1hdGlvbi5ydW5uaW5nW2ddPWgsZ30sc2lnbWEubWlzYy5hbmltYXRpb24ua2lsbD1mdW5jdGlvbihhKXtpZigxIT09YXJndW1lbnRzLmxlbmd0aHx8XCJudW1iZXJcIiE9dHlwZW9mIGEpdGhyb3dcImFuaW1hdGlvbi5raWxsOiBXcm9uZyBhcmd1bWVudHMuXCI7dmFyIGI9c2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZ1thXTtyZXR1cm4gYiYmKGNhbmNlbEFuaW1hdGlvbkZyYW1lKGEpLGRlbGV0ZSBzaWdtYS5taXNjLmFuaW1hdGlvbi5ydW5uaW5nW2IuZnJhbWVJZF0sXCJjYW1lcmFcIj09PWIudHlwZSYmKGIudGFyZ2V0LmlzQW5pbWF0ZWQ9ITEpLFwiZnVuY3Rpb25cIj09dHlwZW9mKGIub3B0aW9uc3x8e30pLm9uQ29tcGxldGUmJmIub3B0aW9ucy5vbkNvbXBsZXRlKCkpLHRoaXN9LHNpZ21hLm1pc2MuYW5pbWF0aW9uLmtpbGxBbGw9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTAsZT1cInN0cmluZ1wiPT10eXBlb2YgYT9hOm51bGwsZj1cIm9iamVjdFwiPT10eXBlb2YgYT9hOm51bGwsZz1zaWdtYS5taXNjLmFuaW1hdGlvbi5ydW5uaW5nO2ZvcihjIGluIGcpZSYmZ1tjXS50eXBlIT09ZXx8ZiYmZ1tjXS50YXJnZXQhPT1mfHwoYj1zaWdtYS5taXNjLmFuaW1hdGlvbi5ydW5uaW5nW2NdLGNhbmNlbEFuaW1hdGlvbkZyYW1lKGIuZnJhbWVJZCksZGVsZXRlIHNpZ21hLm1pc2MuYW5pbWF0aW9uLnJ1bm5pbmdbY10sXCJjYW1lcmFcIj09PWIudHlwZSYmKGIudGFyZ2V0LmlzQW5pbWF0ZWQ9ITEpLGQrKyxcImZ1bmN0aW9uXCI9PXR5cGVvZihiLm9wdGlvbnN8fHt9KS5vbkNvbXBsZXRlJiZiLm9wdGlvbnMub25Db21wbGV0ZSgpKTtyZXR1cm4gZH0sc2lnbWEubWlzYy5hbmltYXRpb24uaGFzPWZ1bmN0aW9uKGEpe3ZhciBiLGM9XCJzdHJpbmdcIj09dHlwZW9mIGE/YTpudWxsLGQ9XCJvYmplY3RcIj09dHlwZW9mIGE/YTpudWxsLGU9c2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZztmb3IoYiBpbiBlKWlmKCEoYyYmZVtiXS50eXBlIT09Y3x8ZCYmZVtiXS50YXJnZXQhPT1kKSlyZXR1cm4hMDtyZXR1cm4hMX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5taXNjXCIpLHNpZ21hLm1pc2MuYmluZEV2ZW50cz1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKGEpe2EmJihoPVwieFwiaW4gYS5kYXRhP2EuZGF0YS54OmgsaT1cInlcImluIGEuZGF0YT9hLmRhdGEueTppKTt2YXIgYyxkLGUsZixnLGssbCxtLG49W10sbz1oK2oud2lkdGgvMixwPWkrai5oZWlnaHQvMixxPWouY2FtZXJhLmNhbWVyYVBvc2l0aW9uKGgsaSkscj1qLmNhbWVyYS5xdWFkdHJlZS5wb2ludChxLngscS55KTtpZihyLmxlbmd0aClmb3IoYz0wLGU9ci5sZW5ndGg7YzxlO2MrKylpZihmPXJbY10sZz1mW2IrXCJ4XCJdLGs9ZltiK1wieVwiXSxsPWZbYitcInNpemVcIl0sIWYuaGlkZGVuJiZvPmctbCYmbzxnK2wmJnA+ay1sJiZwPGsrbCYmTWF0aC5zcXJ0KE1hdGgucG93KG8tZywyKStNYXRoLnBvdyhwLWssMikpPGwpe2ZvcihtPSExLGQ9MDtkPG4ubGVuZ3RoO2QrKylpZihmLnNpemU+bltkXS5zaXplKXtuLnNwbGljZShkLDAsZiksbT0hMDticmVha31tfHxuLnB1c2goZil9cmV0dXJuIG59ZnVuY3Rpb24gZChjKXtmdW5jdGlvbiBkKGEsYil7Zm9yKHI9ITEsZz0wO2c8YS5sZW5ndGg7ZysrKWlmKGIuc2l6ZT5hW2ddLnNpemUpe2Euc3BsaWNlKGcsMCxiKSxyPSEwO2JyZWFrfXJ8fGEucHVzaChiKX1pZighai5zZXR0aW5ncyhcImVuYWJsZUVkZ2VIb3ZlcmluZ1wiKSlyZXR1cm5bXTt2YXIgZT1zaWdtYS5yZW5kZXJlcnMuY2FudmFzJiZqIGluc3RhbmNlb2Ygc2lnbWEucmVuZGVyZXJzLmNhbnZhcztpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZWRnZSBldmVudHMgZmVhdHVyZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBXZWJHTCByZW5kZXJlclwiKTtjJiYoaD1cInhcImluIGMuZGF0YT9jLmRhdGEueDpoLGk9XCJ5XCJpbiBjLmRhdGE/Yy5kYXRhLnk6aSk7dmFyIGYsZyxrLGwsbSxuLG8scCxxLHIscz1qLnNldHRpbmdzKFwiZWRnZUhvdmVyUHJlY2lzaW9uXCIpLHQ9e30sdT1bXSx2PWgrai53aWR0aC8yLHc9aStqLmhlaWdodC8yLHg9ai5jYW1lcmEuY2FtZXJhUG9zaXRpb24oaCxpKSx5PVtdO2lmKGUpe3ZhciB6PWouY2FtZXJhLnF1YWR0cmVlLmFyZWEoai5jYW1lcmEuZ2V0UmVjdGFuZ2xlKGoud2lkdGgsai5oZWlnaHQpKTtmb3IobD16LGY9MCxrPWwubGVuZ3RoO2Y8aztmKyspdFtsW2ZdLmlkXT1sW2ZdfWlmKGouY2FtZXJhLmVkZ2VxdWFkdHJlZSE9PWEmJih5PWouY2FtZXJhLmVkZ2VxdWFkdHJlZS5wb2ludCh4LngseC55KSkseS5sZW5ndGgpZm9yKGY9MCxrPXkubGVuZ3RoO2Y8aztmKyspbT15W2ZdLG89ai5ncmFwaC5ub2RlcyhtLnNvdXJjZSkscD1qLmdyYXBoLm5vZGVzKG0udGFyZ2V0KSxuPW1bYitcInNpemVcIl18fG1bXCJyZWFkX1wiK2IrXCJzaXplXCJdLCFtLmhpZGRlbiYmIW8uaGlkZGVuJiYhcC5oaWRkZW4mJighZXx8dFttLnNvdXJjZV18fHRbbS50YXJnZXRdKSYmc2lnbWEudXRpbHMuZ2V0RGlzdGFuY2Uob1tiK1wieFwiXSxvW2IrXCJ5XCJdLHYsdyk+b1tiK1wic2l6ZVwiXSYmc2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UocFtiK1wieFwiXSxwW2IrXCJ5XCJdLHYsdyk+cFtiK1wic2l6ZVwiXSYmKFwiY3VydmVcIj09bS50eXBlfHxcImN1cnZlZEFycm93XCI9PW0udHlwZT9vLmlkPT09cC5pZD8ocT1zaWdtYS51dGlscy5nZXRTZWxmTG9vcENvbnRyb2xQb2ludHMob1tiK1wieFwiXSxvW2IrXCJ5XCJdLG9bYitcInNpemVcIl0pLHNpZ21hLnV0aWxzLmlzUG9pbnRPbkJlemllckN1cnZlKHYsdyxvW2IrXCJ4XCJdLG9bYitcInlcIl0scFtiK1wieFwiXSxwW2IrXCJ5XCJdLHEueDEscS55MSxxLngyLHEueTIsTWF0aC5tYXgobixzKSkmJmQodSxtKSk6KHE9c2lnbWEudXRpbHMuZ2V0UXVhZHJhdGljQ29udHJvbFBvaW50KG9bYitcInhcIl0sb1tiK1wieVwiXSxwW2IrXCJ4XCJdLHBbYitcInlcIl0pLHNpZ21hLnV0aWxzLmlzUG9pbnRPblF1YWRyYXRpY0N1cnZlKHYsdyxvW2IrXCJ4XCJdLG9bYitcInlcIl0scFtiK1wieFwiXSxwW2IrXCJ5XCJdLHEueCxxLnksTWF0aC5tYXgobixzKSkmJmQodSxtKSk6c2lnbWEudXRpbHMuaXNQb2ludE9uU2VnbWVudCh2LHcsb1tiK1wieFwiXSxvW2IrXCJ5XCJdLHBbYitcInhcIl0scFtiK1wieVwiXSxNYXRoLm1heChuLHMpKSYmZCh1LG0pKTtyZXR1cm4gdX1mdW5jdGlvbiBlKGEpe2Z1bmN0aW9uIGIoYSl7ai5zZXR0aW5ncyhcImV2ZW50c0VuYWJsZWRcIikmJihqLmRpc3BhdGNoRXZlbnQoXCJjbGlja1wiLGEuZGF0YSksaT1jKGEpLGs9ZChhKSxpLmxlbmd0aD8oai5kaXNwYXRjaEV2ZW50KFwiY2xpY2tOb2RlXCIse25vZGU6aVswXSxjYXB0b3I6YS5kYXRhfSksai5kaXNwYXRjaEV2ZW50KFwiY2xpY2tOb2Rlc1wiLHtub2RlOmksY2FwdG9yOmEuZGF0YX0pKTprLmxlbmd0aD8oai5kaXNwYXRjaEV2ZW50KFwiY2xpY2tFZGdlXCIse2VkZ2U6a1swXSxjYXB0b3I6YS5kYXRhfSksai5kaXNwYXRjaEV2ZW50KFwiY2xpY2tFZGdlc1wiLHtlZGdlOmssY2FwdG9yOmEuZGF0YX0pKTpqLmRpc3BhdGNoRXZlbnQoXCJjbGlja1N0YWdlXCIse2NhcHRvcjphLmRhdGF9KSl9ZnVuY3Rpb24gZShhKXtqLnNldHRpbmdzKFwiZXZlbnRzRW5hYmxlZFwiKSYmKGouZGlzcGF0Y2hFdmVudChcImRvdWJsZUNsaWNrXCIsYS5kYXRhKSxpPWMoYSksaz1kKGEpLGkubGVuZ3RoPyhqLmRpc3BhdGNoRXZlbnQoXCJkb3VibGVDbGlja05vZGVcIix7bm9kZTppWzBdLGNhcHRvcjphLmRhdGF9KSxqLmRpc3BhdGNoRXZlbnQoXCJkb3VibGVDbGlja05vZGVzXCIse25vZGU6aSxjYXB0b3I6YS5kYXRhfSkpOmsubGVuZ3RoPyhqLmRpc3BhdGNoRXZlbnQoXCJkb3VibGVDbGlja0VkZ2VcIix7ZWRnZTprWzBdLGNhcHRvcjphLmRhdGF9KSxqLmRpc3BhdGNoRXZlbnQoXCJkb3VibGVDbGlja0VkZ2VzXCIse2VkZ2U6ayxjYXB0b3I6YS5kYXRhfSkpOmouZGlzcGF0Y2hFdmVudChcImRvdWJsZUNsaWNrU3RhZ2VcIix7Y2FwdG9yOmEuZGF0YX0pKX1mdW5jdGlvbiBmKGEpe2ouc2V0dGluZ3MoXCJldmVudHNFbmFibGVkXCIpJiYoai5kaXNwYXRjaEV2ZW50KFwicmlnaHRDbGlja1wiLGEuZGF0YSksaT1jKGEpLGs9ZChhKSxpLmxlbmd0aD8oai5kaXNwYXRjaEV2ZW50KFwicmlnaHRDbGlja05vZGVcIix7bm9kZTppWzBdLGNhcHRvcjphLmRhdGF9KSxqLmRpc3BhdGNoRXZlbnQoXCJyaWdodENsaWNrTm9kZXNcIix7bm9kZTppLGNhcHRvcjphLmRhdGF9KSk6ay5sZW5ndGg/KGouZGlzcGF0Y2hFdmVudChcInJpZ2h0Q2xpY2tFZGdlXCIse2VkZ2U6a1swXSxjYXB0b3I6YS5kYXRhfSksai5kaXNwYXRjaEV2ZW50KFwicmlnaHRDbGlja0VkZ2VzXCIse2VkZ2U6ayxjYXB0b3I6YS5kYXRhfSkpOmouZGlzcGF0Y2hFdmVudChcInJpZ2h0Q2xpY2tTdGFnZVwiLHtjYXB0b3I6YS5kYXRhfSkpfWZ1bmN0aW9uIGcoYSl7aWYoai5zZXR0aW5ncyhcImV2ZW50c0VuYWJsZWRcIikpe3ZhciBiLGMsZCxlLGY9W10sZz1bXTtmb3IoYiBpbiBsKWYucHVzaChsW2JdKTtmb3IobD17fSxjPTAsZD1mLmxlbmd0aDtjPGQ7YysrKWouZGlzcGF0Y2hFdmVudChcIm91dE5vZGVcIix7bm9kZTpmW2NdLGNhcHRvcjphLmRhdGF9KTtmb3IoZi5sZW5ndGgmJmouZGlzcGF0Y2hFdmVudChcIm91dE5vZGVzXCIse25vZGVzOmYsY2FwdG9yOmEuZGF0YX0pLG09e30sYz0wLGU9Zy5sZW5ndGg7YzxlO2MrKylqLmRpc3BhdGNoRXZlbnQoXCJvdXRFZGdlXCIse2VkZ2U6Z1tjXSxjYXB0b3I6YS5kYXRhfSk7Zy5sZW5ndGgmJmouZGlzcGF0Y2hFdmVudChcIm91dEVkZ2VzXCIse2VkZ2VzOmcsY2FwdG9yOmEuZGF0YX0pfX1mdW5jdGlvbiBoKGEpe2lmKGouc2V0dGluZ3MoXCJldmVudHNFbmFibGVkXCIpKXtpPWMoYSksaz1kKGEpO3ZhciBiLGUsZixnLGg9W10sbj1bXSxvPXt9LHA9aS5sZW5ndGgscT1bXSxyPVtdLHM9e30sdD1rLmxlbmd0aDtmb3IoYj0wO2I8cDtiKyspZj1pW2JdLG9bZi5pZF09ZixsW2YuaWRdfHwobi5wdXNoKGYpLGxbZi5pZF09Zik7Zm9yKGUgaW4gbClvW2VdfHwoaC5wdXNoKGxbZV0pLGRlbGV0ZSBsW2VdKTtmb3IoYj0wLHA9bi5sZW5ndGg7YjxwO2IrKylqLmRpc3BhdGNoRXZlbnQoXCJvdmVyTm9kZVwiLHtub2RlOm5bYl0sY2FwdG9yOmEuZGF0YX0pO2ZvcihiPTAscD1oLmxlbmd0aDtiPHA7YisrKWouZGlzcGF0Y2hFdmVudChcIm91dE5vZGVcIix7bm9kZTpoW2JdLGNhcHRvcjphLmRhdGF9KTtmb3Iobi5sZW5ndGgmJmouZGlzcGF0Y2hFdmVudChcIm92ZXJOb2Rlc1wiLHtub2RlczpuLGNhcHRvcjphLmRhdGF9KSxoLmxlbmd0aCYmai5kaXNwYXRjaEV2ZW50KFwib3V0Tm9kZXNcIix7bm9kZXM6aCxjYXB0b3I6YS5kYXRhfSksYj0wO2I8dDtiKyspZz1rW2JdLHNbZy5pZF09ZyxtW2cuaWRdfHwoci5wdXNoKGcpLG1bZy5pZF09Zyk7Zm9yKGUgaW4gbSlzW2VdfHwocS5wdXNoKG1bZV0pLGRlbGV0ZSBtW2VdKTtmb3IoYj0wLHQ9ci5sZW5ndGg7Yjx0O2IrKylqLmRpc3BhdGNoRXZlbnQoXCJvdmVyRWRnZVwiLHtlZGdlOnJbYl0sY2FwdG9yOmEuZGF0YX0pO2ZvcihiPTAsdD1xLmxlbmd0aDtiPHQ7YisrKWouZGlzcGF0Y2hFdmVudChcIm91dEVkZ2VcIix7ZWRnZTpxW2JdLGNhcHRvcjphLmRhdGF9KTtyLmxlbmd0aCYmai5kaXNwYXRjaEV2ZW50KFwib3ZlckVkZ2VzXCIse2VkZ2VzOnIsY2FwdG9yOmEuZGF0YX0pLHEubGVuZ3RoJiZqLmRpc3BhdGNoRXZlbnQoXCJvdXRFZGdlc1wiLHtlZGdlczpxLGNhcHRvcjphLmRhdGF9KX19dmFyIGksayxsPXt9LG09e307YS5iaW5kKFwiY2xpY2tcIixiKSxhLmJpbmQoXCJtb3VzZWRvd25cIixoKSxhLmJpbmQoXCJtb3VzZXVwXCIsaCksYS5iaW5kKFwibW91c2Vtb3ZlXCIsaCksYS5iaW5kKFwibW91c2VvdXRcIixnKSxhLmJpbmQoXCJkb3VibGVjbGlja1wiLGUpLGEuYmluZChcInJpZ2h0Y2xpY2tcIixmKSxqLmJpbmQoXCJyZW5kZXJcIixoKX12YXIgZixnLGgsaSxqPXRoaXM7Zm9yKGY9MCxnPXRoaXMuY2FwdG9ycy5sZW5ndGg7ZjxnO2YrKyllKHRoaXMuY2FwdG9yc1tmXSl9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEubWlzY1wiKSxzaWdtYS5taXNjLmJpbmRET01FdmVudHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLmF0dHI9ZnVuY3Rpb24oYil7cmV0dXJuIGEuZ2V0QXR0cmlidXRlTlMobnVsbCxiKX0sdGhpcy50YWc9YS50YWdOYW1lLHRoaXMuY2xhc3M9dGhpcy5hdHRyKFwiY2xhc3NcIiksdGhpcy5pZD10aGlzLmF0dHIoXCJpZFwiKSx0aGlzLmlzTm9kZT1mdW5jdGlvbigpe3JldHVybiEhfnRoaXMuY2xhc3MuaW5kZXhPZihnLnNldHRpbmdzKFwiY2xhc3NQcmVmaXhcIikrXCItbm9kZVwiKX0sdGhpcy5pc0VkZ2U9ZnVuY3Rpb24oKXtyZXR1cm4hIX50aGlzLmNsYXNzLmluZGV4T2YoZy5zZXR0aW5ncyhcImNsYXNzUHJlZml4XCIpK1wiLWVkZ2VcIil9LHRoaXMuaXNIb3Zlcj1mdW5jdGlvbigpe3JldHVybiEhfnRoaXMuY2xhc3MuaW5kZXhPZihnLnNldHRpbmdzKFwiY2xhc3NQcmVmaXhcIikrXCItaG92ZXJcIil9fWZ1bmN0aW9uIGMoYSl7aWYoZy5zZXR0aW5ncyhcImV2ZW50c0VuYWJsZWRcIikpe2cuZGlzcGF0Y2hFdmVudChcImNsaWNrXCIsYSk7dmFyIGM9bmV3IGIoYS50YXJnZXQpO2MuaXNOb2RlKCk/Zy5kaXNwYXRjaEV2ZW50KFwiY2xpY2tOb2RlXCIse25vZGU6aC5ub2RlcyhjLmF0dHIoXCJkYXRhLW5vZGUtaWRcIikpfSk6Zy5kaXNwYXRjaEV2ZW50KFwiY2xpY2tTdGFnZVwiKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX19ZnVuY3Rpb24gZChhKXtpZihnLnNldHRpbmdzKFwiZXZlbnRzRW5hYmxlZFwiKSl7Zy5kaXNwYXRjaEV2ZW50KFwiZG91YmxlQ2xpY2tcIixhKTt2YXIgYz1uZXcgYihhLnRhcmdldCk7Yy5pc05vZGUoKT9nLmRpc3BhdGNoRXZlbnQoXCJkb3VibGVDbGlja05vZGVcIix7bm9kZTpoLm5vZGVzKGMuYXR0cihcImRhdGEtbm9kZS1pZFwiKSl9KTpnLmRpc3BhdGNoRXZlbnQoXCJkb3VibGVDbGlja1N0YWdlXCIpLGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpfX1mdW5jdGlvbiBlKGEpe3ZhciBjPWEudG9FbGVtZW50fHxhLnRhcmdldDtpZihnLnNldHRpbmdzKFwiZXZlbnRzRW5hYmxlZFwiKSYmYyl7dmFyIGQ9bmV3IGIoYyk7aWYoZC5pc05vZGUoKSlnLmRpc3BhdGNoRXZlbnQoXCJvdmVyTm9kZVwiLHtub2RlOmgubm9kZXMoZC5hdHRyKFwiZGF0YS1ub2RlLWlkXCIpKX0pO2Vsc2UgaWYoZC5pc0VkZ2UoKSl7dmFyIGU9aC5lZGdlcyhkLmF0dHIoXCJkYXRhLWVkZ2UtaWRcIikpO2cuZGlzcGF0Y2hFdmVudChcIm92ZXJFZGdlXCIse2VkZ2U6ZSxzb3VyY2U6aC5ub2RlcyhlLnNvdXJjZSksdGFyZ2V0Omgubm9kZXMoZS50YXJnZXQpfSl9fX1mdW5jdGlvbiBmKGEpe3ZhciBjPWEuZnJvbUVsZW1lbnR8fGEub3JpZ2luYWxUYXJnZXQ7aWYoZy5zZXR0aW5ncyhcImV2ZW50c0VuYWJsZWRcIikpe3ZhciBkPW5ldyBiKGMpO2lmKGQuaXNOb2RlKCkpZy5kaXNwYXRjaEV2ZW50KFwib3V0Tm9kZVwiLHtub2RlOmgubm9kZXMoZC5hdHRyKFwiZGF0YS1ub2RlLWlkXCIpKX0pO2Vsc2UgaWYoZC5pc0VkZ2UoKSl7dmFyIGU9aC5lZGdlcyhkLmF0dHIoXCJkYXRhLWVkZ2UtaWRcIikpO2cuZGlzcGF0Y2hFdmVudChcIm91dEVkZ2VcIix7ZWRnZTplLHNvdXJjZTpoLm5vZGVzKGUuc291cmNlKSx0YXJnZXQ6aC5ub2RlcyhlLnRhcmdldCl9KX19fXZhciBnPXRoaXMsaD10aGlzLmdyYXBoO2EuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsYywhMSksc2lnbWEudXRpbHMuZG91YmxlQ2xpY2soYSxcImNsaWNrXCIsZCksYS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGMsITEpLHNpZ21hLnV0aWxzLmRvdWJsZUNsaWNrKGEsXCJ0b3VjaHN0YXJ0XCIsZCksYS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsZSwhMCksYS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIixmLCEwKX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5taXNjXCIpLHNpZ21hLm1pc2MuZHJhd0hvdmVycz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dmFyIGIsZixnLGgsaSxqPWMuY29udGV4dHMuaG92ZXIuY2FudmFzLGs9Yy5zZXR0aW5ncyhcImRlZmF1bHROb2RlVHlwZVwiKSxsPWMuc2V0dGluZ3MoXCJkZWZhdWx0RWRnZVR5cGVcIiksbT1zaWdtYS5jYW52YXMuaG92ZXJzLG49c2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMsbz1zaWdtYS5jYW52YXMuZXh0cmVtaXRpZXMscD1jLnNldHRpbmdzLmVtYmVkT2JqZWN0cyh7cHJlZml4OmF9KTtpZihjLmNvbnRleHRzLmhvdmVyLmNsZWFyUmVjdCgwLDAsai53aWR0aCxqLmhlaWdodCkscChcImVuYWJsZUhvdmVyaW5nXCIpJiZwKFwic2luZ2xlSG92ZXJcIikmJk9iamVjdC5rZXlzKGQpLmxlbmd0aCYmKGg9ZFtPYmplY3Qua2V5cyhkKVswXV0sKG1baC50eXBlXXx8bVtrXXx8bS5kZWYpKGgsYy5jb250ZXh0cy5ob3ZlcixwKSkscChcImVuYWJsZUhvdmVyaW5nXCIpJiYhcChcInNpbmdsZUhvdmVyXCIpKWZvcihiIGluIGQpKG1bZFtiXS50eXBlXXx8bVtrXXx8bS5kZWYpKGRbYl0sYy5jb250ZXh0cy5ob3ZlcixwKTtpZihwKFwiZW5hYmxlRWRnZUhvdmVyaW5nXCIpJiZwKFwic2luZ2xlSG92ZXJcIikmJk9iamVjdC5rZXlzKGUpLmxlbmd0aCYmKGk9ZVtPYmplY3Qua2V5cyhlKVswXV0sZj1jLmdyYXBoLm5vZGVzKGkuc291cmNlKSxnPWMuZ3JhcGgubm9kZXMoaS50YXJnZXQpLGkuaGlkZGVufHwoKG5baS50eXBlXXx8bltsXXx8bi5kZWYpKGksZixnLGMuY29udGV4dHMuaG92ZXIscCkscChcImVkZ2VIb3ZlckV4dHJlbWl0aWVzXCIpPyhvW2kudHlwZV18fG8uZGVmKShpLGYsZyxjLmNvbnRleHRzLmhvdmVyLHApOigoc2lnbWEuY2FudmFzLm5vZGVzW2YudHlwZV18fHNpZ21hLmNhbnZhcy5ub2Rlcy5kZWYpKGYsYy5jb250ZXh0cy5ob3ZlcixwKSwoc2lnbWEuY2FudmFzLm5vZGVzW2cudHlwZV18fHNpZ21hLmNhbnZhcy5ub2Rlcy5kZWYpKGcsYy5jb250ZXh0cy5ob3ZlcixwKSkpKSxwKFwiZW5hYmxlRWRnZUhvdmVyaW5nXCIpJiYhcChcInNpbmdsZUhvdmVyXCIpKWZvcihiIGluIGUpaT1lW2JdLGY9Yy5ncmFwaC5ub2RlcyhpLnNvdXJjZSksZz1jLmdyYXBoLm5vZGVzKGkudGFyZ2V0KSxpLmhpZGRlbnx8KChuW2kudHlwZV18fG5bbF18fG4uZGVmKShpLGYsZyxjLmNvbnRleHRzLmhvdmVyLHApLHAoXCJlZGdlSG92ZXJFeHRyZW1pdGllc1wiKT8ob1tpLnR5cGVdfHxvLmRlZikoaSxmLGcsYy5jb250ZXh0cy5ob3ZlcixwKTooKHNpZ21hLmNhbnZhcy5ub2Rlc1tmLnR5cGVdfHxzaWdtYS5jYW52YXMubm9kZXMuZGVmKShmLGMuY29udGV4dHMuaG92ZXIscCksKHNpZ21hLmNhbnZhcy5ub2Rlc1tnLnR5cGVdfHxzaWdtYS5jYW52YXMubm9kZXMuZGVmKShnLGMuY29udGV4dHMuaG92ZXIscCkpKX12YXIgYz10aGlzLGQ9e30sZT17fTt0aGlzLmJpbmQoXCJvdmVyTm9kZVwiLGZ1bmN0aW9uKGEpe3ZhciBjPWEuZGF0YS5ub2RlO2MuaGlkZGVufHwoZFtjLmlkXT1jLGIoKSl9KSx0aGlzLmJpbmQoXCJvdXROb2RlXCIsZnVuY3Rpb24oYSl7ZGVsZXRlIGRbYS5kYXRhLm5vZGUuaWRdLGIoKX0pLHRoaXMuYmluZChcIm92ZXJFZGdlXCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLmVkZ2U7Yy5oaWRkZW58fChlW2MuaWRdPWMsYigpKX0pLHRoaXMuYmluZChcIm91dEVkZ2VcIixmdW5jdGlvbihhKXtkZWxldGUgZVthLmRhdGEuZWRnZS5pZF0sYigpfSksdGhpcy5iaW5kKFwicmVuZGVyXCIsZnVuY3Rpb24oYSl7YigpfSl9fS5jYWxsKHRoaXMpOyIsIihmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoYSl7aWYoZFthXSlyZXR1cm4gZFthXTt2YXIgYj1bMCwwLDBdO3JldHVybiBhLm1hdGNoKC9eIy8pPyhhPShhfHxcIlwiKS5yZXBsYWNlKC9eIy8sXCJcIiksYj0zPT09YS5sZW5ndGg/W3BhcnNlSW50KGEuY2hhckF0KDApK2EuY2hhckF0KDApLDE2KSxwYXJzZUludChhLmNoYXJBdCgxKSthLmNoYXJBdCgxKSwxNikscGFyc2VJbnQoYS5jaGFyQXQoMikrYS5jaGFyQXQoMiksMTYpXTpbcGFyc2VJbnQoYS5jaGFyQXQoMCkrYS5jaGFyQXQoMSksMTYpLHBhcnNlSW50KGEuY2hhckF0KDIpK2EuY2hhckF0KDMpLDE2KSxwYXJzZUludChhLmNoYXJBdCg0KSthLmNoYXJBdCg1KSwxNildKTphLm1hdGNoKC9eICpyZ2JhPyAqXFwoLykmJihhPWEubWF0Y2goL14gKnJnYmE/ICpcXCggKihbMC05XSopICosICooWzAtOV0qKSAqLCAqKFswLTldKikgKigsLiopP1xcKSAqJC8pLGI9WythWzFdLCthWzJdLCthWzNdXSksZFthXT17cjpiWzBdLGc6YlsxXSxiOmJbMl19LGRbYV19ZnVuY3Rpb24gYihiLGMsZCl7Yj1hKGIpLGM9YShjKTt2YXIgZT17cjpiLnIqKDEtZCkrYy5yKmQsZzpiLmcqKDEtZCkrYy5nKmQsYjpiLmIqKDEtZCkrYy5iKmR9O3JldHVyblwicmdiKFwiK1swfGUuciwwfGUuZywwfGUuYl0uam9pbihcIixcIikrXCIpXCJ9aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5wbHVnaW5zXCIpO3ZhciBjPTAsZD17fTtzaWdtYS5wbHVnaW5zLmFuaW1hdGU9ZnVuY3Rpb24oYSxkLGUpe2Z1bmN0aW9uIGYoKXt2YXIgYz0oc2lnbWEudXRpbHMuZGF0ZU5vdygpLW0pL2s7aWYoYz49MSl7Zy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBkKWIgaW4gZCYmKGFbYl09YVtkW2JdXSl9KTt2YXIgZSxuO2ZvcihlIGluIGEuY2FtZXJhcyluPWEuY2FtZXJhc1tlXSxuLmVkZ2VxdWFkdHJlZS5fZW5hYmxlZD0hMDthLnJlZnJlc2goKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm9uQ29tcGxldGUmJmkub25Db21wbGV0ZSgpfWVsc2UgYz1sKGMpLGcuZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGUgaW4gZCllIGluIGQmJihlLm1hdGNoKC9jb2xvciQvKT9hW2VdPWIoaFthLmlkXVtlXSxhW2RbZV1dLGMpOmFbZV09YVtkW2VdXSpjK2hbYS5pZF1bZV0qKDEtYykpfSksYS5yZWZyZXNoKCksYS5hbmltYXRpb25zW2pdPXJlcXVlc3RBbmltYXRpb25GcmFtZShmKX12YXIgZyxoLGk9ZXx8e30saj0rK2Msaz1pLmR1cmF0aW9ufHxhLnNldHRpbmdzKFwiYW5pbWF0aW9uc1RpbWVcIiksbD1cInN0cmluZ1wiPT10eXBlb2YgaS5lYXNpbmc/c2lnbWEudXRpbHMuZWFzaW5nc1tpLmVhc2luZ106XCJmdW5jdGlvblwiPT10eXBlb2YgaS5lYXNpbmc/aS5lYXNpbmc6c2lnbWEudXRpbHMuZWFzaW5ncy5xdWFkcmF0aWNJbk91dCxtPXNpZ21hLnV0aWxzLmRhdGVOb3coKTtnPWkubm9kZXMmJmkubm9kZXMubGVuZ3RoP1wib2JqZWN0XCI9PXR5cGVvZiBpLm5vZGVzWzBdP2kubm9kZXM6YS5ncmFwaC5ub2RlcyhpLm5vZGVzKTphLmdyYXBoLm5vZGVzKCksaD1nLnJlZHVjZShmdW5jdGlvbihhLGIpe3ZhciBjO2FbYi5pZF09e307Zm9yKGMgaW4gZCljIGluIGImJihhW2IuaWRdW2NdPWJbY10pO3JldHVybiBhfSx7fSksYS5hbmltYXRpb25zPWEuYW5pbWF0aW9uc3x8T2JqZWN0LmNyZWF0ZSh7fSksc2lnbWEucGx1Z2lucy5raWxsKGEpO3ZhciBuLG87Zm9yKG4gaW4gYS5jYW1lcmFzKW89YS5jYW1lcmFzW25dLG8uZWRnZXF1YWR0cmVlLl9lbmFibGVkPSExO2YoKX0sc2lnbWEucGx1Z2lucy5raWxsPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhLmFuaW1hdGlvbnN8fHt9KWNhbmNlbEFuaW1hdGlvbkZyYW1lKGEuYW5pbWF0aW9uc1tiXSk7dmFyIGIsYztmb3IoYiBpbiBhLmNhbWVyYXMpYz1hLmNhbWVyYXNbYl0sYy5lZGdlcXVhZHRyZWUuX2VuYWJsZWQ9ITB9fSkuY2FsbCh3aW5kb3cpOyIsIihmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKCl7dmFyIGE9dGhpczt0aGlzLmluaXQ9ZnVuY3Rpb24oYSxiKXtpZihiPWJ8fHt9LHRoaXMuc2lnSW5zdD1hLHRoaXMuY29uZmlnPXNpZ21hLnV0aWxzLmV4dGVuZChiLGMpLHRoaXMuZWFzaW5nPWIuZWFzaW5nLHRoaXMuZHVyYXRpb249Yi5kdXJhdGlvbixiLm5vZGVzJiYodGhpcy5ub2Rlcz1iLm5vZGVzLGRlbGV0ZSBiLm5vZGVzKSwhc2lnbWEucGx1Z2luc3x8dm9pZCAwPT09c2lnbWEucGx1Z2lucy5hbmltYXRlKXRocm93IG5ldyBFcnJvcihcInNpZ21hLnBsdWdpbnMuYW5pbWF0ZSBpcyBub3QgZGVjbGFyZWRcIik7dGhpcy5ydW5uaW5nPSExfSx0aGlzLmF0b21pY0dvPWZ1bmN0aW9uKCl7aWYoIXRoaXMucnVubmluZ3x8dGhpcy5pdGVyQ291bnQ8MSlyZXR1cm4hMTt2YXIgYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdz10aGlzLm5vZGVzfHx0aGlzLnNpZ0luc3QuZ3JhcGgubm9kZXMoKSx4PXcubGVuZ3RoLHk9MS8wLHo9LTEvMCxBPTEvMCxCPS0xLzA7Zm9yKHRoaXMuaXRlckNvdW50LS0sdGhpcy5ydW5uaW5nPSExLGI9MDtiPHg7YisrKWM9d1tiXSxjLmRuLmR4PTAsYy5kbi5keT0wLHk9TWF0aC5taW4oeSxjLmRuX3gtKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pKSx6PU1hdGgubWF4KHosYy5kbl94KyhjLmRuX3NpemUqYS5jb25maWcuc2NhbGVOb2RlcythLmNvbmZpZy5ub2RlTWFyZ2luKSksQT1NYXRoLm1pbihBLGMuZG5feS0oYy5kbl9zaXplKmEuY29uZmlnLnNjYWxlTm9kZXMrYS5jb25maWcubm9kZU1hcmdpbikpLEI9TWF0aC5tYXgoQixjLmRuX3krKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pKTtmb3IoZT16LXksZj1CLUEsZz0oeSt6KS8yLGg9KEErQikvMix5PWctYS5jb25maWcucGVybWl0dGVkRXhwYW5zaW9uKmUvMix6PWcrYS5jb25maWcucGVybWl0dGVkRXhwYW5zaW9uKmUvMixBPWgtYS5jb25maWcucGVybWl0dGVkRXhwYW5zaW9uKmYvMixCPWgrYS5jb25maWcucGVybWl0dGVkRXhwYW5zaW9uKmYvMixpPXt9LGo9MDtqPGEuY29uZmlnLmdyaWRTaXplO2orKylmb3IoaVtqXT17fSxrPTA7azxhLmNvbmZpZy5ncmlkU2l6ZTtrKyspaVtqXVtrXT1bXTtmb3IoYj0wO2I8eDtiKyspZm9yKGM9d1tiXSxzPWMuZG5feC0oYy5kbl9zaXplKmEuY29uZmlnLnNjYWxlTm9kZXMrYS5jb25maWcubm9kZU1hcmdpbiksdD1jLmRuX3grKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pLHU9Yy5kbl95LShjLmRuX3NpemUqYS5jb25maWcuc2NhbGVOb2RlcythLmNvbmZpZy5ub2RlTWFyZ2luKSx2PWMuZG5feSsoYy5kbl9zaXplKmEuY29uZmlnLnNjYWxlTm9kZXMrYS5jb25maWcubm9kZU1hcmdpbiksbD1NYXRoLmZsb29yKGEuY29uZmlnLmdyaWRTaXplKihzLXkpLyh6LXkpKSxtPU1hdGguZmxvb3IoYS5jb25maWcuZ3JpZFNpemUqKHQteSkvKHoteSkpLG49TWF0aC5mbG9vcihhLmNvbmZpZy5ncmlkU2l6ZSoodS1BKS8oQi1BKSksbz1NYXRoLmZsb29yKGEuY29uZmlnLmdyaWRTaXplKih2LUEpLyhCLUEpKSxrPWw7azw9bTtrKyspZm9yKGo9bjtqPD1vO2orKylpW2pdW2tdLnB1c2goYy5pZCk7Zm9yKHA9e30saj0wO2o8YS5jb25maWcuZ3JpZFNpemU7aisrKWZvcihrPTA7azxhLmNvbmZpZy5ncmlkU2l6ZTtrKyspaVtqXVtrXS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2ZvcihwW2JdfHwocFtiXT1bXSkscT1NYXRoLm1heCgwLGotMSk7cTw9TWF0aC5taW4oaisxLGEuY29uZmlnLmdyaWRTaXplLTEpO3ErKylmb3Iocj1NYXRoLm1heCgwLGstMSk7cjw9TWF0aC5taW4oaysxLGEuY29uZmlnLmdyaWRTaXplLTEpO3IrKylpW3FdW3JdLmZvckVhY2goZnVuY3Rpb24oYSl7YSE9PWImJi0xPT09cFtiXS5pbmRleE9mKGEpJiZwW2JdLnB1c2goYSl9KX0pO2ZvcihiPTA7Yjx4O2IrKylkPXdbYl0scFtkLmlkXS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2lnSW5zdC5ncmFwaC5ub2RlcyhiKSxnPWMuZG5feC1kLmRuX3gsaD1jLmRuX3ktZC5kbl95LGk9TWF0aC5zcXJ0KGcqZytoKmgpO2k8ZC5kbl9zaXplKmEuY29uZmlnLnNjYWxlTm9kZXMrYS5jb25maWcubm9kZU1hcmdpbisoYy5kbl9zaXplKmEuY29uZmlnLnNjYWxlTm9kZXMrYS5jb25maWcubm9kZU1hcmdpbikmJihhLnJ1bm5pbmc9ITAsaT4wPyhjLmRuLmR4Kz1nL2kqKDErZC5kbl9zaXplKSxjLmRuLmR5Kz1oL2kqKDErZC5kbl9zaXplKSk6KGMuZG4uZHgrPS4wMSplKiguNS1NYXRoLnJhbmRvbSgpKSxjLmRuLmR5Kz0uMDEqZiooLjUtTWF0aC5yYW5kb20oKSkpKX0pO2ZvcihiPTA7Yjx4O2IrKyljPXdbYl0sYy5maXhlZHx8KGMuZG5feD1jLmRuX3grLjEqYy5kbi5keCphLmNvbmZpZy5zcGVlZCxjLmRuX3k9Yy5kbl95Ky4xKmMuZG4uZHkqYS5jb25maWcuc3BlZWQpO3JldHVybiB0aGlzLnJ1bm5pbmcmJnRoaXMuaXRlckNvdW50PDEmJih0aGlzLnJ1bm5pbmc9ITEpLHRoaXMucnVubmluZ30sdGhpcy5nbz1mdW5jdGlvbigpe2Zvcih0aGlzLml0ZXJDb3VudD10aGlzLmNvbmZpZy5tYXhJdGVyYXRpb25zO3RoaXMucnVubmluZzspdGhpcy5hdG9taWNHbygpO3RoaXMuc3RvcCgpfSx0aGlzLnN0YXJ0PWZ1bmN0aW9uKCl7aWYoIXRoaXMucnVubmluZyl7dmFyIGI9dGhpcy5zaWdJbnN0LmdyYXBoLm5vZGVzKCksYz10aGlzLnNpZ0luc3QucmVuZGVyZXJzW2EuY29uZmlnLnJlbmRlcmVySW5kZXhdLm9wdGlvbnMucHJlZml4O3RoaXMucnVubmluZz0hMDtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyliW2RdLmRuX3g9YltkXVtjK1wieFwiXSxiW2RdLmRuX3k9YltkXVtjK1wieVwiXSxiW2RdLmRuX3NpemU9YltkXVtjK1wic2l6ZVwiXSxiW2RdLmRuPXtkeDowLGR5OjB9O2VbYS5zaWdJbnN0LmlkXS5kaXNwYXRjaEV2ZW50KFwic3RhcnRcIiksdGhpcy5nbygpfX0sdGhpcy5zdG9wPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zaWdJbnN0LmdyYXBoLm5vZGVzKCk7aWYodGhpcy5ydW5uaW5nPSExLHRoaXMuZWFzaW5nKWVbYS5zaWdJbnN0LmlkXS5kaXNwYXRjaEV2ZW50KFwiaW50ZXJwb2xhdGVcIiksc2lnbWEucGx1Z2lucy5hbmltYXRlKGEuc2lnSW5zdCx7eDpcImRuX3hcIix5OlwiZG5feVwifSx7ZWFzaW5nOmEuZWFzaW5nLG9uQ29tcGxldGU6ZnVuY3Rpb24oKXthLnNpZ0luc3QucmVmcmVzaCgpO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10uZG49bnVsbCxiW2NdLmRuX3g9bnVsbCxiW2NdLmRuX3k9bnVsbDtlW2Euc2lnSW5zdC5pZF0uZGlzcGF0Y2hFdmVudChcInN0b3BcIil9LGR1cmF0aW9uOmEuZHVyYXRpb259KTtlbHNle2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10ueD1iW2NdLmRuX3gsYltjXS55PWJbY10uZG5feTt0aGlzLnNpZ0luc3QucmVmcmVzaCgpO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10uZG49bnVsbCxiW2NdLmRuX3g9bnVsbCxiW2NdLmRuX3k9bnVsbDtlW2Euc2lnSW5zdC5pZF0uZGlzcGF0Y2hFdmVudChcInN0b3BcIil9fSx0aGlzLmtpbGw9ZnVuY3Rpb24oKXt0aGlzLnNpZ0luc3Q9bnVsbCx0aGlzLmNvbmZpZz1udWxsLHRoaXMuZWFzaW5nPW51bGx9fWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvdyBuZXcgRXJyb3IoXCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIik7c2lnbWEudXRpbHMucGtnKFwic2lnbWEubGF5b3V0Lm5vdmVybGFwXCIpO3ZhciBjPXtzcGVlZDozLHNjYWxlTm9kZXM6MS4yLG5vZGVNYXJnaW46NSxncmlkU2l6ZToyMCxwZXJtaXR0ZWRFeHBhbnNpb246MS4xLHJlbmRlcmVySW5kZXg6MCxtYXhJdGVyYXRpb25zOjUwMH0sZD17fSxlPXt9O3NpZ21hLnByb3RvdHlwZS5jb25maWdOb3ZlcmxhcD1mdW5jdGlvbihhKXt2YXIgYz10aGlzO2lmKCFhKXRocm93IG5ldyBFcnJvcignTWlzc2luZyBhcmd1bWVudDogXCJjb25maWdcIicpO3JldHVybiBkW2MuaWRdfHwoZFtjLmlkXT1uZXcgYixlW2MuaWRdPXt9LHNpZ21hLmNsYXNzZXMuZGlzcGF0Y2hlci5leHRlbmQoZVtjLmlkXSksYy5iaW5kKFwia2lsbFwiLGZ1bmN0aW9uKCl7ZFtjLmlkXS5raWxsKCksZFtjLmlkXT1udWxsLGVbYy5pZF09bnVsbH0pKSxkW2MuaWRdLmluaXQoYyxhKSxlW2MuaWRdfSxzaWdtYS5wcm90b3R5cGUuc3RhcnROb3ZlcmxhcD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhJiZ0aGlzLmNvbmZpZ05vdmVybGFwKGIsYSksZFtiLmlkXS5zdGFydCgpLGVbYi5pZF19LHNpZ21hLnByb3RvdHlwZS5pc05vdmVybGFwUnVubmluZz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuISFkW2EuaWRdJiZkW2EuaWRdLnJ1bm5pbmd9fSkuY2FsbCh0aGlzKTsiLCIhZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZWhvdmVyc1wiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5kYXNoZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmFjdGl2ZT9hLmFjdGl2ZV9jb2xvcnx8ZShcImRlZmF1bHRFZGdlQWN0aXZlQ29sb3JcIik6YS5jb2xvcixnPWUoXCJwcmVmaXhcIil8fFwiXCIsaD1hW2crXCJzaXplXCJdfHwxLGk9ZShcImVkZ2VDb2xvclwiKSxqPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGs9ZShcImRlZmF1bHRFZGdlQ29sb3JcIik7aWYoIWYpc3dpdGNoKGkpe2Nhc2VcInNvdXJjZVwiOmY9Yi5jb2xvcnx8ajticmVhaztjYXNlXCJ0YXJnZXRcIjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9Zj1cImVkZ2VcIj09PWUoXCJlZGdlSG92ZXJDb2xvclwiKT9hLmhvdmVyX2NvbG9yfHxmOmEuaG92ZXJfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUhvdmVyQ29sb3JcIil8fGYsaCo9ZShcImVkZ2VIb3ZlclNpemVSYXRpb1wiKSxkLnNhdmUoKSxkLnNldExpbmVEYXNoKFs4LDNdKSxkLnN0cm9rZVN0eWxlPWYsZC5saW5lV2lkdGg9aCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGJbZytcInhcIl0sYltnK1wieVwiXSksZC5saW5lVG8oY1tnK1wieFwiXSxjW2crXCJ5XCJdKSxkLnN0cm9rZSgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzXCIpLHNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzLmRvdHRlZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuYWN0aXZlP2EuYWN0aXZlX2NvbG9yfHxlKFwiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvclwiKTphLmNvbG9yLGc9ZShcInByZWZpeFwiKXx8XCJcIixoPWFbZytcInNpemVcIl18fDEsaT1lKFwiZWRnZUNvbG9yXCIpLGo9ZShcImRlZmF1bHROb2RlQ29sb3JcIiksaz1lKFwiZGVmYXVsdEVkZ2VDb2xvclwiKTtpZighZilzd2l0Y2goaSl7Y2FzZVwic291cmNlXCI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2VcInRhcmdldFwiOmY9Yy5jb2xvcnx8ajticmVhaztkZWZhdWx0OmY9a31mPVwiZWRnZVwiPT09ZShcImVkZ2VIb3ZlckNvbG9yXCIpP2EuaG92ZXJfY29sb3J8fGY6YS5ob3Zlcl9jb2xvcnx8ZShcImRlZmF1bHRFZGdlSG92ZXJDb2xvclwiKXx8ZixoKj1lKFwiZWRnZUhvdmVyU2l6ZVJhdGlvXCIpLGQuc2F2ZSgpLGQuc2V0TGluZURhc2goWzJdKSxkLnN0cm9rZVN0eWxlPWYsZC5saW5lV2lkdGg9aCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGJbZytcInhcIl0sYltnK1wieVwiXSksZC5saW5lVG8oY1tnK1wieFwiXSxjW2crXCJ5XCJdKSxkLnN0cm9rZSgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzXCIpLHNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzLnBhcmFsbGVsPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoPWEuYWN0aXZlP2EuYWN0aXZlX2NvbG9yfHxlKFwiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvclwiKTphLmNvbG9yLGk9ZShcInByZWZpeFwiKXx8XCJcIixqPWFbaStcInNpemVcIl18fDEsaz1lKFwiZWRnZUNvbG9yXCIpLGw9ZShcImRlZmF1bHROb2RlQ29sb3JcIiksbT1lKFwiZGVmYXVsdEVkZ2VDb2xvclwiKSxuPWJbaStcInhcIl0sbz1iW2krXCJ5XCJdLHA9Y1tpK1wieFwiXSxxPWNbaStcInlcIl0scj1zaWdtYS51dGlscy5nZXREaXN0YW5jZShuLG8scCxxKTtpZighaClzd2l0Y2goayl7Y2FzZVwic291cmNlXCI6aD1iLmNvbG9yfHxsO2JyZWFrO2Nhc2VcInRhcmdldFwiOmg9Yy5jb2xvcnx8bDticmVhaztkZWZhdWx0Omg9bX1oPVwiZWRnZVwiPT09ZShcImVkZ2VIb3ZlckNvbG9yXCIpP2EuaG92ZXJfY29sb3J8fGg6YS5ob3Zlcl9jb2xvcnx8ZShcImRlZmF1bHRFZGdlSG92ZXJDb2xvclwiKXx8aCxqKj1lKFwiZWRnZUhvdmVyU2l6ZVJhdGlvXCIpLGY9c2lnbWEudXRpbHMuZ2V0Q2lyY2xlSW50ZXJzZWN0aW9uKG4sbyxqLHAscSxyKSxnPXNpZ21hLnV0aWxzLmdldENpcmNsZUludGVyc2VjdGlvbihwLHEsaixuLG8sciksZC5zYXZlKCksZC5zdHJva2VTdHlsZT1oLGQubGluZVdpZHRoPWosZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhmLnhpLGYueWkpLGQubGluZVRvKGcueGlfcHJpbWUsZy55aV9wcmltZSksZC5jbG9zZVBhdGgoKSxkLnN0cm9rZSgpLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oZi54aV9wcmltZSxmLnlpX3ByaW1lKSxkLmxpbmVUbyhnLnhpLGcueWkpLGQuY2xvc2VQYXRoKCksZC5zdHJva2UoKSxkLnJlc3RvcmUoKX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZWhvdmVyc1wiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy50YXBlcmVkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yXCIpOmEuY29sb3IsZz1lKFwicHJlZml4XCIpfHxcIlwiLGg9YVtnK1wic2l6ZVwiXXx8MSxpPWUoXCJlZGdlQ29sb3JcIiksZz1lKFwicHJlZml4XCIpfHxcIlwiLGo9ZShcImRlZmF1bHROb2RlQ29sb3JcIiksaz1lKFwiZGVmYXVsdEVkZ2VDb2xvclwiKSxsPWJbZytcInhcIl0sbT1iW2crXCJ5XCJdLG49Y1tnK1wieFwiXSxvPWNbZytcInlcIl0scD1zaWdtYS51dGlscy5nZXREaXN0YW5jZShsLG0sbixvKTtpZighZilzd2l0Y2goaSl7Y2FzZVwic291cmNlXCI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2VcInRhcmdldFwiOmY9Yy5jb2xvcnx8ajticmVhaztkZWZhdWx0OmY9a31mPVwiZWRnZVwiPT09ZShcImVkZ2VIb3ZlckNvbG9yXCIpP2EuaG92ZXJfY29sb3J8fGY6YS5ob3Zlcl9jb2xvcnx8ZShcImRlZmF1bHRFZGdlSG92ZXJDb2xvclwiKXx8ZixoKj1lKFwiZWRnZUhvdmVyU2l6ZVJhdGlvXCIpO3ZhciBxPXNpZ21hLnV0aWxzLmdldENpcmNsZUludGVyc2VjdGlvbihsLG0saCxuLG8scCk7ZC5zYXZlKCksZC5nbG9iYWxBbHBoYT0uNjUsZC5maWxsU3R5bGU9ZixkLmJlZ2luUGF0aCgpLGQubW92ZVRvKG4sbyksZC5saW5lVG8ocS54aSxxLnlpKSxkLmxpbmVUbyhxLnhpX3ByaW1lLHEueWlfcHJpbWUpLGQuY2xvc2VQYXRoKCksZC5maWxsKCksZC5yZXN0b3JlKCl9fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmVkZ2VzXCIpLHNpZ21hLmNhbnZhcy5lZGdlcy5kYXNoZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmFjdGl2ZT9hLmFjdGl2ZV9jb2xvcnx8ZShcImRlZmF1bHRFZGdlQWN0aXZlQ29sb3JcIik6YS5jb2xvcixnPWUoXCJwcmVmaXhcIil8fFwiXCIsaD1hW2crXCJzaXplXCJdfHwxLGk9ZShcImVkZ2VDb2xvclwiKSxqPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGs9ZShcImRlZmF1bHRFZGdlQ29sb3JcIik7aWYoIWYpc3dpdGNoKGkpe2Nhc2VcInNvdXJjZVwiOmY9Yi5jb2xvcnx8ajticmVhaztjYXNlXCJ0YXJnZXRcIjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9ZC5zYXZlKCksYS5hY3RpdmU/ZC5zdHJva2VTdHlsZT1cImVkZ2VcIj09PWUoXCJlZGdlQWN0aXZlQ29sb3JcIik/Znx8azplKFwiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvclwiKTpkLnN0cm9rZVN0eWxlPWYsZC5zZXRMaW5lRGFzaChbOCwzXSksZC5saW5lV2lkdGg9aCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGJbZytcInhcIl0sYltnK1wieVwiXSksZC5saW5lVG8oY1tnK1wieFwiXSxjW2crXCJ5XCJdKSxkLnN0cm9rZSgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlc1wiKSxzaWdtYS5jYW52YXMuZWRnZXMuZG90dGVkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yXCIpOmEuY29sb3IsZz1lKFwicHJlZml4XCIpfHxcIlwiLGg9YVtnK1wic2l6ZVwiXXx8MSxpPWUoXCJlZGdlQ29sb3JcIiksaj1lKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxrPWUoXCJkZWZhdWx0RWRnZUNvbG9yXCIpO2lmKCFmKXN3aXRjaChpKXtjYXNlXCJzb3VyY2VcIjpmPWIuY29sb3J8fGo7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6Zj1jLmNvbG9yfHxqO2JyZWFrO2RlZmF1bHQ6Zj1rfWQuc2F2ZSgpLGEuYWN0aXZlP2Quc3Ryb2tlU3R5bGU9XCJlZGdlXCI9PT1lKFwiZWRnZUFjdGl2ZUNvbG9yXCIpP2Z8fGs6ZShcImRlZmF1bHRFZGdlQWN0aXZlQ29sb3JcIik6ZC5zdHJva2VTdHlsZT1mLGQuc2V0TGluZURhc2goWzJdKSxkLmxpbmVXaWR0aD1oLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oYltnK1wieFwiXSxiW2crXCJ5XCJdKSxkLmxpbmVUbyhjW2crXCJ4XCJdLGNbZytcInlcIl0pLGQuc3Ryb2tlKCksZC5yZXN0b3JlKCl9fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmVkZ2VzXCIpLHNpZ21hLmNhbnZhcy5lZGdlcy5wYXJhbGxlbD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaD1hLmFjdGl2ZT9hLmFjdGl2ZV9jb2xvcnx8ZShcImRlZmF1bHRFZGdlQWN0aXZlQ29sb3JcIik6YS5jb2xvcixpPWUoXCJwcmVmaXhcIil8fFwiXCIsaj1hW2krXCJzaXplXCJdfHwxLGs9ZShcImVkZ2VDb2xvclwiKSxsPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLG09ZShcImRlZmF1bHRFZGdlQ29sb3JcIiksbj1iW2krXCJ4XCJdLG89YltpK1wieVwiXSxwPWNbaStcInhcIl0scT1jW2krXCJ5XCJdLHI9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UobixvLHAscSk7aWYoIWgpc3dpdGNoKGspe2Nhc2VcInNvdXJjZVwiOmg9Yi5jb2xvcnx8bDticmVhaztjYXNlXCJ0YXJnZXRcIjpoPWMuY29sb3J8fGw7YnJlYWs7ZGVmYXVsdDpoPW19Zj1zaWdtYS51dGlscy5nZXRDaXJjbGVJbnRlcnNlY3Rpb24obixvLGoscCxxLHIpLGc9c2lnbWEudXRpbHMuZ2V0Q2lyY2xlSW50ZXJzZWN0aW9uKHAscSxqLG4sbyxyKSxkLnNhdmUoKSxhLmFjdGl2ZT9kLnN0cm9rZVN0eWxlPVwiZWRnZVwiPT09ZShcImVkZ2VBY3RpdmVDb2xvclwiKT9ofHxtOmUoXCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yXCIpOmQuc3Ryb2tlU3R5bGU9aCxkLmxpbmVXaWR0aD1qLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oZi54aSxmLnlpKSxkLmxpbmVUbyhnLnhpX3ByaW1lLGcueWlfcHJpbWUpLGQuY2xvc2VQYXRoKCksZC5zdHJva2UoKSxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGYueGlfcHJpbWUsZi55aV9wcmltZSksZC5saW5lVG8oZy54aSxnLnlpKSxkLmNsb3NlUGF0aCgpLGQuc3Ryb2tlKCksZC5yZXN0b3JlKCl9fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmVkZ2VzXCIpLHNpZ21hLmNhbnZhcy5lZGdlcy50YXBlcmVkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yXCIpOmEuY29sb3IsZz1lKFwicHJlZml4XCIpfHxcIlwiLGg9YVtnK1wic2l6ZVwiXXx8MSxpPWUoXCJlZGdlQ29sb3JcIiksZz1lKFwicHJlZml4XCIpfHxcIlwiLGo9ZShcImRlZmF1bHROb2RlQ29sb3JcIiksaz1lKFwiZGVmYXVsdEVkZ2VDb2xvclwiKSxsPWJbZytcInhcIl0sbT1iW2crXCJ5XCJdLG49Y1tnK1wieFwiXSxvPWNbZytcInlcIl0scD1zaWdtYS51dGlscy5nZXREaXN0YW5jZShsLG0sbixvKTtpZighZilzd2l0Y2goaSl7Y2FzZVwic291cmNlXCI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2VcInRhcmdldFwiOmY9Yy5jb2xvcnx8ajticmVhaztkZWZhdWx0OmY9a312YXIgcT1zaWdtYS51dGlscy5nZXRDaXJjbGVJbnRlcnNlY3Rpb24obCxtLGgsbixvLHApO2Quc2F2ZSgpLGEuYWN0aXZlP2QuZmlsbFN0eWxlPVwiZWRnZVwiPT09ZShcImVkZ2VBY3RpdmVDb2xvclwiKT9mfHxrOmUoXCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yXCIpOmQuZmlsbFN0eWxlPWYsZC5nbG9iYWxBbHBoYT0uNjUsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhuLG8pLGQubGluZVRvKHEueGkscS55aSksZC5saW5lVG8ocS54aV9wcmltZSxxLnlpX3ByaW1lKSxkLmNsb3NlUGF0aCgpLGQuZmlsbCgpLGQucmVzdG9yZSgpfX0oKTsiXX0=
