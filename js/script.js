/* sigma.js - A JavaScript library dedicated to graph drawing. - Version: 1.2.1 - Author: Alexis Jacomy, Sciences-Po MÃ©dialab - License: MIT */
(function(a){"use strict";var b={},c=function(a){var d,e,f,g,h;c.classes.dispatcher.extend(this);var i=this,j=a||{};if("string"==typeof j||j instanceof HTMLElement?j={renderers:[j]}:"[object Array]"===Object.prototype.toString.call(j)&&(j={renderers:j}),g=j.renderers||j.renderer||j.container,j.renderers&&0!==j.renderers.length||("string"==typeof g||g instanceof HTMLElement||"object"==typeof g&&"container"in g)&&(j.renderers=[g]),j.id){if(b[j.id])throw'sigma: Instance "'+j.id+'" already exists.';Object.defineProperty(this,"id",{value:j.id})}else{for(h=0;b[h];)h++;Object.defineProperty(this,"id",{value:""+h})}for(b[this.id]=this,this.settings=new c.classes.configurable(c.settings,j.settings||{}),Object.defineProperty(this,"graph",{value:new c.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),Object.defineProperty(this,"camera",{get:function(){return this.cameras[0]}}),Object.defineProperty(this,"events",{value:["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","doubleClickNode","doubleClickNodes","rightClickNode","rightClickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],configurable:!0}),this._handler=function(a){var b,c={};for(b in a.data)c[b]=a.data[b];c.renderer=a.target,this.dispatchEvent(a.type,c)}.bind(this),f=j.renderers||[],d=0,e=f.length;d<e;d++)this.addRenderer(f[d]);for(f=j.middlewares||[],d=0,e=f.length;d<e;d++)this.middlewares.push("string"==typeof f[d]?c.middlewares[f[d]]:f[d]);"object"==typeof j.graph&&j.graph&&(this.graph.read(j.graph),this.refresh()),window.addEventListener("resize",function(){i.settings&&i.refresh()})};if(c.prototype.addCamera=function(b){var d,e=this;if(!arguments.length){for(b=0;this.cameras[""+b];)b++;b=""+b}if(this.cameras[b])throw'sigma.addCamera: The camera "'+b+'" already exists.';return d=new c.classes.camera(b,this.graph,this.settings),this.cameras[b]=d,d.quadtree=new c.classes.quad,c.classes.edgequad!==a&&(d.edgequadtree=new c.classes.edgequad),d.bind("coordinatesUpdated",function(a){e.renderCamera(d,d.isAnimated)}),this.renderersPerCamera[b]=[],d},c.prototype.killCamera=function(a){if(!(a="string"==typeof a?this.cameras[a]:a))throw"sigma.killCamera: The camera is undefined.";var b,c,d=this.renderersPerCamera[a.id];for(c=d.length,b=c-1;b>=0;b--)this.killRenderer(d[b]);return delete this.renderersPerCamera[a.id],delete this.cameraFrames[a.id],delete this.cameras[a.id],a.kill&&a.kill(),this},c.prototype.addRenderer=function(a){var b,d,e,f,g=a||{};if("string"==typeof g?g={container:document.getElementById(g)}:g instanceof HTMLElement&&(g={container:g}),"string"==typeof g.container&&(g.container=document.getElementById(g.container)),"id"in g)b=g.id;else{for(b=0;this.renderers[""+b];)b++;b=""+b}if(this.renderers[b])throw'sigma.addRenderer: The renderer "'+b+'" already exists.';if(d="function"==typeof g.type?g.type:c.renderers[g.type],d=d||c.renderers.def,e="camera"in g?g.camera instanceof c.classes.camera?g.camera:this.cameras[g.camera]||this.addCamera(g.camera):this.addCamera(),this.cameras[e.id]!==e)throw"sigma.addRenderer: The camera is not properly referenced.";return f=new d(this.graph,e,this.settings,g),this.renderers[b]=f,Object.defineProperty(f,"id",{value:b}),f.bind&&f.bind(["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","clickEdge","clickEdges","doubleClickNode","doubleClickNodes","doubleClickEdge","doubleClickEdges","rightClickNode","rightClickNodes","rightClickEdge","rightClickEdges","overNode","overNodes","overEdge","overEdges","outNode","outNodes","outEdge","outEdges","downNode","downNodes","downEdge","downEdges","upNode","upNodes","upEdge","upEdges"],this._handler),this.renderersPerCamera[e.id].push(f),f},c.prototype.killRenderer=function(a){if(!(a="string"==typeof a?this.renderers[a]:a))throw"sigma.killRenderer: The renderer is undefined.";var b=this.renderersPerCamera[a.camera.id],c=b.indexOf(a);return c>=0&&b.splice(c,1),a.kill&&a.kill(),delete this.renderers[a.id],this},c.prototype.refresh=function(b){var d,e,f,g,h,i,j=0;for(b=b||{},g=this.middlewares||[],d=0,e=g.length;d<e;d++)g[d].call(this,0===d?"":"tmp"+j+":",d===e-1?"ready:":"tmp"+ ++j+":");for(f in this.cameras)h=this.cameras[f],h.settings("autoRescale")&&this.renderersPerCamera[h.id]&&this.renderersPerCamera[h.id].length?c.middlewares.rescale.call(this,g.length?"ready:":"",h.readPrefix,{width:this.renderersPerCamera[h.id][0].width,height:this.renderersPerCamera[h.id][0].height}):c.middlewares.copy.call(this,g.length?"ready:":"",h.readPrefix),b.skipIndexation||(i=c.utils.getBoundaries(this.graph,h.readPrefix),h.quadtree.index(this.graph.nodes(),{prefix:h.readPrefix,bounds:{x:i.minX,y:i.minY,width:i.maxX-i.minX,height:i.maxY-i.minY}}),h.edgequadtree!==a&&h.settings("drawEdges")&&h.settings("enableEdgeHovering")&&h.edgequadtree.index(this.graph,{prefix:h.readPrefix,bounds:{x:i.minX,y:i.minY,width:i.maxX-i.minX,height:i.maxY-i.minY}}));for(g=Object.keys(this.renderers),d=0,e=g.length;d<e;d++)if(this.renderers[g[d]].process)if(this.settings("skipErrors"))try{this.renderers[g[d]].process()}catch(a){console.log('Warning: The renderer "'+g[d]+'" crashed on ".process()"')}else this.renderers[g[d]].process();return this.render(),this},c.prototype.render=function(){var a,b,c;for(c=Object.keys(this.renderers),a=0,b=c.length;a<b;a++)if(this.settings("skipErrors"))try{this.renderers[c[a]].render()}catch(b){this.settings("verbose")&&console.log('Warning: The renderer "'+c[a]+'" crashed on ".render()"')}else this.renderers[c[a]].render();return this},c.prototype.renderCamera=function(a,b){var c,d,e,f=this;if(b)for(e=this.renderersPerCamera[a.id],c=0,d=e.length;c<d;c++)if(this.settings("skipErrors"))try{e[c].render()}catch(a){this.settings("verbose")&&console.log('Warning: The renderer "'+e[c].id+'" crashed on ".render()"')}else e[c].render();else if(!this.cameraFrames[a.id]){for(e=this.renderersPerCamera[a.id],c=0,d=e.length;c<d;c++)if(this.settings("skipErrors"))try{e[c].render()}catch(a){this.settings("verbose")&&console.log('Warning: The renderer "'+e[c].id+'" crashed on ".render()"')}else e[c].render();this.cameraFrames[a.id]=requestAnimationFrame(function(){delete f.cameraFrames[a.id]})}return this},c.prototype.kill=function(){var a;this.dispatchEvent("kill"),this.graph.kill(),delete this.middlewares;for(a in this.renderers)this.killRenderer(this.renderers[a]);for(a in this.cameras)this.killCamera(this.cameras[a]);delete this.renderers,delete this.cameras;for(a in this)this.hasOwnProperty(a)&&delete this[a];delete b[this.id]},c.instances=function(a){return arguments.length?b[a]:c.utils.extend({},b)},c.version="1.2.1",void 0!==this.sigma)throw"An object called sigma is already in the global scope.";this.sigma=c}).call(this),function(a){"use strict";function b(a,c){var d,e,f,g;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(a in arguments[0])b(a,arguments[0][a]);else if(arguments.length>1)for(g=Array.isArray(a)?a:a.split(/ /),d=0,e=g.length;d!==e;d+=1)f=g[d],C[f]||(C[f]=[]),C[f].push({handler:c})}function c(a,b){var c,d,e,f,g,h,i=Array.isArray(a)?a:a.split(/ /);if(arguments.length)if(b)for(c=0,d=i.length;c!==d;c+=1){if(h=i[c],C[h]){for(g=[],e=0,f=C[h].length;e!==f;e+=1)C[h][e].handler!==b&&g.push(C[h][e]);C[h]=g}C[h]&&0===C[h].length&&delete C[h]}else for(c=0,d=i.length;c!==d;c+=1)delete C[i[c]];else C=Object.create(null)}function d(a,b){var c,d,e,f,g,h,i=Array.isArray(a)?a:a.split(/ /);for(b=void 0===b?{}:b,c=0,e=i.length;c!==e;c+=1)if(h=i[c],C[h])for(g={type:h,data:b||{}},d=0,f=C[h].length;d!==f;d+=1)try{C[h][d].handler(g)}catch(a){}}function e(){var a,b,c,d,e=!1,f=s(),g=x.shift();if(c=g.job(),f=s()-f,g.done++,g.time+=f,g.currentTime+=f,g.weightTime=g.currentTime/(g.weight||1),g.averageTime=g.time/g.done,!(d=g.count?g.count<=g.done:!c)){for(a=0,b=x.length;a<b;a++)if(x[a].weightTime>g.weightTime){x.splice(a,0,g),e=!0;break}e||x.push(g)}return d?g:null}function f(a){var b=x.length;w[a.id]=a,a.status="running",b&&(a.weightTime=x[b-1].weightTime,a.currentTime=a.weightTime*(a.weight||1)),a.startTime=s(),d("jobStarted",q(a)),x.push(a)}function g(){var a,b,c;for(a in v)b=v[a],b.after?y[a]=b:f(b),delete v[a];for(u=!!x.length;x.length&&s()-t<B.frameDuration;)if(c=e()){i(c.id);for(a in y)y[a].after===c.id&&(f(y[a]),delete y[a])}u?(t=s(),d("enterFrame"),setTimeout(g,0)):d("stop")}function h(a,b){var c,e,f;if(Array.isArray(a)){for(A=!0,c=0,e=a.length;c<e;c++)h(a[c].id,p(a[c],b));A=!1,u||(t=s(),d("start"),g())}else if("object"==typeof a)if("string"==typeof a.id)h(a.id,a);else{A=!0;for(c in a)"function"==typeof a[c]?h(c,p({job:a[c]},b)):h(c,p(a[c],b));A=!1,u||(t=s(),d("start"),g())}else{if("string"!=typeof a)throw new Error("[conrad.addJob] Wrong arguments.");if(k(a))throw new Error('[conrad.addJob] Job with id "'+a+'" already exists.');if("function"==typeof b)f={id:a,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:b};else{if("object"!=typeof b)throw new Error("[conrad.addJob] Wrong arguments.");f=p({id:a,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},b)}v[a]=f,d("jobAdded",q(f)),u||A||(t=s(),d("start"),g())}return this}function i(a){var b,c,e,f,g=!1;if(Array.isArray(a))for(b=0,c=a.length;b<c;b++)i(a[b]);else{if("string"!=typeof a)throw new Error("[conrad.killJob] Wrong arguments.");for(e=[w,y,v],b=0,c=e.length;b<c;b++)a in e[b]&&(f=e[b][a],B.history&&(f.status="done",z.push(f)),d("jobEnded",q(f)),delete e[b][a],"function"==typeof f.end&&f.end(),g=!0);for(e=x,b=0,c=e.length;b<c;b++)if(e[b].id===a){e.splice(b,1);break}if(!g)throw new Error('[conrad.killJob] Job "'+a+'" not found.')}return this}function j(){var a,b=p(v,w,y);if(B.history)for(a in b)b[a].status="done",z.push(b[a]),"function"==typeof b[a].end&&b[a].end();return v={},y={},w={},x=[],u=!1,this}function k(a){var b=v[a]||w[a]||y[a];return b?p(b):null}function l(a,b){var c;if("string"==typeof a1&&1===arguments.length)return B[a1];c="object"==typeof a1&&1===arguments.length?a1||{}:{},"string"==typeof a1&&(c[a1]=a2);for(var d in c)void 0!==c[d]?B[d]=c[d]:delete B[d];return this}function m(){return u}function n(){return z=[],this}function o(a,b){var c,d,e,f,g,h,i;if(!arguments.length){g=[];for(d in v)g.push(v[d]);for(d in y)g.push(y[d]);for(d in w)g.push(w[d]);g=g.concat(z)}if("string"==typeof a)switch(a){case"waiting":g=r(y);break;case"running":g=r(w);break;case"done":g=z;break;default:h=a}if(a instanceof RegExp&&(h=a),!h&&("string"==typeof b||b instanceof RegExp)&&(h=b),h){if(i="string"==typeof h,g instanceof Array)c=g;else if("object"==typeof g){c=[];for(d in g)c=c.concat(g[d])}else{c=[];for(d in v)c.push(v[d]);for(d in y)c.push(y[d]);for(d in w)c.push(w[d]);c=c.concat(z)}for(g=[],e=0,f=c.length;e<f;e++)(i?c[e].id===h:c[e].id.match(h))&&g.push(c[e])}return q(g)}function p(){var a,b,c={},d=arguments.length;for(a=d-1;a>=0;a--)for(b in arguments[a])c[b]=arguments[a][b];return c}function q(a){var b,c,d;if(!a)return a;if(Array.isArray(a))for(b=[],c=0,d=a.length;c<d;c++)b.push(q(a[c]));else if("object"==typeof a){b={};for(c in a)b[c]=q(a[c])}else b=a;return b}function r(a){var b,c=[];for(b in a)c.push(a[b]);return c}function s(){return Date.now?Date.now():(new Date).getTime()}if(a.conrad)throw new Error("conrad already exists");var t,u=!1,v={},w={},x=[],y={},z=[],A=!1,B={frameDuration:20,history:!0},C=Object.create(null);Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});var D={hasJob:k,addJob:h,killJob:i,killAll:j,settings:l,getStats:o,isRunning:m,clearHistory:n,bind:b,unbind:c,version:"0.1.0"};"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=D),exports.conrad=D),a.conrad=D}(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var b=this;sigma.utils=sigma.utils||{},sigma.utils.extend=function(){var a,b,c={},d=arguments.length;for(a=d-1;a>=0;a--)for(b in arguments[a])c[b]=arguments[a][b];return c},sigma.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},sigma.utils.pkg=function(a){return(a||"").split(".").reduce(function(a,b){return b in a?a[b]:a[b]={}},b)},sigma.utils.id=function(){var a=0;return function(){return++a}}();var c={};sigma.utils.floatColor=function(a){if(c[a])return c[a];var b=a,d=0,e=0,f=0;"#"===a[0]?(a=a.slice(1),3===a.length?(d=parseInt(a.charAt(0)+a.charAt(0),16),e=parseInt(a.charAt(1)+a.charAt(1),16),f=parseInt(a.charAt(2)+a.charAt(2),16)):(d=parseInt(a.charAt(0)+a.charAt(1),16),e=parseInt(a.charAt(2)+a.charAt(3),16),f=parseInt(a.charAt(4)+a.charAt(5),16))):a.match(/^ *rgba? *\(/)&&(a=a.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),d=+a[1],e=+a[2],f=+a[3]);var g=256*d*256+256*e+f;return c[b]=g,g},sigma.utils.zoomTo=function(a,b,c,d,e){var f,g,h,i=a.settings;(g=Math.max(i("zoomMin"),Math.min(i("zoomMax"),a.ratio*d)))!==a.ratio&&(d=g/a.ratio,h={x:b*(1-d)+a.x,y:c*(1-d)+a.y,ratio:g},e&&e.duration?(f=sigma.misc.animation.killAll(a),e=sigma.utils.extend(e,{easing:f?"quadraticOut":"quadraticInOut"}),sigma.misc.animation.camera(a,h,e)):(a.goTo(h),e&&e.onComplete&&e.onComplete()))},sigma.utils.getQuadraticControlPoint=function(a,b,c,d){return{x:(a+c)/2+(d-b)/4,y:(b+d)/2+(a-c)/4}},sigma.utils.getPointOnQuadraticCurve=function(a,b,c,d,e,f,g){return{x:Math.pow(1-a,2)*b+2*(1-a)*a*f+Math.pow(a,2)*d,y:Math.pow(1-a,2)*c+2*(1-a)*a*g+Math.pow(a,2)*e}},sigma.utils.getPointOnBezierCurve=function(a,b,c,d,e,f,g,h,i){var j=Math.pow(1-a,3),k=3*a*Math.pow(1-a,2),l=3*Math.pow(a,2)*(1-a),m=Math.pow(a,3);return{x:j*b+k*f+l*h+m*d,y:j*c+k*g+l*i+m*e}},sigma.utils.getSelfLoopControlPoints=function(a,b,c){return{x1:a-7*c,y1:b,x2:a,y2:b+7*c}},sigma.utils.getDistance=function(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))},sigma.utils.getCircleIntersection=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;return h=d-a,i=e-b,!((j=Math.sqrt(i*i+h*h))>c+f)&&(!(j<Math.abs(c-f))&&(g=(c*c-f*f+j*j)/(2*j),n=a+h*g/j,o=b+i*g/j,k=Math.sqrt(c*c-g*g),l=k/j*-i,m=h*(k/j),{xi:n+l,xi_prime:n-l,yi:o+m,yi_prime:o-m}))},sigma.utils.isPointOnSegment=function(a,b,c,d,e,f,g){return Math.abs((b-d)*(e-c)-(a-c)*(f-d))/sigma.utils.getDistance(c,d,e,f)<g&&Math.min(c,e)<=a&&a<=Math.max(c,e)&&Math.min(d,f)<=b&&b<=Math.max(d,f)},sigma.utils.isPointOnQuadraticCurve=function(a,b,c,d,e,f,g,h,i){var j=sigma.utils.getDistance(c,d,e,f);if(Math.abs(a-c)>j||Math.abs(b-d)>j)return!1;for(var k,l=sigma.utils.getDistance(a,b,c,d),m=sigma.utils.getDistance(a,b,e,f),n=.5,o=l<m?-.01:.01,p=.001,q=100,r=sigma.utils.getPointOnQuadraticCurve(n,c,d,e,f,g,h),s=sigma.utils.getDistance(a,b,r.x,r.y);q-- >0&&n>=0&&n<=1&&s>i&&(o>p||o<-p);)k=s,r=sigma.utils.getPointOnQuadraticCurve(n,c,d,e,f,g,h),s=sigma.utils.getDistance(a,b,r.x,r.y),s>k?(o=-o/2,n+=o):n+o<0||n+o>1?(o/=2,s=k):n+=o;return s<i},sigma.utils.isPointOnBezierCurve=function(a,b,c,d,e,f,g,h,i,j,k){var l=sigma.utils.getDistance(c,d,g,h);if(Math.abs(a-c)>l||Math.abs(b-d)>l)return!1;for(var m,n=sigma.utils.getDistance(a,b,c,d),o=sigma.utils.getDistance(a,b,e,f),p=.5,q=n<o?-.01:.01,r=.001,s=100,t=sigma.utils.getPointOnBezierCurve(p,c,d,e,f,g,h,i,j),u=sigma.utils.getDistance(a,b,t.x,t.y);s-- >0&&p>=0&&p<=1&&u>k&&(q>r||q<-r);)m=u,t=sigma.utils.getPointOnBezierCurve(p,c,d,e,f,g,h,i,j),u=sigma.utils.getDistance(a,b,t.x,t.y),u>m?(q=-q/2,p+=q):p+q<0||p+q>1?(q/=2,u=m):p+=q;return u<k},sigma.utils.getX=function(b){return b.offsetX!==a&&b.offsetX||b.layerX!==a&&b.layerX||b.clientX!==a&&b.clientX},sigma.utils.getY=function(b){return b.offsetY!==a&&b.offsetY||b.layerY!==a&&b.layerY||b.clientY!==a&&b.clientY},sigma.utils.getPixelRatio=function(){var b=1;return window.screen.deviceXDPI!==a&&window.screen.logicalXDPI!==a&&window.screen.deviceXDPI>window.screen.logicalXDPI?b=window.screen.systemXDPI/window.screen.logicalXDPI:window.devicePixelRatio!==a&&(b=window.devicePixelRatio),b},sigma.utils.getWidth=function(b){var c=b.target.ownerSVGElement?b.target.ownerSVGElement.width:b.target.width;return"number"==typeof c&&c||c!==a&&c.baseVal!==a&&c.baseVal.value},sigma.utils.getCenter=function(a){var b=-1!==a.target.namespaceURI.indexOf("svg")?1:sigma.utils.getPixelRatio();return{x:sigma.utils.getWidth(a)/(2*b),y:sigma.utils.getHeight(a)/(2*b)}},sigma.utils.mouseCoords=function(a,b,c){return b=b||sigma.utils.getX(a),c=c||sigma.utils.getY(a),{x:b-sigma.utils.getCenter(a).x,y:c-sigma.utils.getCenter(a).y,clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,metaKey:a.metaKey,altKey:a.altKey,shiftKey:a.shiftKey}},sigma.utils.getHeight=function(b){var c=b.target.ownerSVGElement?b.target.ownerSVGElement.height:b.target.height;return"number"==typeof c&&c||c!==a&&c.baseVal!==a&&c.baseVal.value},sigma.utils.getDelta=function(b){return b.wheelDelta!==a&&b.wheelDelta||b.detail!==a&&-b.detail},sigma.utils.getOffset=function(a){for(var b=0,c=0;a;)c+=parseInt(a.offsetTop),b+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:c,left:b}},sigma.utils.doubleClick=function(a,b,c){var d,e=0;a._doubleClickHandler=a._doubleClickHandler||{},a._doubleClickHandler[b]=a._doubleClickHandler[b]||[],d=a._doubleClickHandler[b],d.push(function(a){if(2===++e)return e=0,c(a);1===e&&setTimeout(function(){e=0},sigma.settings.doubleClickTimeout)}),a.addEventListener(b,d[d.length-1],!1)},sigma.utils.unbindDoubleClick=function(a,b){for(var c,d=(a._doubleClickHandler||{})[b]||[];c=d.pop();)a.removeEventListener(b,c);delete(a._doubleClickHandler||{})[b]},sigma.utils.easings=sigma.utils.easings||{},sigma.utils.easings.linearNone=function(a){return a},sigma.utils.easings.quadraticIn=function(a){return a*a},sigma.utils.easings.quadraticOut=function(a){return a*(2-a)},sigma.utils.easings.quadraticInOut=function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},sigma.utils.easings.cubicIn=function(a){return a*a*a},sigma.utils.easings.cubicOut=function(a){return--a*a*a+1},sigma.utils.easings.cubicInOut=function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},sigma.utils.loadShader=function(a,b,c,d){var e,f=a.createShader(c);return a.shaderSource(f,b),a.compileShader(f),e=a.getShaderParameter(f,a.COMPILE_STATUS),e?f:(d&&d('Error compiling shader "'+f+'":'+a.getShaderInfoLog(f)),a.deleteShader(f),null)},sigma.utils.loadProgram=function(a,b,c,d,e){var f,g,h=a.createProgram();for(f=0;f<b.length;++f)a.attachShader(h,b[f]);if(c)for(f=0;f<c.length;++f)a.bindAttribLocation(h,locations?locations[f]:f,opt_attribs[f]);return a.linkProgram(h),g=a.getProgramParameter(h,a.LINK_STATUS),g?h:(e&&e("Error in program linking: "+a.getProgramInfoLog(h)),a.deleteProgram(h),null)},sigma.utils.pkg("sigma.utils.matrices"),sigma.utils.matrices.translation=function(a,b){return[1,0,0,0,1,0,a,b,1]},sigma.utils.matrices.rotation=function(a,b){var c=Math.cos(a),d=Math.sin(a);return b?[c,-d,d,c]:[c,-d,0,d,c,0,0,0,1]},sigma.utils.matrices.scale=function(a,b){return b?[a,0,0,a]:[a,0,0,0,a,0,0,0,1]},sigma.utils.matrices.multiply=function(a,b,c){var d=c?2:3,e=a[0*d+0],f=a[0*d+1],g=a[0*d+2],h=a[1*d+0],i=a[1*d+1],j=a[1*d+2],k=a[2*d+0],l=a[2*d+1],m=a[2*d+2],n=b[0*d+0],o=b[0*d+1],p=b[0*d+2],q=b[1*d+0],r=b[1*d+1],s=b[1*d+2],t=b[2*d+0],u=b[2*d+1],v=b[2*d+2];return c?[e*n+f*q,e*o+f*r,h*n+i*q,h*o+i*r]:[e*n+f*q+g*t,e*o+f*r+g*u,e*p+f*s+g*v,h*n+i*q+j*t,h*o+i*r+j*u,h*p+i*s+j*v,k*n+l*q+m*t,k*o+l*r+m*u,k*p+l*s+m*v]}}.call(this),function(a){"use strict";var b,c=0,d=["ms","moz","webkit","o"];for(b=0;b<d.length&&!a.requestAnimationFrame;b++)a.requestAnimationFrame=a[d[b]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[d[b]+"CancelAnimationFrame"]||a[d[b]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(b,d){var e=(new Date).getTime(),f=Math.max(0,16-(e-c)),g=a.setTimeout(function(){b(e+f)},f);return c=e+f,g}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b,c,d=Array.prototype.slice.call(arguments,1),e=this;return b=function(){},c=function(){return e.apply(this instanceof b&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))},b.prototype=this.prototype,c.prototype=new b,c})}(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.settings");var b={clone:!0,immutable:!0,verbose:!1,classPrefix:"sigma",defaultNodeType:"def",defaultEdgeType:"def",defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,edgeColor:"source",minArrowSize:0,font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",singleHover:!0,hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",edgeHoverColor:"edge",edgeHoverSizeRatio:1,defaultEdgeHoverColor:"#000",edgeHoverExtremities:!1,drawEdges:!0,drawNodes:!0,drawLabels:!0,drawEdgeLabels:!1,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,mouseWheelEnabled:!0,doubleClickEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,enableEdgeHovering:!1,edgeHoverPrecision:5,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200};sigma.settings=sigma.utils.extend(sigma.settings||{},b)}.call(this),function(){"use strict";var a=function(){Object.defineProperty(this,"_handlers",{value:{}})};a.prototype.bind=function(a,b){var c,d,e,f;if(1===arguments.length&&"object"==typeof arguments[0])for(a in arguments[0])this.bind(a,arguments[0][a]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";for(f="string"==typeof a?a.split(" "):a,c=0,d=f.length;c!==d;c+=1)(e=f[c])&&(this._handlers[e]||(this._handlers[e]=[]),this._handlers[e].push({handler:b}))}return this},a.prototype.unbind=function(a,b){var c,d,e,f,g,h,i,j="string"==typeof a?a.split(" "):a;if(!arguments.length){for(g in this._handlers)delete this._handlers[g];return this}if(b)for(c=0,d=j.length;c!==d;c+=1){if(i=j[c],this._handlers[i]){for(h=[],e=0,f=this._handlers[i].length;e!==f;e+=1)this._handlers[i][e].handler!==b&&h.push(this._handlers[i][e]);this._handlers[i]=h}this._handlers[i]&&0===this._handlers[i].length&&delete this._handlers[i]}else for(c=0,d=j.length;c!==d;c+=1)delete this._handlers[j[c]];return this},a.prototype.dispatchEvent=function(a,b){var c,d,e,f,g,h,i,j=this,k="string"==typeof a?a.split(" "):a;for(b=void 0===b?{}:b,c=0,d=k.length;c!==d;c+=1)if(i=k[c],this._handlers[i]){for(h=j.getEvent(i,b),g=[],e=0,f=this._handlers[i].length;e!==f;e+=1)this._handlers[i][e].handler(h),this._handlers[i][e].one||g.push(this._handlers[i][e]);this._handlers[i]=g}return this},a.prototype.getEvent=function(a,b){return{type:a,data:b||{},target:this}},a.extend=function(b,c){var d;for(d in a.prototype)a.prototype.hasOwnProperty(d)&&(b[d]=a.prototype[d]);a.apply(b,c)},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=a):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.dispatcher=a):this.dispatcher=a}.call(this),function(){"use strict";var a=function(){var b,c,d={},e=Array.prototype.slice.call(arguments,0),f=function(a,b){var c,g,h,i;{if(1!==arguments.length||"string"!=typeof a){if("object"==typeof a&&"string"==typeof b)return void 0!==(a||{})[b]?a[b]:f(b);for(c="object"==typeof a&&void 0===b?a:{},"string"==typeof a&&(c[a]=b),g=0,i=Object.keys(c),h=i.length;g<h;g++)d[i[g]]=c[i[g]];return this}if(void 0!==d[a])return d[a];for(g=0,h=e.length;g<h;g++)if(void 0!==e[g][a])return e[g][a]}};for(f.embedObjects=function(){var b=e.concat(d).concat(Array.prototype.splice.call(arguments,0));return a.apply({},b)},b=0,c=arguments.length;b<c;b++)f(arguments[b]);return f};void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=a):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.configurable=a):this.configurable=a}.call(this),function(a){"use strict";function b(a,b,c){return function(){var d,e;for(d in h[a])h[a][d].apply(b,arguments);e=c.apply(b,arguments);for(d in g[a])g[a][d].apply(b,arguments);return e}}function c(a){var b;for(b in a)"hasOwnProperty"in a&&!a.hasOwnProperty(b)||delete a[b];return a}var d=Object.create(null),e=Object.create(null),f=Object.create(null),g=Object.create(null),h=Object.create(null),i={immutable:!0,clone:!0},j=function(a){return i[a]},k=function(a){var c,e,g;g={settings:a||j,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsIndex:Object.create(null),outNeighborsIndex:Object.create(null),allNeighborsIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)};for(c in f)f[c].call(g);for(c in d)e=b(c,g,d[c]),this[c]=e,g[c]=e};k.addMethod=function(a,b){if("string"!=typeof a||"function"!=typeof b||2!==arguments.length)throw"addMethod: Wrong arguments.";if(d[a]||k[a])throw'The method "'+a+'" already exists.';return d[a]=b,g[a]=Object.create(null),h[a]=Object.create(null),this},k.hasMethod=function(a){return!(!d[a]&&!k[a])},k.attach=function(a,b,c,d){if("string"!=typeof a||"string"!=typeof b||"function"!=typeof c||arguments.length<3||arguments.length>4)throw"attach: Wrong arguments.";var e;if("constructor"===a)e=f;else if(d){if(!h[a])throw'The method "'+a+'" does not exist.';e=h[a]}else{if(!g[a])throw'The method "'+a+'" does not exist.';e=g[a]}if(e[b])throw'A function "'+b+'" is already attached to the method "'+a+'".';return e[b]=c,this},k.attachBefore=function(a,b,c){return this.attach(a,b,c,!0)},k.addIndex=function(a,b){if("string"!=typeof a||Object(b)!==b||2!==arguments.length)throw"addIndex: Wrong arguments.";if(e[a])throw'The index "'+a+'" already exists.';var c;e[a]=b;for(c in b){if("function"!=typeof b[c])throw"The bindings must be functions.";k.attach(c,a,b[c])}return this},k.addMethod("addNode",function(a){if(Object(a)!==a||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof a.id&&"number"!=typeof a.id)throw"The node must have a string or number id.";if(this.nodesIndex[a.id])throw'The node "'+a.id+'" already exists.';var b,c=a.id,d=Object.create(null);if(this.settings("clone"))for(b in a)"id"!==b&&(d[b]=a[b]);else d=a;return this.settings("immutable")?Object.defineProperty(d,"id",{value:c,enumerable:!0}):d.id=c,this.inNeighborsIndex[c]=Object.create(null),this.outNeighborsIndex[c]=Object.create(null),this.allNeighborsIndex[c]=Object.create(null),this.inNeighborsCount[c]=0,this.outNeighborsCount[c]=0,this.allNeighborsCount[c]=0,this.nodesArray.push(d),this.nodesIndex[d.id]=d,this}),k.addMethod("addEdge",function(a){if(Object(a)!==a||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof a.id&&"number"!=typeof a.id)throw"The edge must have a string or number id.";if("string"!=typeof a.source&&"number"!=typeof a.source||!this.nodesIndex[a.source])throw"The edge source must have an existing node id.";if("string"!=typeof a.target&&"number"!=typeof a.target||!this.nodesIndex[a.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[a.id])throw'The edge "'+a.id+'" already exists.';var b,c=Object.create(null);if(this.settings("clone"))for(b in a)"id"!==b&&"source"!==b&&"target"!==b&&(c[b]=a[b]);else c=a;return this.settings("immutable")?(Object.defineProperty(c,"id",{value:a.id,enumerable:!0}),Object.defineProperty(c,"source",{value:a.source,enumerable:!0}),Object.defineProperty(c,"target",{value:a.target,enumerable:!0})):(c.id=a.id,c.source=a.source,c.target=a.target),this.edgesArray.push(c),this.edgesIndex[c.id]=c,this.inNeighborsIndex[c.target][c.source]||(this.inNeighborsIndex[c.target][c.source]=Object.create(null)),this.inNeighborsIndex[c.target][c.source][c.id]=c,this.outNeighborsIndex[c.source][c.target]||(this.outNeighborsIndex[c.source][c.target]=Object.create(null)),this.outNeighborsIndex[c.source][c.target][c.id]=c,this.allNeighborsIndex[c.source][c.target]||(this.allNeighborsIndex[c.source][c.target]=Object.create(null)),this.allNeighborsIndex[c.source][c.target][c.id]=c,c.target!==c.source&&(this.allNeighborsIndex[c.target][c.source]||(this.allNeighborsIndex[c.target][c.source]=Object.create(null)),this.allNeighborsIndex[c.target][c.source][c.id]=c),this.inNeighborsCount[c.target]++,this.outNeighborsCount[c.source]++,this.allNeighborsCount[c.target]++,this.allNeighborsCount[c.source]++,this}),k.addMethod("dropNode",function(a){if("string"!=typeof a&&"number"!=typeof a||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[a])throw'The node "'+a+'" does not exist.';var b,c,d;for(delete this.nodesIndex[a],b=0,d=this.nodesArray.length;b<d;b++)if(this.nodesArray[b].id===a){this.nodesArray.splice(b,1);break}for(b=this.edgesArray.length-1;b>=0;b--)this.edgesArray[b].source!==a&&this.edgesArray[b].target!==a||this.dropEdge(this.edgesArray[b].id);delete this.inNeighborsIndex[a],delete this.outNeighborsIndex[a],delete this.allNeighborsIndex[a],delete this.inNeighborsCount[a],delete this.outNeighborsCount[a],delete this.allNeighborsCount[a];for(c in this.nodesIndex)delete this.inNeighborsIndex[c][a],delete this.outNeighborsIndex[c][a],delete this.allNeighborsIndex[c][a];return this}),k.addMethod("dropEdge",function(a){if("string"!=typeof a&&"number"!=typeof a||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[a])throw'The edge "'+a+'" does not exist.';var b,c,d;for(d=this.edgesIndex[a],delete this.edgesIndex[a],b=0,c=this.edgesArray.length;b<c;b++)if(this.edgesArray[b].id===a){this.edgesArray.splice(b,1);break}return delete this.inNeighborsIndex[d.target][d.source][d.id],Object.keys(this.inNeighborsIndex[d.target][d.source]).length||delete this.inNeighborsIndex[d.target][d.source],delete this.outNeighborsIndex[d.source][d.target][d.id],Object.keys(this.outNeighborsIndex[d.source][d.target]).length||delete this.outNeighborsIndex[d.source][d.target],delete this.allNeighborsIndex[d.source][d.target][d.id],Object.keys(this.allNeighborsIndex[d.source][d.target]).length||delete this.allNeighborsIndex[d.source][d.target],d.target!==d.source&&(delete this.allNeighborsIndex[d.target][d.source][d.id],Object.keys(this.allNeighborsIndex[d.target][d.source]).length||delete this.allNeighborsIndex[d.target][d.source]),this.inNeighborsCount[d.target]--,this.outNeighborsCount[d.source]--,this.allNeighborsCount[d.source]--,this.allNeighborsCount[d.target]--,this}),k.addMethod("kill",function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),k.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,c(this.nodesIndex),c(this.edgesIndex),c(this.nodesIndex),c(this.inNeighborsIndex),c(this.outNeighborsIndex),c(this.allNeighborsIndex),c(this.inNeighborsCount),c(this.outNeighborsCount),c(this.allNeighborsCount),this}),k.addMethod("read",function(a){var b,c,d;for(c=a.nodes||[],b=0,d=c.length;b<d;b++)this.addNode(c[b]);for(c=a.edges||[],b=0,d=c.length;b<d;b++)this.addEdge(c[b]);return this}),k.addMethod("nodes",function(a){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&("string"==typeof a||"number"==typeof a))return this.nodesIndex[a];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(a)){var b,c,d=[];for(b=0,c=a.length;b<c;b++){if("string"!=typeof a[b]&&"number"!=typeof a[b])throw"nodes: Wrong arguments.";d.push(this.nodesIndex[a[b]])}return d}throw"nodes: Wrong arguments."}),k.addMethod("degree",function(a,b){if(b={in:this.inNeighborsCount,out:this.outNeighborsCount}[b||""]||this.allNeighborsCount,"string"==typeof a||"number"==typeof a)return b[a];if("[object Array]"===Object.prototype.toString.call(a)){var c,d,e=[];for(c=0,d=a.length;c<d;c++){if("string"!=typeof a[c]&&"number"!=typeof a[c])throw"degree: Wrong arguments.";e.push(b[a[c]])}return e}throw"degree: Wrong arguments."}),k.addMethod("edges",function(a){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&("string"==typeof a||"number"==typeof a))return this.edgesIndex[a];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(a)){var b,c,d=[];for(b=0,c=a.length;b<c;b++){if("string"!=typeof a[b]&&"number"!=typeof a[b])throw"edges: Wrong arguments.";d.push(this.edgesIndex[a[b]])}return d}throw"edges: Wrong arguments."}),"undefined"!=typeof sigma?(sigma.classes=sigma.classes||Object.create(null),sigma.classes.graph=k):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports.graph=k):this.graph=k}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.classes"),sigma.classes.camera=function(a,b,c,d){sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:b}),Object.defineProperty(this,"id",{value:a}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+a+":"}),Object.defineProperty(this,"prefix",{value:"cam"+a+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof d&&d?c.embedObject(d):c},sigma.classes.camera.prototype.goTo=function(b){if(!this.settings("enableCamera"))return this;var c,d,e=b||{},f=["x","y","ratio","angle"];for(c=0,d=f.length;c<d;c++)if(e[f[c]]!==a){if("number"!=typeof e[f[c]]||isNaN(e[f[c]]))throw'Value for "'+f[c]+'" is not a number.';this[f[c]]=e[f[c]]}return this.dispatchEvent("coordinatesUpdated"),this},sigma.classes.camera.prototype.applyView=function(b,c,d){d=d||{},c=c!==a?c:this.prefix,b=b!==a?b:this.readPrefix;var e,f,g,h=d.nodes||this.graph.nodes(),i=d.edges||this.graph.edges(),j=Math.cos(this.angle)/this.ratio,k=Math.sin(this.angle)/this.ratio,l=Math.pow(this.ratio,this.settings("nodesPowRatio")),m=Math.pow(this.ratio,this.settings("edgesPowRatio")),n=(d.width||0)/2-this.x*j-this.y*k,o=(d.height||0)/2-this.y*j+this.x*k;for(e=0,f=h.length;e<f;e++)g=h[e],g[c+"x"]=(g[b+"x"]||0)*j+(g[b+"y"]||0)*k+n,g[c+"y"]=(g[b+"y"]||0)*j-(g[b+"x"]||0)*k+o,g[c+"size"]=(g[b+"size"]||0)/l;for(e=0,f=i.length;e<f;e++)i[e][c+"size"]=(i[e][b+"size"]||0)/m;return this},sigma.classes.camera.prototype.graphPosition=function(a,b,c){var d=0,e=0,f=Math.cos(this.angle),g=Math.sin(this.angle);return c||(d=-(this.x*f+this.y*g)/this.ratio,e=-(this.y*f-this.x*g)/this.ratio),{x:(a*f+b*g)/this.ratio+d,y:(b*f-a*g)/this.ratio+e}},sigma.classes.camera.prototype.cameraPosition=function(a,b,c){var d=0,e=0,f=Math.cos(this.angle),g=Math.sin(this.angle);return c||(d=-(this.x*f+this.y*g)/this.ratio,e=-(this.y*f-this.x*g)/this.ratio),{x:((a-d)*f-(b-e)*g)*this.ratio,y:((b-e)*f+(a-d)*g)*this.ratio}},sigma.classes.camera.prototype.getMatrix=function(){var a=sigma.utils.matrices.scale(1/this.ratio),b=sigma.utils.matrices.rotation(this.angle),c=sigma.utils.matrices.translation(-this.x,-this.y);return sigma.utils.matrices.multiply(c,sigma.utils.matrices.multiply(b,a))},sigma.classes.camera.prototype.getRectangle=function(a,b){var c=this.cameraPosition(a,0,!0),d=this.cameraPosition(0,b,!0),e=this.cameraPosition(a/2,b/2,!0),f=this.cameraPosition(a/4,0,!0).x,g=this.cameraPosition(0,b/4,!0).y;return{x1:this.x-e.x-f,y1:this.y-e.y-g,x2:this.x-e.x+f+c.x,y2:this.y-e.y-g+c.y,height:Math.sqrt(Math.pow(d.x,2)+Math.pow(d.y+2*g,2))}}}.call(this),function(a){"use strict";function b(a,b){var c=b.x+b.width/2,d=b.y+b.height/2,e=a.y<d,f=a.x<c;return e?f?0:1:f?2:3}function c(a,b){for(var c=[],d=0;d<4;d++)a.x2>=b[d][0].x&&a.x1<=b[d][1].x&&a.y1+a.height>=b[d][0].y&&a.y1<=b[d][2].y&&c.push(d);return c}function d(a,b){for(var c=[],d=0;d<4;d++)j.collision(a,b[d])&&c.push(d);return c}function e(a,b){var c,d,e=b.level+1,f=Math.round(b.bounds.width/2),g=Math.round(b.bounds.height/2),h=Math.round(b.bounds.x),j=Math.round(b.bounds.y);switch(a){case 0:c=h,d=j;break;case 1:c=h+f,d=j;break;case 2:c=h,d=j+g;break;case 3:c=h+f,d=j+g}return i({x:c,y:d,width:f,height:g},e,b.maxElements,b.maxLevel)}function f(b,d,g){if(g.level<g.maxLevel)for(var h=c(d,g.corners),i=0,j=h.length;i<j;i++)g.nodes[h[i]]===a&&(g.nodes[h[i]]=e(h[i],g)),f(b,d,g.nodes[h[i]]);else g.elements.push(b)}function g(c,d){if(d.level<d.maxLevel){var e=b(c,d.bounds);return d.nodes[e]!==a?g(c,d.nodes[e]):[]}return d.elements}function h(b,c,d,e){if(e=e||{},c.level<c.maxLevel)for(var f=d(b,c.corners),g=0,i=f.length;g<i;g++)c.nodes[f[g]]!==a&&h(b,c.nodes[f[g]],d,e);else for(var j=0,k=c.elements.length;j<k;j++)e[c.elements[j].id]===a&&(e[c.elements[j].id]=c.elements[j]);return e}function i(a,b,c,d){return{level:b||0,bounds:a,corners:j.splitSquare(a),maxElements:c||20,maxLevel:d||4,elements:[],nodes:[]}}var j={pointToSquare:function(a){return{x1:a.x-a.size,y1:a.y-a.size,x2:a.x+a.size,y2:a.y-a.size,height:2*a.size}},isAxisAligned:function(a){return a.x1===a.x2||a.y1===a.y2},axisAlignedTopPoints:function(a){return a.y1===a.y2&&a.x1<a.x2?a:a.x1===a.x2&&a.y2>a.y1?{x1:a.x1-a.height,y1:a.y1,x2:a.x1,y2:a.y1,height:a.height}:a.x1===a.x2&&a.y2<a.y1?{x1:a.x1,y1:a.y2,x2:a.x2+a.height,y2:a.y2,height:a.height}:{x1:a.x2,y1:a.y1-a.height,x2:a.x1,y2:a.y1-a.height,height:a.height}},lowerLeftCoor:function(a){var b=Math.sqrt(Math.pow(a.x2-a.x1,2)+Math.pow(a.y2-a.y1,2));return{x:a.x1-(a.y2-a.y1)*a.height/b,y:a.y1+(a.x2-a.x1)*a.height/b}},lowerRightCoor:function(a,b){return{x:b.x-a.x1+a.x2,y:b.y-a.y1+a.y2}},rectangleCorners:function(a){var b=this.lowerLeftCoor(a),c=this.lowerRightCoor(a,b);return[{x:a.x1,y:a.y1},{x:a.x2,y:a.y2},{x:b.x,y:b.y},{x:c.x,y:c.y}]},splitSquare:function(a){return[[{x:a.x,y:a.y},{x:a.x+a.width/2,y:a.y},{x:a.x,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height/2}],[{x:a.x+a.width/2,y:a.y},{x:a.x+a.width,y:a.y},{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x+a.width,y:a.y+a.height/2}],[{x:a.x,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x,y:a.y+a.height},{x:a.x+a.width/2,y:a.y+a.height}],[{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x+a.width,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height},{x:a.x+a.width,y:a.y+a.height}]]},axis:function(a,b){return[{x:a[1].x-a[0].x,y:a[1].y-a[0].y},{x:a[1].x-a[3].x,y:a[1].y-a[3].y},{x:b[0].x-b[2].x,y:b[0].y-b[2].y},{x:b[0].x-b[1].x,y:b[0].y-b[1].y}]},projection:function(a,b){var c=(a.x*b.x+a.y*b.y)/(Math.pow(b.x,2)+Math.pow(b.y,2));return{x:c*b.x,y:c*b.y}},axisCollision:function(a,b,c){for(var d=[],e=[],f=0;f<4;f++){var g=this.projection(b[f],a),h=this.projection(c[f],a);d.push(g.x*a.x+g.y*a.y),e.push(h.x*a.x+h.y*a.y)}var i=Math.max.apply(Math,d),j=Math.max.apply(Math,e),k=Math.min.apply(Math,d);return Math.min.apply(Math,e)<=i&&j>=k},collision:function(a,b){for(var c=this.axis(a,b),d=!0,e=0;e<4;e++)d=d&&this.axisCollision(c[e],a,b);return d}},k=function(){this._geom=j,this._tree=null,this._cache={query:!1,result:!1}};k.prototype.index=function(a,b){if(!b.bounds)throw"sigma.classes.quad.index: bounds information not given.";var c=b.prefix||"";this._tree=i(b.bounds,0,b.maxElements,b.maxLevel);for(var d=0,e=a.length;d<e;d++)f(a[d],j.pointToSquare({x:a[d][c+"x"],y:a[d][c+"y"],size:a[d][c+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},k.prototype.point=function(a,b){return this._tree?g({x:a,y:b},this._tree)||[]:[]},k.prototype.area=function(a){var b,e,f=JSON.stringify(a);if(this._cache.query===f)return this._cache.result;j.isAxisAligned(a)?(b=c,e=j.axisAlignedTopPoints(a)):(b=d,e=j.rectangleCorners(a));var g=this._tree?h(e,this._tree,b):[],i=[];for(var k in g)i.push(g[k]);return this._cache.query=f,this._cache.result=i,i},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=k):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports.quad=k):this.quad=k}.call(this),function(a){"use strict";function b(a,b){var c=b.x+b.width/2,d=b.y+b.height/2,e=a.y<d,f=a.x<c;return e?f?0:1:f?2:3}function c(a,b){for(var c=[],d=0;d<4;d++)a.x2>=b[d][0].x&&a.x1<=b[d][1].x&&a.y1+a.height>=b[d][0].y&&a.y1<=b[d][2].y&&c.push(d);return c}function d(a,b){for(var c=[],d=0;d<4;d++)j.collision(a,b[d])&&c.push(d);return c}function e(a,b){var c,d,e=b.level+1,f=Math.round(b.bounds.width/2),g=Math.round(b.bounds.height/2),h=Math.round(b.bounds.x),j=Math.round(b.bounds.y);switch(a){case 0:c=h,d=j;break;case 1:c=h+f,d=j;break;case 2:c=h,d=j+g;break;case 3:c=h+f,d=j+g}return i({x:c,y:d,width:f,height:g},e,b.maxElements,b.maxLevel)}function f(b,d,g){if(g.level<g.maxLevel)for(var h=c(d,g.corners),i=0,j=h.length;i<j;i++)g.nodes[h[i]]===a&&(g.nodes[h[i]]=e(h[i],g)),f(b,d,g.nodes[h[i]]);else g.elements.push(b)}function g(c,d){if(d.level<d.maxLevel){var e=b(c,d.bounds);return d.nodes[e]!==a?g(c,d.nodes[e]):[]}return d.elements}function h(b,c,d,e){if(e=e||{},c.level<c.maxLevel)for(var f=d(b,c.corners),g=0,i=f.length;g<i;g++)c.nodes[f[g]]!==a&&h(b,c.nodes[f[g]],d,e);else for(var j=0,k=c.elements.length;j<k;j++)e[c.elements[j].id]===a&&(e[c.elements[j].id]=c.elements[j]);return e}function i(a,b,c,d){return{level:b||0,bounds:a,corners:j.splitSquare(a),maxElements:c||40,maxLevel:d||8,elements:[],nodes:[]}}var j={pointToSquare:function(a){return{x1:a.x-a.size,y1:a.y-a.size,x2:a.x+a.size,y2:a.y-a.size,height:2*a.size}},lineToSquare:function(a){return a.y1<a.y2?a.x1<a.x2?{x1:a.x1-a.size,y1:a.y1-a.size,x2:a.x2+a.size,y2:a.y1-a.size,height:a.y2-a.y1+2*a.size}:{x1:a.x2-a.size,y1:a.y1-a.size,x2:a.x1+a.size,y2:a.y1-a.size,height:a.y2-a.y1+2*a.size}:a.x1<a.x2?{x1:a.x1-a.size,y1:a.y2-a.size,x2:a.x2+a.size,y2:a.y2-a.size,height:a.y1-a.y2+2*a.size}:{x1:a.x2-a.size,y1:a.y2-a.size,x2:a.x1+a.size,y2:a.y2-a.size,height:a.y1-a.y2+2*a.size}},quadraticCurveToSquare:function(a,b){var c=sigma.utils.getPointOnQuadraticCurve(.5,a.x1,a.y1,a.x2,a.y2,b.x,b.y),d=Math.min(a.x1,a.x2,c.x),e=Math.max(a.x1,a.x2,c.x),f=Math.min(a.y1,a.y2,c.y),g=Math.max(a.y1,a.y2,c.y);return{x1:d-a.size,y1:f-a.size,x2:e+a.size,y2:f-a.size,height:g-f+2*a.size}},selfLoopToSquare:function(a){var b=sigma.utils.getSelfLoopControlPoints(a.x,a.y,a.size),c=Math.min(a.x,b.x1,b.x2),d=Math.max(a.x,b.x1,b.x2),e=Math.min(a.y,b.y1,b.y2),f=Math.max(a.y,b.y1,b.y2);return{x1:c-a.size,y1:e-a.size,x2:d+a.size,y2:e-a.size,height:f-e+2*a.size}},isAxisAligned:function(a){return a.x1===a.x2||a.y1===a.y2},axisAlignedTopPoints:function(a){return a.y1===a.y2&&a.x1<a.x2?a:a.x1===a.x2&&a.y2>a.y1?{x1:a.x1-a.height,y1:a.y1,x2:a.x1,y2:a.y1,height:a.height}:a.x1===a.x2&&a.y2<a.y1?{x1:a.x1,y1:a.y2,x2:a.x2+a.height,y2:a.y2,height:a.height}:{x1:a.x2,y1:a.y1-a.height,x2:a.x1,y2:a.y1-a.height,height:a.height}},lowerLeftCoor:function(a){var b=Math.sqrt(Math.pow(a.x2-a.x1,2)+Math.pow(a.y2-a.y1,2));return{x:a.x1-(a.y2-a.y1)*a.height/b,y:a.y1+(a.x2-a.x1)*a.height/b}},lowerRightCoor:function(a,b){return{x:b.x-a.x1+a.x2,y:b.y-a.y1+a.y2}},rectangleCorners:function(a){var b=this.lowerLeftCoor(a),c=this.lowerRightCoor(a,b);return[{x:a.x1,y:a.y1},{x:a.x2,y:a.y2},{x:b.x,y:b.y},{x:c.x,y:c.y}]},splitSquare:function(a){return[[{x:a.x,y:a.y},{x:a.x+a.width/2,y:a.y},{x:a.x,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height/2}],[{x:a.x+a.width/2,y:a.y},{x:a.x+a.width,y:a.y},{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x+a.width,y:a.y+a.height/2}],[{x:a.x,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x,y:a.y+a.height},{x:a.x+a.width/2,y:a.y+a.height}],[{x:a.x+a.width/2,y:a.y+a.height/2},{x:a.x+a.width,y:a.y+a.height/2},{x:a.x+a.width/2,y:a.y+a.height},{x:a.x+a.width,y:a.y+a.height}]]},axis:function(a,b){return[{x:a[1].x-a[0].x,y:a[1].y-a[0].y},{x:a[1].x-a[3].x,y:a[1].y-a[3].y},{x:b[0].x-b[2].x,y:b[0].y-b[2].y},{x:b[0].x-b[1].x,y:b[0].y-b[1].y}]},projection:function(a,b){var c=(a.x*b.x+a.y*b.y)/(Math.pow(b.x,2)+Math.pow(b.y,2));return{x:c*b.x,y:c*b.y}},axisCollision:function(a,b,c){for(var d=[],e=[],f=0;f<4;f++){var g=this.projection(b[f],a),h=this.projection(c[f],a);d.push(g.x*a.x+g.y*a.y),e.push(h.x*a.x+h.y*a.y)}var i=Math.max.apply(Math,d),j=Math.max.apply(Math,e),k=Math.min.apply(Math,d);return Math.min.apply(Math,e)<=i&&j>=k},collision:function(a,b){for(var c=this.axis(a,b),d=!0,e=0;e<4;e++)d=d&&this.axisCollision(c[e],a,b);return d}},k=function(){this._geom=j,this._tree=null,this._cache={query:!1,result:!1},this._enabled=!0};k.prototype.index=function(a,b){if(!this._enabled)return this._tree;if(!b.bounds)throw"sigma.classes.edgequad.index: bounds information not given.";var c,d,e,g,h,k=b.prefix||"";this._tree=i(b.bounds,0,b.maxElements,b.maxLevel);for(var l=a.edges(),m=0,n=l.length;m<n;m++)d=a.nodes(l[m].source),e=a.nodes(l[m].target),h={x1:d[k+"x"],y1:d[k+"y"],x2:e[k+"x"],y2:e[k+"y"],size:l[m][k+"size"]||0},"curve"===l[m].type||"curvedArrow"===l[m].type?d.id===e.id?(g={x:d[k+"x"],y:d[k+"y"],size:d[k+"size"]||0},f(l[m],j.selfLoopToSquare(g),this._tree)):(c=sigma.utils.getQuadraticControlPoint(h.x1,h.y1,h.x2,h.y2),f(l[m],j.quadraticCurveToSquare(h,c),this._tree)):f(l[m],j.lineToSquare(h),this._tree);return this._cache={query:!1,result:!1},this._tree},k.prototype.point=function(a,b){return this._enabled&&this._tree?g({x:a,y:b},this._tree)||[]:[]},k.prototype.area=function(a){if(!this._enabled)return[];var b,e,f=JSON.stringify(a);if(this._cache.query===f)return this._cache.result;j.isAxisAligned(a)?(b=c,e=j.axisAlignedTopPoints(a)):(b=d,e=j.rectangleCorners(a));var g=this._tree?h(e,this._tree,b):[],i=[];for(var k in g)i.push(g[k]);return this._cache.query=f,this._cache.result=i,i},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.edgequad=k):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports.edgequad=k):this.edgequad=k}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.mouse=function(a,b,c){function d(a){var b,c,d;if(y("mouseEnabled")&&(v.dispatchEvent("mousemove",sigma.utils.mouseCoords(a)),q))return r=!0,s=!0,u&&clearTimeout(u),u=setTimeout(function(){r=!1},y("dragTimeout")),sigma.misc.animation.killAll(x),x.isMoving=!0,d=x.cameraPosition(sigma.utils.getX(a)-o,sigma.utils.getY(a)-p,!0),b=k-d.x,c=l-d.y,b===x.x&&c===x.y||(m=x.x,n=x.y,x.goTo({x:b,y:c})),a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}function e(a){if(y("mouseEnabled")&&q){q=!1,u&&clearTimeout(u),x.isMoving=!1;var b=sigma.utils.getX(a),c=sigma.utils.getY(a);r?(sigma.misc.animation.killAll(x),sigma.misc.animation.camera(x,{x:x.x+y("mouseInertiaRatio")*(x.x-m),y:x.y+y("mouseInertiaRatio")*(x.y-n)},{easing:"quadraticOut",duration:y("mouseInertiaDuration")})):o===b&&p===c||x.goTo({x:x.x,y:x.y}),v.dispatchEvent("mouseup",sigma.utils.mouseCoords(a)),r=!1}}function f(a){if(y("mouseEnabled"))switch(k=x.x,l=x.y,m=x.x,n=x.y,o=sigma.utils.getX(a),p=sigma.utils.getY(a),s=!1,t=(new Date).getTime(),a.which){case 2:break;case 3:v.dispatchEvent("rightclick",sigma.utils.mouseCoords(a,o,p));break;default:q=!0,v.dispatchEvent("mousedown",sigma.utils.mouseCoords(a,o,p))}}function g(a){y("mouseEnabled")&&v.dispatchEvent("mouseout")}function h(a){if(y("mouseEnabled")){var b=sigma.utils.mouseCoords(a);b.isDragging=(new Date).getTime()-t>100&&s,v.dispatchEvent("click",b)}return a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}function i(a){var b,c,d;if(y("mouseEnabled"))return c=1/y("doubleClickZoomingRatio"),v.dispatchEvent("doubleclick",sigma.utils.mouseCoords(a,o,p)),y("doubleClickEnabled")&&(b=x.cameraPosition(sigma.utils.getX(a)-sigma.utils.getCenter(a).x,sigma.utils.getY(a)-sigma.utils.getCenter(a).y,!0),d={duration:y("doubleClickZoomDuration")},sigma.utils.zoomTo(x,b.x,b.y,c,d)),a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}function j(a){var b,c,d,e=sigma.utils.getDelta(a);if(y("mouseEnabled")&&y("mouseWheelEnabled")&&0!==e)return c=e>0?1/y("zoomingRatio"):y("zoomingRatio"),b=x.cameraPosition(sigma.utils.getX(a)-sigma.utils.getCenter(a).x,sigma.utils.getY(a)-sigma.utils.getCenter(a).y,!0),d={duration:y("mouseZoomDuration")},sigma.utils.zoomTo(x,b.x,b.y,c,d),a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}var k,l,m,n,o,p,q,r,s,t,u,v=this,w=a,x=b,y=c;sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(w,"click",i),w.addEventListener("DOMMouseScroll",j,!1),w.addEventListener("mousewheel",j,!1),w.addEventListener("mousemove",d,!1),w.addEventListener("mousedown",f,!1),w.addEventListener("click",h,!1),w.addEventListener("mouseout",g,!1),document.addEventListener("mouseup",e,!1),this.kill=function(){sigma.utils.unbindDoubleClick(w,"click"),w.removeEventListener("DOMMouseScroll",j),w.removeEventListener("mousewheel",j),w.removeEventListener("mousemove",d),w.removeEventListener("mousedown",f),w.removeEventListener("click",h),w.removeEventListener("mouseout",g),document.removeEventListener("mouseup",e)}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.touch=function(a,b,c){function d(a){var b=sigma.utils.getOffset(B);return{x:a.pageX-b.left,y:a.pageY-b.top}}function e(a){if(D("touchEnabled")){var b,c,e,f,g,h;switch(E=a.touches,E.length){case 1:C.isMoving=!0,w=1,i=C.x,j=C.y,m=C.x,n=C.y,g=d(E[0]),q=g.x,r=g.y;break;case 2:return C.isMoving=!0,w=2,g=d(E[0]),h=d(E[1]),b=g.x,e=g.y,c=h.x,f=h.y,m=C.x,n=C.y,k=C.angle,l=C.ratio,i=C.x,j=C.y,q=b,r=e,s=c,t=f,u=Math.atan2(t-r,s-q),v=Math.sqrt((t-r)*(t-r)+(s-q)*(s-q)),a.preventDefault(),!1}}}function f(a){if(D("touchEnabled")){E=a.touches;var b=D("touchInertiaRatio");switch(z&&(x=!1,clearTimeout(z)),w){case 2:if(1===a.touches.length){e(a),a.preventDefault();break}case 1:C.isMoving=!1,A.dispatchEvent("stopDrag"),x&&(y=!1,sigma.misc.animation.camera(C,{x:C.x+b*(C.x-m),y:C.y+b*(C.y-n)},{easing:"quadraticOut",duration:D("touchInertiaDuration")})),x=!1,w=0}}}function g(a){if(!y&&D("touchEnabled")){var b,c,e,f,g,h,B,F,G,H,I,J,K,L,M,N,O;switch(E=a.touches,x=!0,z&&clearTimeout(z),z=setTimeout(function(){x=!1},D("dragTimeout")),w){case 1:F=d(E[0]),b=F.x,e=F.y,H=C.cameraPosition(b-q,e-r,!0),L=i-H.x,M=j-H.y,L===C.x&&M===C.y||(m=C.x,n=C.y,C.goTo({x:L,y:M}),A.dispatchEvent("mousemove",sigma.utils.mouseCoords(a,F.x,F.y)),A.dispatchEvent("drag"));break;case 2:F=d(E[0]),G=d(E[1]),b=F.x,e=F.y,c=G.x,f=G.y,I=C.cameraPosition((q+s)/2-sigma.utils.getCenter(a).x,(r+t)/2-sigma.utils.getCenter(a).y,!0),B=C.cameraPosition((b+c)/2-sigma.utils.getCenter(a).x,(e+f)/2-sigma.utils.getCenter(a).y,!0),J=Math.atan2(f-e,c-b)-u,K=Math.sqrt((f-e)*(f-e)+(c-b)*(c-b))/v,b=I.x,e=I.y,N=l/K,b*=K,e*=K,O=k-J,g=Math.cos(-J),h=Math.sin(-J),c=b*g+e*h,f=e*g-b*h,b=c,e=f,L=b-B.x+i,M=e-B.y+j,N===C.ratio&&O===C.angle&&L===C.x&&M===C.y||(m=C.x,n=C.y,o=C.angle,p=C.ratio,C.goTo({x:L,y:M,angle:O,ratio:N}),A.dispatchEvent("drag"))}return a.preventDefault(),!1}}function h(a){var b,c,e;if(a.touches&&1===a.touches.length&&D("touchEnabled"))return y=!0,c=1/D("doubleClickZoomingRatio"),b=d(a.touches[0]),A.dispatchEvent("doubleclick",sigma.utils.mouseCoords(a,b.x,b.y)),D("doubleClickEnabled")&&(b=C.cameraPosition(b.x-sigma.utils.getCenter(a).x,b.y-sigma.utils.getCenter(a).y,!0),e={duration:D("doubleClickZoomDuration"),onComplete:function(){y=!1}},sigma.utils.zoomTo(C,b.x,b.y,c,e)),a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=this,B=a,C=b,D=c,E=[];sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(B,"touchstart",h),B.addEventListener("touchstart",e,!1),B.addEventListener("touchend",f,!1),B.addEventListener("touchcancel",f,!1),B.addEventListener("touchleave",f,!1),B.addEventListener("touchmove",g,!1),this.kill=function(){sigma.utils.unbindDoubleClick(B,"touchstart"),B.addEventListener("touchstart",e),B.addEventListener("touchend",f),B.addEventListener("touchcancel",f),B.addEventListener("touchleave",f),B.addEventListener("touchmove",g)}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.canvas=function(a,b,c,d){if("object"!=typeof d)throw"sigma.renderers.canvas: Wrong arguments.";if(!(d.container instanceof HTMLElement))throw"Container not found.";var e,f,g,h;for(sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=a,this.camera=b,this.contexts={},this.domElements={},this.options=d,this.container=this.options.container,this.settings="object"==typeof d.settings&&d.settings?c.embedObjects(d.settings):c,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],g=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],e=0,f=g.length;e<f;e++)h="function"==typeof g[e]?g[e]:sigma.captors[g[e]],this.captors.push(new h(this.domElements.mouse,this.camera,this.settings));sigma.misc.bindEvents.call(this,this.options.prefix),sigma.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},sigma.renderers.canvas.prototype.render=function(b){b=b||{};var c,d,e,f,g,h,i,j,k,l,m,n,o,p={},q=this.graph,r=this.graph.nodes,s=(this.options.prefix,this.settings(b,"drawEdges")),t=this.settings(b,"drawNodes"),u=this.settings(b,"drawLabels"),v=this.settings(b,"drawEdgeLabels"),w=this.settings.embedObjects(b,{prefix:this.options.prefix});this.resize(!1),this.settings(b,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(s=!1),this.camera.applyView(a,this.options.prefix,{width:this.width,height:this.height}),this.clear();for(e in this.jobs)conrad.hasJob(e)&&conrad.killJob(e);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)p[c[d].id]=c[d];if(s){for(c=q.edges(),d=0,f=c.length;d<f;d++)g=c[d],!p[g.source]&&!p[g.target]||g.hidden||r(g.source).hidden||r(g.target).hidden||this.edgesOnScreen.push(g);if(this.settings(b,"batchEdgesDrawing"))h="edges_"+this.conradId,n=w("canvasEdgesBatchSize"),l=this.edgesOnScreen,f=l.length,k=0,i=Math.min(l.length,k+n),j=function(){for(o=this.contexts.edges.globalCompositeOperation,this.contexts.edges.globalCompositeOperation="destination-over",m=sigma.canvas.edges,d=k;d<i;d++)g=l[d],(m[g.type||this.settings(b,"defaultEdgeType")]||m.def)(g,q.nodes(g.source),q.nodes(g.target),this.contexts.edges,w);if(v)for(m=sigma.canvas.edges.labels,d=k;d<i;d++)g=l[d],g.hidden||(m[g.type||this.settings(b,"defaultEdgeType")]||m.def)(g,q.nodes(g.source),q.nodes(g.target),this.contexts.labels,w);return this.contexts.edges.globalCompositeOperation=o,i===l.length?(delete this.jobs[h],!1):(k=i+1,i=Math.min(l.length,k+n),!0)},this.jobs[h]=j,conrad.addJob(h,j.bind(this));else{for(m=sigma.canvas.edges,c=this.edgesOnScreen,d=0,f=c.length;d<f;d++)g=c[d],(m[g.type||this.settings(b,"defaultEdgeType")]||m.def)(g,q.nodes(g.source),q.nodes(g.target),this.contexts.edges,w);if(v)for(m=sigma.canvas.edges.labels,c=this.edgesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||(m[c[d].type||this.settings(b,"defaultEdgeType")]||m.def)(c[d],q.nodes(c[d].source),q.nodes(c[d].target),this.contexts.labels,w)}}if(t)for(m=sigma.canvas.nodes,c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||(m[c[d].type||this.settings(b,"defaultNodeType")]||m.def)(c[d],this.contexts.nodes,w);if(u)for(m=sigma.canvas.labels,c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||(m[c[d].type||this.settings(b,"defaultNodeType")]||m.def)(c[d],this.contexts.labels,w);return this.dispatchEvent("render"),this},sigma.renderers.canvas.prototype.initDOM=function(a,b){var c=document.createElement(a);c.style.position="absolute",c.setAttribute("class","sigma-"+b),this.domElements[b]=c,this.container.appendChild(c),"canvas"===a.toLowerCase()&&(this.contexts[b]=c.getContext("2d"))},sigma.renderers.canvas.prototype.resize=function(b,c){var d,e=this.width,f=this.height,g=sigma.utils.getPixelRatio();if(b!==a&&c!==a?(this.width=b,this.height=c):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,b=this.width,c=this.height),e!==this.width||f!==this.height)for(d in this.domElements)this.domElements[d].style.width=b+"px",this.domElements[d].style.height=c+"px","canvas"===this.domElements[d].tagName.toLowerCase()&&(this.domElements[d].setAttribute("width",b*g+"px"),this.domElements[d].setAttribute("height",c*g+"px"),1!==g&&this.contexts[d].scale(g,g));return this},sigma.renderers.canvas.prototype.clear=function(){for(var a in this.contexts)this.contexts[a].clearRect(0,0,this.width,this.height);return this},sigma.renderers.canvas.prototype.kill=function(){for(var a,b;b=this.captors.pop();)b.kill();delete this.captors;for(a in this.domElements)this.domElements[a].parentNode.removeChild(this.domElements[a]),delete this.domElements[a],delete this.contexts[a];delete this.domElements,delete this.contexts},sigma.utils.pkg("sigma.canvas.nodes"),sigma.utils.pkg("sigma.canvas.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.webgl=function(a,b,c,d){if("object"!=typeof d)throw"sigma.renderers.webgl: Wrong arguments.";if(!(d.container instanceof HTMLElement))throw"Container not found.";var e,f,g,h;for(sigma.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=a,this.camera=b,this.contexts={},this.domElements={},this.options=d,this.container=this.options.container,this.settings="object"==typeof d.settings&&d.settings?c.embedObjects(d.settings):c,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeIndicesArrays",{value:{}}),this.settings(d,"batchEdgesDrawing")?(this.initDOM("canvas","edges",!0),this.initDOM("canvas","nodes",!0)):(this.initDOM("canvas","scene",!0),this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],g=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],e=0,f=g.length;e<f;e++)h="function"==typeof g[e]?g[e]:sigma.captors[g[e]],this.captors.push(new h(this.domElements.mouse,this.camera,this.settings));sigma.misc.bindEvents.call(this,this.camera.prefix),sigma.misc.drawHovers.call(this,this.camera.prefix),this.resize()},sigma.renderers.webgl.prototype.process=function(){var a,b,c,d,e,f,g=this.graph,h=sigma.utils.extend(h,this.options),i=this.settings(h,"defaultEdgeType"),j=this.settings(h,"defaultNodeType");for(d in this.nodeFloatArrays)delete this.nodeFloatArrays[d];for(d in this.edgeFloatArrays)delete this.edgeFloatArrays[d];for(d in this.edgeIndicesArrays)delete this.edgeIndicesArrays[d];for(a=g.edges(),b=0,c=a.length;b<c;b++)e=a[b].type||i,d=e&&sigma.webgl.edges[e]?e:"def",this.edgeFloatArrays[d]||(this.edgeFloatArrays[d]={edges:[]}),this.edgeFloatArrays[d].edges.push(a[b]);for(a=g.nodes(),b=0,c=a.length;b<c;b++)e=a[b].type||j,d=e&&sigma.webgl.nodes[e]?e:"def",this.nodeFloatArrays[d]||(this.nodeFloatArrays[d]={nodes:[]}),this.nodeFloatArrays[d].nodes.push(a[b]);for(d in this.edgeFloatArrays){for(f=sigma.webgl.edges[d],a=this.edgeFloatArrays[d].edges,this.edgeFloatArrays[d].array=new Float32Array(a.length*f.POINTS*f.ATTRIBUTES),b=0,c=a.length;b<c;b++)a[b].hidden||g.nodes(a[b].source).hidden||g.nodes(a[b].target).hidden||f.addEdge(a[b],g.nodes(a[b].source),g.nodes(a[b].target),this.edgeFloatArrays[d].array,b*f.POINTS*f.ATTRIBUTES,h.prefix,this.settings);"function"==typeof f.computeIndices&&(this.edgeIndicesArrays[d]=f.computeIndices(this.edgeFloatArrays[d].array))}for(d in this.nodeFloatArrays)for(f=sigma.webgl.nodes[d],a=this.nodeFloatArrays[d].nodes,this.nodeFloatArrays[d].array=new Float32Array(a.length*f.POINTS*f.ATTRIBUTES),b=0,c=a.length;b<c;b++)this.nodeFloatArrays[d].array||(this.nodeFloatArrays[d].array=new Float32Array(a.length*f.POINTS*f.ATTRIBUTES)),a[b].hidden||f.addNode(a[b],this.nodeFloatArrays[d].array,b*f.POINTS*f.ATTRIBUTES,h.prefix,this.settings);return this},sigma.renderers.webgl.prototype.render=function(b){var c,d,e,f,g,h,i=this,j=(this.graph,this.contexts.nodes),k=this.contexts.edges,l=this.camera.getMatrix(),m=sigma.utils.extend(b,this.options),n=this.settings(m,"drawLabels"),o=this.settings(m,"drawEdges"),p=this.settings(m,"drawNodes");this.resize(!1),this.settings(m,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(o=!1),this.clear(),l=sigma.utils.matrices.multiply(l,sigma.utils.matrices.translation(this.width/2,this.height/2));for(f in this.jobs)conrad.hasJob(f)&&conrad.killJob(f);if(o)if(this.settings(m,"batchEdgesDrawing"))(function(){var a,b,c,d,e,f,g,h,i,j;c="edges_"+this.conradId,j=this.settings(m,"webglEdgesBatchSize"),a=Object.keys(this.edgeFloatArrays),a.length&&(b=0,i=sigma.webgl.edges[a[b]],e=this.edgeFloatArrays[a[b]].array,h=this.edgeIndicesArrays[a[b]],g=0,f=Math.min(g+j*i.POINTS,e.length/i.ATTRIBUTES),d=function(){return this.edgePrograms[a[b]]||(this.edgePrograms[a[b]]=i.initProgram(k)),g<f&&(k.useProgram(this.edgePrograms[a[b]]),i.render(k,this.edgePrograms[a[b]],e,{settings:this.settings,matrix:l,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(m,"webglOversamplingRatio"),start:g,count:f-g,indicesData:h})),f>=e.length/i.ATTRIBUTES&&b===a.length-1?(delete this.jobs[c],!1):(f>=e.length/i.ATTRIBUTES?(b++,e=this.edgeFloatArrays[a[b]].array,i=sigma.webgl.edges[a[b]],g=0,f=Math.min(g+j*i.POINTS,e.length/i.ATTRIBUTES)):(g=f,f=Math.min(g+j*i.POINTS,e.length/i.ATTRIBUTES)),!0)},this.jobs[c]=d,conrad.addJob(c,d.bind(this)))}).call(this);else for(f in this.edgeFloatArrays)h=sigma.webgl.edges[f],this.edgePrograms[f]||(this.edgePrograms[f]=h.initProgram(k)),this.edgeFloatArrays[f]&&(k.useProgram(this.edgePrograms[f]),h.render(k,this.edgePrograms[f],this.edgeFloatArrays[f].array,{settings:this.settings,matrix:l,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(m,"webglOversamplingRatio"),indicesData:this.edgeIndicesArrays[f]}));if(p){j.blendFunc(j.SRC_ALPHA,j.ONE_MINUS_SRC_ALPHA),j.enable(j.BLEND);for(f in this.nodeFloatArrays)h=sigma.webgl.nodes[f],this.nodePrograms[f]||(this.nodePrograms[f]=h.initProgram(j)),this.nodeFloatArrays[f]&&(j.useProgram(this.nodePrograms[f]),h.render(j,this.nodePrograms[f],this.nodeFloatArrays[f].array,{settings:this.settings,matrix:l,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(m,"webglOversamplingRatio")}))}if(n)for(c=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(a,a,{nodes:c,edges:[],width:this.width,height:this.height}),g=function(a){return i.settings({prefix:i.camera.prefix},a)},d=0,e=c.length;d<e;d++)c[d].hidden||(sigma.canvas.labels[c[d].type||this.settings(m,"defaultNodeType")]||sigma.canvas.labels.def)(c[d],this.contexts.labels,g);return this.dispatchEvent("render"),this},sigma.renderers.webgl.prototype.initDOM=function(a,b,c){var d=document.createElement(a),e=this;d.style.position="absolute",d.setAttribute("class","sigma-"+b),this.domElements[b]=d,this.container.appendChild(d),"canvas"===a.toLowerCase()&&(this.contexts[b]=d.getContext(c?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}),c&&(d.addEventListener("webglcontextlost",function(a){a.preventDefault()},!1),d.addEventListener("webglcontextrestored",function(a){e.render()},!1)))},sigma.renderers.webgl.prototype.resize=function(b,c){var d,e=this.width,f=this.height,g=sigma.utils.getPixelRatio();if(b!==a&&c!==a?(this.width=b,this.height=c):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,b=this.width,c=this.height),e!==this.width||f!==this.height)for(d in this.domElements)this.domElements[d].style.width=b+"px",this.domElements[d].style.height=c+"px","canvas"===this.domElements[d].tagName.toLowerCase()&&(this.contexts[d]&&this.contexts[d].scale?(this.domElements[d].setAttribute("width",b*g+"px"),this.domElements[d].setAttribute("height",c*g+"px"),1!==g&&this.contexts[d].scale(g,g)):(this.domElements[d].setAttribute("width",b*this.settings("webglOversamplingRatio")+"px"),this.domElements[d].setAttribute("height",c*this.settings("webglOversamplingRatio")+"px")));for(d in this.contexts)this.contexts[d]&&this.contexts[d].viewport&&this.contexts[d].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},sigma.renderers.webgl.prototype.clear=function(){return this.contexts.labels.clearRect(0,0,this.width,this.height),this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},sigma.renderers.webgl.prototype.kill=function(){for(var a,b;b=this.captors.pop();)b.kill();delete this.captors;for(a in this.domElements)this.domElements[a].parentNode.removeChild(this.domElements[a]),delete this.domElements[a],delete this.contexts[a];delete this.domElements,delete this.contexts},sigma.utils.pkg("sigma.webgl.nodes"),sigma.utils.pkg("sigma.webgl.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.svg=function(a,b,c,d){if("object"!=typeof d)throw"sigma.renderers.svg: Wrong arguments.";if(!(d.container instanceof HTMLElement))throw"Container not found.";var e,f,g,h,i=this;for(sigma.classes.dispatcher.extend(this),this.graph=a,this.camera=b,this.domElements={graph:null,groups:{},nodes:{},edges:{},labels:{},hovers:{}},this.measurementCanvas=null,this.options=d,this.container=this.options.container,this.settings="object"==typeof d.settings&&d.settings?c.embedObjects(d.settings):c,this.settings("freeStyle",!!this.options.freeStyle),this.settings("xmlns","http://www.w3.org/2000/svg"),this.nodesOnScreen=[],this.edgesOnScreen=[],this.options.prefix="renderer"+sigma.utils.id()+":",this.initDOM("svg"),this.captors=[],g=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],e=0,f=g.length;e<f;e++)h="function"==typeof g[e]?g[e]:sigma.captors[g[e]],this.captors.push(new h(this.domElements.graph,this.camera,this.settings));window.addEventListener("resize",function(){i.resize()}),sigma.misc.bindDOMEvents.call(this,this.domElements.graph),this.bindHovers(this.options.prefix),this.resize(!1)},sigma.renderers.svg.prototype.render=function(b){b=b||{};var c,d,e,f,g,h,i,j,k,l={},m=this.graph,n=this.graph.nodes,o=(this.options.prefix,this.settings(b,"drawEdges")),p=this.settings(b,"drawNodes"),q=(this.settings(b,"drawLabels"),this.settings.embedObjects(b,{prefix:this.options.prefix,forceLabels:this.options.forceLabels}));for(this.settings(b,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(o=!1),this.camera.applyView(a,this.options.prefix,{width:this.width,height:this.height}),this.hideDOMElements(this.domElements.nodes),this.hideDOMElements(this.domElements.edges),this.hideDOMElements(this.domElements.labels),this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)l[c[d].id]=c[d];for(c=m.edges(),d=0,f=c.length;d<f;d++)g=c[d],!l[g.source]&&!l[g.target]||g.hidden||n(g.source).hidden||n(g.target).hidden||this.edgesOnScreen.push(g);if(j=sigma.svg.nodes,k=sigma.svg.labels,p)for(c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||this.domElements.nodes[c[d].id]||(e=(j[c[d].type]||j.def).create(c[d],q),this.domElements.nodes[c[d].id]=e,this.domElements.groups.nodes.appendChild(e),e=(k[c[d].type]||k.def).create(c[d],q),this.domElements.labels[c[d].id]=e,this.domElements.groups.labels.appendChild(e));if(p)for(c=this.nodesOnScreen,d=0,f=c.length;d<f;d++)c[d].hidden||((j[c[d].type]||j.def).update(c[d],this.domElements.nodes[c[d].id],q),(k[c[d].type]||k.def).update(c[d],this.domElements.labels[c[d].id],q));if(j=sigma.svg.edges,o)for(c=this.edgesOnScreen,d=0,f=c.length;d<f;d++)this.domElements.edges[c[d].id]||(h=n(c[d].source),i=n(c[d].target),e=(j[c[d].type]||j.def).create(c[d],h,i,q),this.domElements.edges[c[d].id]=e,this.domElements.groups.edges.appendChild(e));if(o)for(c=this.edgesOnScreen,d=0,f=c.length;d<f;d++)h=n(c[d].source),i=n(c[d].target),(j[c[d].type]||j.def).update(c[d],this.domElements.edges[c[d].id],h,i,q);return this.dispatchEvent("render"),this},sigma.renderers.svg.prototype.initDOM=function(a){var b,c,d,e=document.createElementNS(this.settings("xmlns"),a),f=this.settings("classPrefix");e.style.position="absolute",e.setAttribute("class",f+"-svg"),e.setAttribute("xmlns",this.settings("xmlns")),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("version","1.1");var g=document.createElement("canvas");g.setAttribute("class",f+"-measurement-canvas"),this.domElements.graph=this.container.appendChild(e);var h=["edges","nodes","labels","hovers"];for(d=0,c=h.length;d<c;d++)b=document.createElementNS(this.settings("xmlns"),"g"),b.setAttributeNS(null,"id",f+"-group-"+h[d]),b.setAttributeNS(null,"class",f+"-group"),this.domElements.groups[h[d]]=this.domElements.graph.appendChild(b);this.container.appendChild(g),this.measurementCanvas=g.getContext("2d")},sigma.renderers.svg.prototype.hideDOMElements=function(a){var b,c;for(c in a)b=a[c],sigma.svg.utils.hide(b);return this},sigma.renderers.svg.prototype.bindHovers=function(a){function b(b){var c=b.data.node,d=g.settings.embedObjects({prefix:a});if(d("enableHovering")){var h=(f[c.type]||f.def).create(c,g.domElements.nodes[c.id],g.measurementCanvas,d);g.domElements.hovers[c.id]=h,g.domElements.groups.hovers.appendChild(h),e=c}}function c(b){var c=b.data.node;g.settings.embedObjects({prefix:a})("enableHovering")&&(g.domElements.groups.hovers.removeChild(g.domElements.hovers[c.id]),e=null,delete g.domElements.hovers[c.id],g.domElements.groups.nodes.appendChild(g.domElements.nodes[c.id]))}function d(){if(e){var b=g.settings.embedObjects({prefix:a});g.domElements.groups.hovers.removeChild(g.domElements.hovers[e.id]),delete g.domElements.hovers[e.id];var c=(f[e.type]||f.def).create(e,g.domElements.nodes[e.id],g.measurementCanvas,b);g.domElements.hovers[e.id]=c,g.domElements.groups.hovers.appendChild(c)}}var e,f=sigma.svg.hovers,g=this;this.bind("overNode",b),this.bind("outNode",c),this.bind("render",d)},sigma.renderers.svg.prototype.resize=function(b,c){var d=this.width,e=this.height,f=1;return b!==a&&c!==a?(this.width=b,this.height=c):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,b=this.width,c=this.height),d===this.width&&e===this.height||(this.domElements.graph.style.width=b+"px",this.domElements.graph.style.height=c+"px","svg"===this.domElements.graph.tagName.toLowerCase()&&(this.domElements.graph.setAttribute("width",b*f),this.domElements.graph.setAttribute("height",c*f))),this},sigma.utils.pkg("sigma.svg.nodes"),sigma.utils.pkg("sigma.svg.edges"),sigma.utils.pkg("sigma.svg.labels")}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers");var b,c=!!a.WebGLRenderingContext;if(c){b=document.createElement("canvas");try{c=!(!b.getContext("webgl")&&!b.getContext("experimental-webgl"))}catch(a){c=!1}}sigma.renderers.def=c?sigma.renderers.webgl:sigma.renderers.canvas}(this),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(a,b,c,d,e){var f=sigma.utils.floatColor(a.color||e("defaultNodeColor"));b[c++]=a[d+"x"],b[c++]=a[d+"y"],b[c++]=a[d+"size"],b[c++]=f,b[c++]=0,b[c++]=a[d+"x"],b[c++]=a[d+"y"],b[c++]=a[d+"size"],b[c++]=f,b[c++]=2*Math.PI/3,b[c++]=a[d+"x"],b[c++]=a[d+"y"],b[c++]=a[d+"size"],b[c++]=f,b[c++]=4*Math.PI/3},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_position"),g=a.getAttribLocation(b,"a_size"),h=a.getAttribLocation(b,"a_color"),i=a.getAttribLocation(b,"a_angle"),j=a.getUniformLocation(b,"u_resolution"),k=a.getUniformLocation(b,"u_matrix"),l=a.getUniformLocation(b,"u_ratio"),m=a.getUniformLocation(b,"u_scale");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.DYNAMIC_DRAW),a.uniform2f(j,d.width,d.height),a.uniform1f(l,1/Math.pow(d.ratio,d.settings("nodesPowRatio"))),a.uniform1f(m,d.scalingRatio),a.uniformMatrix3fv(k,!1,d.matrix),a.enableVertexAttribArray(f),a.enableVertexAttribArray(g),a.enableVertexAttribArray(h),a.enableVertexAttribArray(i),a.vertexAttribPointer(f,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(g,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(h,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),a.vertexAttribPointer(i,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),a.drawArrays(a.TRIANGLES,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(a,b,c,d,e){b[c++]=a[d+"x"],b[c++]=a[d+"y"],b[c++]=a[d+"size"],b[c++]=sigma.utils.floatColor(a.color||e("defaultNodeColor"))},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_position"),g=a.getAttribLocation(b,"a_size"),h=a.getAttribLocation(b,"a_color"),i=a.getUniformLocation(b,"u_resolution"),j=a.getUniformLocation(b,"u_matrix"),k=a.getUniformLocation(b,"u_ratio"),l=a.getUniformLocation(b,"u_scale");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.DYNAMIC_DRAW),a.uniform2f(i,d.width,d.height),a.uniform1f(k,1/Math.pow(d.ratio,d.settings("nodesPowRatio"))),a.uniform1f(l,d.scalingRatio),a.uniformMatrix3fv(j,!1,d.matrix),a.enableVertexAttribArray(f),a.enableVertexAttribArray(g),a.enableVertexAttribArray(h),a.vertexAttribPointer(f,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(g,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(h,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),a.drawArrays(a.POINTS,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","void main(void) {","float border = 0.01;","float radius = 0.5;","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_PointCoord - vec2(0.5, 0.5);","float dist = radius - sqrt(m.x * m.x + m.y * m.y);","float t = 0.0;","if (dist > border)","t = 1.0;","else if (dist > 0.0)","t = dist / border;","gl_FragColor = mix(color0, color, t);","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(a,b,c,d,e,f,g){var h=(a[f+"size"]||1)/2,i=b[f+"x"],j=b[f+"y"],k=c[f+"x"],l=c[f+"y"],m=a.color;if(!m)switch(g("edgeColor")){case"source":m=b.color||g("defaultNodeColor");break;case"target":m=c.color||g("defaultNodeColor");break;default:m=g("defaultEdgeColor")}m=sigma.utils.floatColor(m),d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=0,d[e++]=m,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=1,d[e++]=m,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=0,d[e++]=m,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=0,d[e++]=m,d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=1,d[e++]=m,d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=0,d[e++]=m},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_color"),g=a.getAttribLocation(b,"a_position1"),h=a.getAttribLocation(b,"a_position2"),i=a.getAttribLocation(b,"a_thickness"),j=a.getAttribLocation(b,"a_minus"),k=a.getUniformLocation(b,"u_resolution"),l=a.getUniformLocation(b,"u_matrix"),m=a.getUniformLocation(b,"u_matrixHalfPi"),n=a.getUniformLocation(b,"u_matrixHalfPiMinus"),o=a.getUniformLocation(b,"u_ratio"),p=a.getUniformLocation(b,"u_scale");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.STATIC_DRAW),a.uniform2f(k,d.width,d.height),a.uniform1f(o,d.ratio/Math.pow(d.ratio,d.settings("edgesPowRatio"))),a.uniform1f(p,d.scalingRatio),a.uniformMatrix3fv(l,!1,d.matrix),a.uniformMatrix2fv(m,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),a.uniformMatrix2fv(n,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),a.enableVertexAttribArray(f),a.enableVertexAttribArray(g),a.enableVertexAttribArray(h),a.enableVertexAttribArray(i),a.enableVertexAttribArray(j),a.vertexAttribPointer(g,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(h,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(i,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),a.vertexAttribPointer(j,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),a.vertexAttribPointer(f,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),a.drawArrays(a.TRIANGLES,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(a,b,c,d,e,f,g){var h=(a[f+"size"],b[f+"x"]),i=b[f+"y"],j=c[f+"x"],k=c[f+"y"],l=a.color;if(!l)switch(g("edgeColor")){case"source":l=b.color||g("defaultNodeColor");break;case"target":l=c.color||g("defaultNodeColor");break;default:l=g("defaultEdgeColor")}l=sigma.utils.floatColor(l),d[e++]=h,d[e++]=i,d[e++]=l,d[e++]=j,d[e++]=k,d[e++]=l},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_color"),g=a.getAttribLocation(b,"a_position"),h=a.getUniformLocation(b,"u_resolution"),i=a.getUniformLocation(b,"u_matrix");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.DYNAMIC_DRAW),a.uniform2f(h,d.width,d.height),a.uniformMatrix3fv(i,!1,d.matrix),a.enableVertexAttribArray(g),a.enableVertexAttribArray(f),a.vertexAttribPointer(g,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(f,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.lineWidth(3),a.drawArrays(a.LINES,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(a,b,c,d,e,f,g){var h=(a[f+"size"]||1)/2,i=b[f+"x"],j=b[f+"y"],k=c[f+"x"],l=c[f+"y"],m=c[f+"size"],n=a.color;if(!n)switch(g("edgeColor")){case"source":n=b.color||g("defaultNodeColor");break;case"target":n=c.color||g("defaultNodeColor");break;default:n=g("defaultEdgeColor")}n=sigma.utils.floatColor(n),d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=m,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=1,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=m,d[e++]=0,d[e++]=1,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=i,d[e++]=j,d[e++]=k,d[e++]=l,d[e++]=h,d[e++]=m,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=1,d[e++]=-1,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=1,d[e++]=0,d[e++]=n,d[e++]=k,d[e++]=l,d[e++]=i,d[e++]=j,d[e++]=h,d[e++]=m,d[e++]=1,d[e++]=0,d[e++]=1,d[e++]=1,d[e++]=n},render:function(a,b,c,d){var e,f=a.getAttribLocation(b,"a_pos1"),g=a.getAttribLocation(b,"a_pos2"),h=a.getAttribLocation(b,"a_thickness"),i=a.getAttribLocation(b,"a_tSize"),j=a.getAttribLocation(b,"a_delay"),k=a.getAttribLocation(b,"a_minus"),l=a.getAttribLocation(b,"a_head"),m=a.getAttribLocation(b,"a_headPosition"),n=a.getAttribLocation(b,"a_color"),o=a.getUniformLocation(b,"u_resolution"),p=a.getUniformLocation(b,"u_matrix"),q=a.getUniformLocation(b,"u_matrixHalfPi"),r=a.getUniformLocation(b,"u_matrixHalfPiMinus"),s=a.getUniformLocation(b,"u_ratio"),t=a.getUniformLocation(b,"u_nodeRatio"),u=a.getUniformLocation(b,"u_arrowHead"),v=a.getUniformLocation(b,"u_scale");e=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,c,a.STATIC_DRAW),a.uniform2f(o,d.width,d.height),a.uniform1f(s,d.ratio/Math.pow(d.ratio,d.settings("edgesPowRatio"))),a.uniform1f(t,Math.pow(d.ratio,d.settings("nodesPowRatio"))/d.ratio),a.uniform1f(u,5),a.uniform1f(v,d.scalingRatio),a.uniformMatrix3fv(p,!1,d.matrix),a.uniformMatrix2fv(q,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),a.uniformMatrix2fv(r,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),a.enableVertexAttribArray(f),a.enableVertexAttribArray(g),a.enableVertexAttribArray(h),a.enableVertexAttribArray(i),a.enableVertexAttribArray(j),a.enableVertexAttribArray(k),a.enableVertexAttribArray(l),a.enableVertexAttribArray(m),a.enableVertexAttribArray(n),a.vertexAttribPointer(f,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(g,2,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(h,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),a.vertexAttribPointer(i,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),a.vertexAttribPointer(j,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),a.vertexAttribPointer(k,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),a.vertexAttribPointer(l,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),a.vertexAttribPointer(m,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),a.vertexAttribPointer(n,1,a.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),a.drawArrays(a.TRIANGLES,d.start||0,d.count||c.length/this.ATTRIBUTES)},initProgram:function(a){var b,c;return b=sigma.utils.loadShader(a,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),a.VERTEX_SHADER),c=sigma.utils.loadShader(a,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),a.FRAGMENT_SHADER),sigma.utils.loadProgram(a,[b,c])}}}(),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.labels"),sigma.canvas.labels.def=function(a,b,c){var d,e=c("prefix")||"",f=a[e+"size"];f<c("labelThreshold")||a.label&&"string"==typeof a.label&&(d="fixed"===c("labelSize")?c("defaultLabelSize"):c("labelSizeRatio")*f,b.font=(c("fontStyle")?c("fontStyle")+" ":"")+d+"px "+c("font"),b.fillStyle="node"===c("labelColor")?a.color||c("defaultNodeColor"):c("defaultLabelColor"),b.fillText(a.label,Math.round(a[e+"x"]+f+3),Math.round(a[e+"y"]+d/3)))}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.hovers"),sigma.canvas.hovers.def=function(a,b,c){var d,e,f,g,h,i=c("hoverFontStyle")||c("fontStyle"),j=c("prefix")||"",k=a[j+"size"],l="fixed"===c("labelSize")?c("defaultLabelSize"):c("labelSizeRatio")*k;b.font=(i?i+" ":"")+l+"px "+(c("hoverFont")||c("font")),b.beginPath(),b.fillStyle="node"===c("labelHoverBGColor")?a.color||c("defaultNodeColor"):c("defaultHoverLabelBGColor"),a.label&&c("labelHoverShadow")&&(b.shadowOffsetX=0,b.shadowOffsetY=0,b.shadowBlur=8,b.shadowColor=c("labelHoverShadowColor")),a.label&&"string"==typeof a.label&&(d=Math.round(a[j+"x"]-l/2-2),e=Math.round(a[j+"y"]-l/2-2),f=Math.round(b.measureText(a.label).width+l/2+k+7),g=Math.round(l+4),h=Math.round(l/2+2),b.moveTo(d,e+h),b.arcTo(d,e,d+h,e,h),b.lineTo(d+f,e),b.lineTo(d+f,e+g),b.lineTo(d+h,e+g),b.arcTo(d,e+g,d,e+g-h,h),b.lineTo(d,e+h),b.closePath(),b.fill(),b.shadowOffsetX=0,b.shadowOffsetY=0,b.shadowBlur=0),c("borderSize")>0&&(b.beginPath(),b.fillStyle="node"===c("nodeBorderColor")?a.color||c("defaultNodeColor"):c("defaultNodeBorderColor"),b.arc(a[j+"x"],a[j+"y"],k+c("borderSize"),0,2*Math.PI,!0),b.closePath(),b.fill()),(sigma.canvas.nodes[a.type]||sigma.canvas.nodes.def)(a,b,c),a.label&&"string"==typeof a.label&&(b.fillStyle="node"===c("labelHoverColor")?a.color||c("defaultNodeColor"):c("defaultLabelHoverColor"),b.fillText(a.label,Math.round(a[j+"x"]+k+3),Math.round(a[j+"y"]+l/3)))}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.canvas.nodes"),sigma.canvas.nodes.def=function(a,b,c){var d=c("prefix")||"";b.fillStyle=a.color||c("defaultNodeColor"),b.beginPath(),b.arc(a[d+"x"],a[d+"y"],a[d+"size"],0,2*Math.PI,!0),b.closePath(),b.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.def=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.arrow=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=e("edgeColor"),i=e("defaultNodeColor"),j=e("defaultEdgeColor"),k=a[g+"size"]||1,l=c[g+"size"],m=b[g+"x"],n=b[g+"y"],o=c[g+"x"],p=c[g+"y"],q=Math.max(2.5*k,e("minArrowSize")),r=Math.sqrt(Math.pow(o-m,2)+Math.pow(p-n,2)),s=m+(o-m)*(r-q-l)/r,t=n+(p-n)*(r-q-l)/r,u=(o-m)*q/r,v=(p-n)*q/r;if(!f)switch(h){case"source":f=b.color||i;break;case"target":f=c.color||i;break;default:f=j}d.strokeStyle=f,d.lineWidth=k,d.beginPath(),d.moveTo(m,n),d.lineTo(s,t),d.stroke(),d.fillStyle=f,d.beginPath(),d.moveTo(s+u,t+v),d.lineTo(s+.6*v,t-.6*u),d.lineTo(s-.6*v,t+.6*u),d.lineTo(s+u,t+v),d.closePath(),d.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.def=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,h*=e("edgeHoverSizeRatio"),d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curve=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=e("edgeHoverSizeRatio")*(a[g+"size"]||1),i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor"),l={},m=b[g+"size"],n=b[g+"x"],o=b[g+"y"],p=c[g+"x"],q=c[g+"y"];if(l=b.id===c.id?sigma.utils.getSelfLoopControlPoints(n,o,m):sigma.utils.getQuadraticControlPoint(n,o,p,q),!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(n,o),b.id===c.id?d.bezierCurveTo(l.x1,l.y1,l.x2,l.y2,p,q):d.quadraticCurveTo(l.x,l.y,p,q),d.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.arrow=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=e("edgeColor"),i=e("defaultNodeColor"),j=e("defaultEdgeColor"),k=a[g+"size"]||1,l=c[g+"size"],m=b[g+"x"],n=b[g+"y"],o=c[g+"x"],p=c[g+"y"];k=a.hover?e("edgeHoverSizeRatio")*k:k;var q=2.5*k,r=Math.sqrt(Math.pow(o-m,2)+Math.pow(p-n,2)),s=m+(o-m)*(r-q-l)/r,t=n+(p-n)*(r-q-l)/r,u=(o-m)*q/r,v=(p-n)*q/r;if(!f)switch(h){case"source":f=b.color||i;break;case"target":f=c.color||i;break;default:f=j}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,d.strokeStyle=f,d.lineWidth=k,d.beginPath(),d.moveTo(m,n),d.lineTo(s,t),d.stroke(),d.fillStyle=f,d.beginPath(),d.moveTo(s+u,t+v),d.lineTo(s+.6*v,t-.6*u),d.lineTo(s-.6*v,t+.6*u),d.lineTo(s+u,t+v),d.closePath(),d.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curvedArrow=function(a,b,c,d,e){var f,g,h,i,j,k,l=a.color,m=e("prefix")||"",n=e("edgeColor"),o=e("defaultNodeColor"),p=e("defaultEdgeColor"),q={},r=e("edgeHoverSizeRatio")*(a[m+"size"]||1),s=c[m+"size"],t=b[m+"x"],u=b[m+"y"],v=c[m+"x"],w=c[m+"y"];if(q=b.id===c.id?sigma.utils.getSelfLoopControlPoints(t,u,s):sigma.utils.getQuadraticControlPoint(t,u,v,w),b.id===c.id?(f=Math.sqrt(Math.pow(v-q.x1,2)+Math.pow(w-q.y1,2)),g=2.5*r,h=q.x1+(v-q.x1)*(f-g-s)/f,i=q.y1+(w-q.y1)*(f-g-s)/f,j=(v-q.x1)*g/f,k=(w-q.y1)*g/f):(f=Math.sqrt(Math.pow(v-q.x,2)+Math.pow(w-q.y,2)),g=2.5*r,h=q.x+(v-q.x)*(f-g-s)/f,i=q.y+(w-q.y)*(f-g-s)/f,j=(v-q.x)*g/f,k=(w-q.y)*g/f),!l)switch(n){case"source":l=b.color||o;break;case"target":l=c.color||o;break;default:l=p}l="edge"===e("edgeHoverColor")?a.hover_color||l:a.hover_color||e("defaultEdgeHoverColor")||l,d.strokeStyle=l,d.lineWidth=r,d.beginPath(),d.moveTo(t,u),b.id===c.id?d.bezierCurveTo(q.x2,q.y2,q.x1,q.y1,h,i):d.quadraticCurveTo(q.x,q.y,h,i),d.stroke(),d.fillStyle=l,d.beginPath(),d.moveTo(h+j,i+k),d.lineTo(h+.6*k,i-.6*j),d.lineTo(h-.6*k,i+.6*j),d.lineTo(h+j,i+k),d.closePath(),d.fill()}}(),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.extremities"),sigma.canvas.extremities.def=function(a,b,c,d,e){(sigma.canvas.hovers[b.type]||sigma.canvas.hovers.def)(b,d,e),(sigma.canvas.hovers[c.type]||sigma.canvas.hovers.def)(c,d,e)}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.svg.utils"),sigma.svg.utils={show:function(a){return a.style.display="",this},hide:function(a){return a.style.display="none",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.nodes"),sigma.svg.nodes.def={create:function(a,b){var c=(b("prefix"),document.createElementNS(b("xmlns"),"circle"));return c.setAttributeNS(null,"data-node-id",a.id),c.setAttributeNS(null,"class",b("classPrefix")+"-node"),c.setAttributeNS(null,"fill",a.color||b("defaultNodeColor")),c},update:function(a,b,c){var d=c("prefix")||"";return b.setAttributeNS(null,"cx",a[d+"x"]),b.setAttributeNS(null,"cy",a[d+"y"]),b.setAttributeNS(null,"r",a[d+"size"]),c("freeStyle")||b.setAttributeNS(null,"fill",a.color||c("defaultNodeColor")),b.style.display="",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.edges"),sigma.svg.edges.def={create:function(a,b,c,d){var e=a.color,f=(d("prefix"),d("edgeColor")),g=d("defaultNodeColor"),h=d("defaultEdgeColor");if(!e)switch(f){case"source":e=b.color||g;break;case"target":e=c.color||g;break;default:e=h}var i=document.createElementNS(d("xmlns"),"line");return i.setAttributeNS(null,"data-edge-id",a.id),i.setAttributeNS(null,"class",d("classPrefix")+"-edge"),i.setAttributeNS(null,"stroke",e),i},update:function(a,b,c,d,e){var f=e("prefix")||"";return b.setAttributeNS(null,"stroke-width",a[f+"size"]||1),b.setAttributeNS(null,"x1",c[f+"x"]),b.setAttributeNS(null,"y1",c[f+"y"]),b.setAttributeNS(null,"x2",d[f+"x"]),b.setAttributeNS(null,"y2",d[f+"y"]),b.style.display="",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.edges"),sigma.svg.edges.curve={create:function(a,b,c,d){var e=a.color,f=(d("prefix"),d("edgeColor")),g=d("defaultNodeColor"),h=d("defaultEdgeColor");if(!e)switch(f){case"source":e=b.color||g;break;case"target":e=c.color||g;break;default:e=h}var i=document.createElementNS(d("xmlns"),"path");return i.setAttributeNS(null,"data-edge-id",a.id),i.setAttributeNS(null,"class",d("classPrefix")+"-edge"),i.setAttributeNS(null,"stroke",e),i},update:function(a,b,c,d,e){var f=e("prefix")||"";b.setAttributeNS(null,"stroke-width",a[f+"size"]||1);var g=(c[f+"x"]+d[f+"x"])/2+(d[f+"y"]-c[f+"y"])/4,h=(c[f+"y"]+d[f+"y"])/2+(c[f+"x"]-d[f+"x"])/4,i="M"+c[f+"x"]+","+c[f+"y"]+" Q"+g+","+h+" "+d[f+"x"]+","+d[f+"y"];return b.setAttributeNS(null,"d",i),b.setAttributeNS(null,"fill","none"),b.style.display="",this}}}(),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.svg.labels"),sigma.svg.labels.def={create:function(a,b){var c=b("prefix")||"",d=a[c+"size"],e=document.createElementNS(b("xmlns"),"text"),f="fixed"===b("labelSize")?b("defaultLabelSize"):b("labelSizeRatio")*d,g="node"===b("labelColor")?a.color||b("defaultNodeColor"):b("defaultLabelColor");return e.setAttributeNS(null,"data-label-target",a.id),e.setAttributeNS(null,"class",b("classPrefix")+"-label"),e.setAttributeNS(null,"font-size",f),e.setAttributeNS(null,"font-family",b("font")),e.setAttributeNS(null,"fill",g),e.innerHTML=a.label,e.textContent=a.label,e},update:function(a,b,c){var d=c("prefix")||"",e=a[d+"size"],f="fixed"===c("labelSize")?c("defaultLabelSize"):c("labelSizeRatio")*e;if((c("forceLabels")||!(e<c("labelThreshold")))&&"string"==typeof a.label)return b.setAttributeNS(null,"x",Math.round(a[d+"x"]+e+3)),b.setAttributeNS(null,"y",Math.round(a[d+"y"]+f/3)),b.style.display="",this}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.svg.hovers"),sigma.svg.hovers.def={create:function(a,b,c,d){var e,f,g,h=(d("hoverFontStyle")||d("fontStyle"),d("prefix")||""),i=a[h+"size"],j="fixed"===d("labelSize")?d("defaultLabelSize"):d("labelSizeRatio")*i,k="node"===d("labelHoverColor")?a.color||d("defaultNodeColor"):d("defaultLabelHoverColor"),l=document.createElementNS(d("xmlns"),"g"),m=document.createElementNS(d("xmlns"),"rect"),n=document.createElementNS(d("xmlns"),"circle"),o=document.createElementNS(d("xmlns"),"text");return l.setAttributeNS(null,"class",d("classPrefix")+"-hover"),l.setAttributeNS(null,"data-node-id",a.id),"string"==typeof a.label&&(o.innerHTML=a.label,o.textContent=a.label,o.setAttributeNS(null,"class",d("classPrefix")+"-hover-label"),o.setAttributeNS(null,"font-size",j),o.setAttributeNS(null,"font-family",d("font")),o.setAttributeNS(null,"fill",k),o.setAttributeNS(null,"x",Math.round(a[h+"x"]+i+3)),o.setAttributeNS(null,"y",Math.round(a[h+"y"]+j/3)),Math.round(a[h+"x"]-j/2-2),Math.round(a[h+"y"]-j/2-2),e=Math.round(c.measureText(a.label).width+j/2+i+9),f=Math.round(j+4),g=Math.round(j/2+2),n.setAttributeNS(null,"class",d("classPrefix")+"-hover-area"),n.setAttributeNS(null,"fill","#fff"),n.setAttributeNS(null,"cx",a[h+"x"]),n.setAttributeNS(null,"cy",a[h+"y"]),n.setAttributeNS(null,"r",g),m.setAttributeNS(null,"class",d("classPrefix")+"-hover-area"),m.setAttributeNS(null,"fill","#fff"),m.setAttributeNS(null,"x",a[h+"x"]+g/4),m.setAttributeNS(null,"y",a[h+"y"]-g),m.setAttributeNS(null,"width",e),m.setAttributeNS(null,"height",f)),l.appendChild(n),l.appendChild(m),l.appendChild(o),l.appendChild(b),l}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.utils.pkg("sigma.utils"),sigma.middlewares.rescale=function(a,b,c){var d,e,f,g,h,i,j,k,l=this.graph.nodes(),m=this.graph.edges(),n=this.settings.embedObjects(c||{}),o=n("bounds")||sigma.utils.getBoundaries(this.graph,a,!0),p=o.minX,q=o.minY,r=o.maxX,s=o.maxY,t=o.sizeMax,u=o.weightMax,v=n("width")||1,w=n("height")||1,x=n("autoRescale"),y={nodePosition:1,nodeSize:1,edgeSize:1};for(x instanceof Array||(x=["nodePosition","nodeSize","edgeSize"]),d=0,e=x.length;d<e;d++)if(!y[x[d]])throw new Error('The rescale setting "'+x[d]+'" is not recognized.');var z=~x.indexOf("nodePosition"),A=~x.indexOf("nodeSize"),B=~x.indexOf("edgeSize");for(j="outside"===n("scalingMode")?Math.max(v/Math.max(r-p,1),w/Math.max(s-q,1)):Math.min(v/Math.max(r-p,1),w/Math.max(s-q,1)),k=(n("rescaleIgnoreSize")?0:(n("maxNodeSize")||t)/j)+(n("sideMargin")||0),r+=k,p-=k,s+=k,q-=k,j="outside"===n("scalingMode")?Math.max(v/Math.max(r-p,1),w/Math.max(s-q,1)):Math.min(v/Math.max(r-p,1),w/Math.max(s-q,1)),n("maxNodeSize")||n("minNodeSize")?n("maxNodeSize")===n("minNodeSize")?(f=0,g=+n("maxNodeSize")):(f=(n("maxNodeSize")-n("minNodeSize"))/t,g=+n("minNodeSize")):(f=1,g=0),n("maxEdgeSize")||n("minEdgeSize")?n("maxEdgeSize")===n("minEdgeSize")?(h=0,i=+n("minEdgeSize")):(h=(n("maxEdgeSize")-n("minEdgeSize"))/u,i=+n("minEdgeSize")):(h=1,i=0),d=0,e=m.length;d<e;d++)m[d][b+"size"]=m[d][a+"size"]*(B?h:1)+(B?i:0);for(d=0,e=l.length;d<e;d++)l[d][b+"size"]=l[d][a+"size"]*(A?f:1)+(A?g:0),l[d][b+"x"]=(l[d][a+"x"]-(r+p)/2)*(z?j:1),l[d][b+"y"]=(l[d][a+"y"]-(s+q)/2)*(z?j:1)},sigma.utils.getBoundaries=function(a,b,c){var d,e,f=a.edges(),g=a.nodes(),h=-1/0,i=-1/0,j=1/0,k=1/0,l=-1/0,m=-1/0;if(c)for(d=0,e=f.length;d<e;d++)h=Math.max(f[d][b+"size"],h);for(d=0,e=g.length;d<e;d++)i=Math.max(g[d][b+"size"],i),l=Math.max(g[d][b+"x"],l),j=Math.min(g[d][b+"x"],j),m=Math.max(g[d][b+"y"],m),k=Math.min(g[d][b+"y"],k);return h=h||1,i=i||1,{weightMax:h,sizeMax:i,minX:j,minY:k,maxX:l,maxY:m}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.middlewares.copy=function(a,b){var c,d,e;if(b+""!=a+""){for(e=this.graph.nodes(),c=0,d=e.length;c<d;c++)e[c][b+"x"]=e[c][a+"x"],e[c][b+"y"]=e[c][a+"y"],e[c][b+"size"]=e[c][a+"size"];for(e=this.graph.edges(),c=0,d=e.length;c<d;c++)e[c][b+"size"]=e[c][a+"size"]}}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc.animation.running");var b=function(){var a=0;return function(){return""+ ++a}}();sigma.misc.animation.camera=function(c,d,e){if(!(c instanceof sigma.classes.camera&&"object"==typeof d&&d))throw"animation.camera: Wrong arguments.";if("number"!=typeof d.x&&"number"!=typeof d.y&&"number"!=typeof d.ratio&&"number"!=typeof d.angle)throw"There must be at least one valid coordinate in the given val.";var f,g,h,i,j,k=e||{},l=sigma.utils.dateNow();return j={x:c.x,y:c.y,ratio:c.ratio,angle:c.angle},k.duration,i="function"!=typeof k.easing?sigma.utils.easings[k.easing||"quadraticInOut"]:k.easing,f=function(){var b,e=k.duration?(sigma.utils.dateNow()-l)/k.duration:1;e>=1?(c.isAnimated=!1,c.goTo({x:d.x!==a?d.x:j.x,y:d.y!==a?d.y:j.y,ratio:d.ratio!==a?d.ratio:j.ratio,angle:d.angle!==a?d.angle:j.angle}),cancelAnimationFrame(g),delete sigma.misc.animation.running[g],"function"==typeof k.onComplete&&k.onComplete()):(b=i(e),c.isAnimated=!0,c.goTo({x:d.x!==a?j.x+(d.x-j.x)*b:j.x,y:d.y!==a?j.y+(d.y-j.y)*b:j.y,ratio:d.ratio!==a?j.ratio+(d.ratio-j.ratio)*b:j.ratio,angle:d.angle!==a?j.angle+(d.angle-j.angle)*b:j.angle}),"function"==typeof k.onNewFrame&&k.onNewFrame(),h.frameId=requestAnimationFrame(f))},g=b(),h={frameId:requestAnimationFrame(f),target:c,type:"camera",options:k,fn:f},sigma.misc.animation.running[g]=h,g},sigma.misc.animation.kill=function(a){if(1!==arguments.length||"number"!=typeof a)throw"animation.kill: Wrong arguments.";var b=sigma.misc.animation.running[a];return b&&(cancelAnimationFrame(a),delete sigma.misc.animation.running[b.frameId],"camera"===b.type&&(b.target.isAnimated=!1),"function"==typeof(b.options||{}).onComplete&&b.options.onComplete()),this},sigma.misc.animation.killAll=function(a){var b,c,d=0,e="string"==typeof a?a:null,f="object"==typeof a?a:null,g=sigma.misc.animation.running;for(c in g)e&&g[c].type!==e||f&&g[c].target!==f||(b=sigma.misc.animation.running[c],cancelAnimationFrame(b.frameId),delete sigma.misc.animation.running[c],"camera"===b.type&&(b.target.isAnimated=!1),d++,"function"==typeof(b.options||{}).onComplete&&b.options.onComplete());return d},sigma.misc.animation.has=function(a){var b,c="string"==typeof a?a:null,d="object"==typeof a?a:null,e=sigma.misc.animation.running;for(b in e)if(!(c&&e[b].type!==c||d&&e[b].target!==d))return!0;return!1}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindEvents=function(b){function c(a){a&&(h="x"in a.data?a.data.x:h,i="y"in a.data?a.data.y:i);var c,d,e,f,g,k,l,m,n=[],o=h+j.width/2,p=i+j.height/2,q=j.camera.cameraPosition(h,i),r=j.camera.quadtree.point(q.x,q.y);if(r.length)for(c=0,e=r.length;c<e;c++)if(f=r[c],g=f[b+"x"],k=f[b+"y"],l=f[b+"size"],!f.hidden&&o>g-l&&o<g+l&&p>k-l&&p<k+l&&Math.sqrt(Math.pow(o-g,2)+Math.pow(p-k,2))<l){for(m=!1,d=0;d<n.length;d++)if(f.size>n[d].size){n.splice(d,0,f),m=!0;break}m||n.push(f)}return n}function d(c){function d(a,b){for(r=!1,g=0;g<a.length;g++)if(b.size>a[g].size){a.splice(g,0,b),r=!0;break}r||a.push(b)}if(!j.settings("enableEdgeHovering"))return[];var e=sigma.renderers.canvas&&j instanceof sigma.renderers.canvas;if(!e)throw new Error("The edge events feature is not compatible with the WebGL renderer");c&&(h="x"in c.data?c.data.x:h,i="y"in c.data?c.data.y:i);var f,g,k,l,m,n,o,p,q,r,s=j.settings("edgeHoverPrecision"),t={},u=[],v=h+j.width/2,w=i+j.height/2,x=j.camera.cameraPosition(h,i),y=[];if(e){var z=j.camera.quadtree.area(j.camera.getRectangle(j.width,j.height));for(l=z,f=0,k=l.length;f<k;f++)t[l[f].id]=l[f]}if(j.camera.edgequadtree!==a&&(y=j.camera.edgequadtree.point(x.x,x.y)),y.length)for(f=0,k=y.length;f<k;f++)m=y[f],o=j.graph.nodes(m.source),p=j.graph.nodes(m.target),n=m[b+"size"]||m["read_"+b+"size"],!m.hidden&&!o.hidden&&!p.hidden&&(!e||t[m.source]||t[m.target])&&sigma.utils.getDistance(o[b+"x"],o[b+"y"],v,w)>o[b+"size"]&&sigma.utils.getDistance(p[b+"x"],p[b+"y"],v,w)>p[b+"size"]&&("curve"==m.type||"curvedArrow"==m.type?o.id===p.id?(q=sigma.utils.getSelfLoopControlPoints(o[b+"x"],o[b+"y"],o[b+"size"]),sigma.utils.isPointOnBezierCurve(v,w,o[b+"x"],o[b+"y"],p[b+"x"],p[b+"y"],q.x1,q.y1,q.x2,q.y2,Math.max(n,s))&&d(u,m)):(q=sigma.utils.getQuadraticControlPoint(o[b+"x"],o[b+"y"],p[b+"x"],p[b+"y"]),sigma.utils.isPointOnQuadraticCurve(v,w,o[b+"x"],o[b+"y"],p[b+"x"],p[b+"y"],q.x,q.y,Math.max(n,s))&&d(u,m)):sigma.utils.isPointOnSegment(v,w,o[b+"x"],o[b+"y"],p[b+"x"],p[b+"y"],Math.max(n,s))&&d(u,m));return u}function e(a){function b(a){j.settings("eventsEnabled")&&(j.dispatchEvent("click",a.data),i=c(a),k=d(a),i.length?(j.dispatchEvent("clickNode",{node:i[0],captor:a.data}),j.dispatchEvent("clickNodes",{node:i,captor:a.data})):k.length?(j.dispatchEvent("clickEdge",{edge:k[0],captor:a.data}),j.dispatchEvent("clickEdges",{edge:k,captor:a.data})):j.dispatchEvent("clickStage",{captor:a.data}))}function e(a){j.settings("eventsEnabled")&&(j.dispatchEvent("doubleClick",a.data),i=c(a),k=d(a),i.length?(j.dispatchEvent("doubleClickNode",{node:i[0],captor:a.data}),j.dispatchEvent("doubleClickNodes",{node:i,captor:a.data})):k.length?(j.dispatchEvent("doubleClickEdge",{edge:k[0],captor:a.data}),j.dispatchEvent("doubleClickEdges",{edge:k,captor:a.data})):j.dispatchEvent("doubleClickStage",{captor:a.data}))}function f(a){j.settings("eventsEnabled")&&(j.dispatchEvent("rightClick",a.data),i=c(a),k=d(a),i.length?(j.dispatchEvent("rightClickNode",{node:i[0],captor:a.data}),j.dispatchEvent("rightClickNodes",{node:i,captor:a.data})):k.length?(j.dispatchEvent("rightClickEdge",{edge:k[0],captor:a.data}),j.dispatchEvent("rightClickEdges",{edge:k,captor:a.data})):j.dispatchEvent("rightClickStage",{captor:a.data}))}function g(a){if(j.settings("eventsEnabled")){var b,c,d,e,f=[],g=[];for(b in l)f.push(l[b]);for(l={},c=0,d=f.length;c<d;c++)j.dispatchEvent("outNode",{node:f[c],captor:a.data});for(f.length&&j.dispatchEvent("outNodes",{nodes:f,captor:a.data}),m={},c=0,e=g.length;c<e;c++)j.dispatchEvent("outEdge",{edge:g[c],captor:a.data});g.length&&j.dispatchEvent("outEdges",{edges:g,captor:a.data})}}function h(a){if(j.settings("eventsEnabled")){i=c(a),k=d(a);var b,e,f,g,h=[],n=[],o={},p=i.length,q=[],r=[],s={},t=k.length;for(b=0;b<p;b++)f=i[b],o[f.id]=f,l[f.id]||(n.push(f),l[f.id]=f);for(e in l)o[e]||(h.push(l[e]),delete l[e]);for(b=0,p=n.length;b<p;b++)j.dispatchEvent("overNode",{node:n[b],captor:a.data});for(b=0,p=h.length;b<p;b++)j.dispatchEvent("outNode",{node:h[b],captor:a.data});for(n.length&&j.dispatchEvent("overNodes",{nodes:n,captor:a.data}),h.length&&j.dispatchEvent("outNodes",{nodes:h,captor:a.data}),b=0;b<t;b++)g=k[b],s[g.id]=g,m[g.id]||(r.push(g),m[g.id]=g);for(e in m)s[e]||(q.push(m[e]),delete m[e]);for(b=0,t=r.length;b<t;b++)j.dispatchEvent("overEdge",{edge:r[b],captor:a.data});for(b=0,t=q.length;b<t;b++)j.dispatchEvent("outEdge",{edge:q[b],captor:a.data});r.length&&j.dispatchEvent("overEdges",{edges:r,captor:a.data}),q.length&&j.dispatchEvent("outEdges",{edges:q,captor:a.data})}}var i,k,l={},m={};a.bind("click",b),a.bind("mousedown",h),a.bind("mouseup",h),a.bind("mousemove",h),a.bind("mouseout",g),a.bind("doubleclick",e),a.bind("rightclick",f),j.bind("render",h)}var f,g,h,i,j=this;for(f=0,g=this.captors.length;f<g;f++)e(this.captors[f])}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindDOMEvents=function(a){function b(a){this.attr=function(b){return a.getAttributeNS(null,b)},this.tag=a.tagName,this.class=this.attr("class"),this.id=this.attr("id"),this.isNode=function(){return!!~this.class.indexOf(g.settings("classPrefix")+"-node")},this.isEdge=function(){return!!~this.class.indexOf(g.settings("classPrefix")+"-edge")},this.isHover=function(){return!!~this.class.indexOf(g.settings("classPrefix")+"-hover")}}function c(a){if(g.settings("eventsEnabled")){g.dispatchEvent("click",a);var c=new b(a.target);c.isNode()?g.dispatchEvent("clickNode",{node:h.nodes(c.attr("data-node-id"))}):g.dispatchEvent("clickStage"),a.preventDefault(),a.stopPropagation()}}function d(a){if(g.settings("eventsEnabled")){g.dispatchEvent("doubleClick",a);var c=new b(a.target);c.isNode()?g.dispatchEvent("doubleClickNode",{node:h.nodes(c.attr("data-node-id"))}):g.dispatchEvent("doubleClickStage"),a.preventDefault(),a.stopPropagation()}}function e(a){var c=a.toElement||a.target;if(g.settings("eventsEnabled")&&c){var d=new b(c);if(d.isNode())g.dispatchEvent("overNode",{node:h.nodes(d.attr("data-node-id"))});else if(d.isEdge()){var e=h.edges(d.attr("data-edge-id"));g.dispatchEvent("overEdge",{edge:e,source:h.nodes(e.source),target:h.nodes(e.target)})}}}function f(a){var c=a.fromElement||a.originalTarget;if(g.settings("eventsEnabled")){var d=new b(c);if(d.isNode())g.dispatchEvent("outNode",{node:h.nodes(d.attr("data-node-id"))});else if(d.isEdge()){var e=h.edges(d.attr("data-edge-id"));g.dispatchEvent("outEdge",{edge:e,source:h.nodes(e.source),target:h.nodes(e.target)})}}}var g=this,h=this.graph;a.addEventListener("click",c,!1),sigma.utils.doubleClick(a,"click",d),a.addEventListener("touchstart",c,!1),sigma.utils.doubleClick(a,"touchstart",d),a.addEventListener("mouseover",e,!0),a.addEventListener("mouseout",f,!0)}}.call(this),function(a){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.drawHovers=function(a){function b(){var b,f,g,h,i,j=c.contexts.hover.canvas,k=c.settings("defaultNodeType"),l=c.settings("defaultEdgeType"),m=sigma.canvas.hovers,n=sigma.canvas.edgehovers,o=sigma.canvas.extremities,p=c.settings.embedObjects({prefix:a});if(c.contexts.hover.clearRect(0,0,j.width,j.height),p("enableHovering")&&p("singleHover")&&Object.keys(d).length&&(h=d[Object.keys(d)[0]],(m[h.type]||m[k]||m.def)(h,c.contexts.hover,p)),p("enableHovering")&&!p("singleHover"))for(b in d)(m[d[b].type]||m[k]||m.def)(d[b],c.contexts.hover,p);if(p("enableEdgeHovering")&&p("singleHover")&&Object.keys(e).length&&(i=e[Object.keys(e)[0]],f=c.graph.nodes(i.source),g=c.graph.nodes(i.target),i.hidden||((n[i.type]||n[l]||n.def)(i,f,g,c.contexts.hover,p),p("edgeHoverExtremities")?(o[i.type]||o.def)(i,f,g,c.contexts.hover,p):((sigma.canvas.nodes[f.type]||sigma.canvas.nodes.def)(f,c.contexts.hover,p),(sigma.canvas.nodes[g.type]||sigma.canvas.nodes.def)(g,c.contexts.hover,p)))),p("enableEdgeHovering")&&!p("singleHover"))for(b in e)i=e[b],f=c.graph.nodes(i.source),g=c.graph.nodes(i.target),i.hidden||((n[i.type]||n[l]||n.def)(i,f,g,c.contexts.hover,p),p("edgeHoverExtremities")?(o[i.type]||o.def)(i,f,g,c.contexts.hover,p):((sigma.canvas.nodes[f.type]||sigma.canvas.nodes.def)(f,c.contexts.hover,p),(sigma.canvas.nodes[g.type]||sigma.canvas.nodes.def)(g,c.contexts.hover,p)))}var c=this,d={},e={};this.bind("overNode",function(a){var c=a.data.node;c.hidden||(d[c.id]=c,b())}),this.bind("outNode",function(a){delete d[a.data.node.id],b()}),this.bind("overEdge",function(a){var c=a.data.edge;c.hidden||(e[c.id]=c,b())}),this.bind("outEdge",function(a){delete e[a.data.edge.id],b()}),this.bind("render",function(a){b()})}}.call(this);
(function(){"use strict";function a(a){if(d[a])return d[a];var b=[0,0,0];return a.match(/^#/)?(a=(a||"").replace(/^#/,""),b=3===a.length?[parseInt(a.charAt(0)+a.charAt(0),16),parseInt(a.charAt(1)+a.charAt(1),16),parseInt(a.charAt(2)+a.charAt(2),16)]:[parseInt(a.charAt(0)+a.charAt(1),16),parseInt(a.charAt(2)+a.charAt(3),16),parseInt(a.charAt(4)+a.charAt(5),16)]):a.match(/^ *rgba? *\(/)&&(a=a.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),b=[+a[1],+a[2],+a[3]]),d[a]={r:b[0],g:b[1],b:b[2]},d[a]}function b(b,c,d){b=a(b),c=a(c);var e={r:b.r*(1-d)+c.r*d,g:b.g*(1-d)+c.g*d,b:b.b*(1-d)+c.b*d};return"rgb("+[0|e.r,0|e.g,0|e.b].join(",")+")"}if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var c=0,d={};sigma.plugins.animate=function(a,d,e){function f(){var c=(sigma.utils.dateNow()-m)/k;if(c>=1){g.forEach(function(a){for(var b in d)b in d&&(a[b]=a[d[b]])});var e,n;for(e in a.cameras)n=a.cameras[e],n.edgequadtree._enabled=!0;a.refresh(),"function"==typeof i.onComplete&&i.onComplete()}else c=l(c),g.forEach(function(a){for(var e in d)e in d&&(e.match(/color$/)?a[e]=b(h[a.id][e],a[d[e]],c):a[e]=a[d[e]]*c+h[a.id][e]*(1-c))}),a.refresh(),a.animations[j]=requestAnimationFrame(f)}var g,h,i=e||{},j=++c,k=i.duration||a.settings("animationsTime"),l="string"==typeof i.easing?sigma.utils.easings[i.easing]:"function"==typeof i.easing?i.easing:sigma.utils.easings.quadraticInOut,m=sigma.utils.dateNow();g=i.nodes&&i.nodes.length?"object"==typeof i.nodes[0]?i.nodes:a.graph.nodes(i.nodes):a.graph.nodes(),h=g.reduce(function(a,b){var c;a[b.id]={};for(c in d)c in b&&(a[b.id][c]=b[c]);return a},{}),a.animations=a.animations||Object.create({}),sigma.plugins.kill(a);var n,o;for(n in a.cameras)o=a.cameras[n],o.edgequadtree._enabled=!1;f()},sigma.plugins.kill=function(a){for(var b in a.animations||{})cancelAnimationFrame(a.animations[b]);var b,c;for(b in a.cameras)c=a.cameras[b],c.edgequadtree._enabled=!0}}).call(window);
(function(a){"use strict";function b(){var a=this;this.init=function(a,b){if(b=b||{},this.sigInst=a,this.config=sigma.utils.extend(b,c),this.easing=b.easing,this.duration=b.duration,b.nodes&&(this.nodes=b.nodes,delete b.nodes),!sigma.plugins||void 0===sigma.plugins.animate)throw new Error("sigma.plugins.animate is not declared");this.running=!1},this.atomicGo=function(){if(!this.running||this.iterCount<1)return!1;var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=this.nodes||this.sigInst.graph.nodes(),x=w.length,y=1/0,z=-1/0,A=1/0,B=-1/0;for(this.iterCount--,this.running=!1,b=0;b<x;b++)c=w[b],c.dn.dx=0,c.dn.dy=0,y=Math.min(y,c.dn_x-(c.dn_size*a.config.scaleNodes+a.config.nodeMargin)),z=Math.max(z,c.dn_x+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin)),A=Math.min(A,c.dn_y-(c.dn_size*a.config.scaleNodes+a.config.nodeMargin)),B=Math.max(B,c.dn_y+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin));for(e=z-y,f=B-A,g=(y+z)/2,h=(A+B)/2,y=g-a.config.permittedExpansion*e/2,z=g+a.config.permittedExpansion*e/2,A=h-a.config.permittedExpansion*f/2,B=h+a.config.permittedExpansion*f/2,i={},j=0;j<a.config.gridSize;j++)for(i[j]={},k=0;k<a.config.gridSize;k++)i[j][k]=[];for(b=0;b<x;b++)for(c=w[b],s=c.dn_x-(c.dn_size*a.config.scaleNodes+a.config.nodeMargin),t=c.dn_x+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin),u=c.dn_y-(c.dn_size*a.config.scaleNodes+a.config.nodeMargin),v=c.dn_y+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin),l=Math.floor(a.config.gridSize*(s-y)/(z-y)),m=Math.floor(a.config.gridSize*(t-y)/(z-y)),n=Math.floor(a.config.gridSize*(u-A)/(B-A)),o=Math.floor(a.config.gridSize*(v-A)/(B-A)),k=l;k<=m;k++)for(j=n;j<=o;j++)i[j][k].push(c.id);for(p={},j=0;j<a.config.gridSize;j++)for(k=0;k<a.config.gridSize;k++)i[j][k].forEach(function(b){for(p[b]||(p[b]=[]),q=Math.max(0,j-1);q<=Math.min(j+1,a.config.gridSize-1);q++)for(r=Math.max(0,k-1);r<=Math.min(k+1,a.config.gridSize-1);r++)i[q][r].forEach(function(a){a!==b&&-1===p[b].indexOf(a)&&p[b].push(a)})});for(b=0;b<x;b++)d=w[b],p[d.id].forEach(function(b){var c=a.sigInst.graph.nodes(b),g=c.dn_x-d.dn_x,h=c.dn_y-d.dn_y,i=Math.sqrt(g*g+h*h);i<d.dn_size*a.config.scaleNodes+a.config.nodeMargin+(c.dn_size*a.config.scaleNodes+a.config.nodeMargin)&&(a.running=!0,i>0?(c.dn.dx+=g/i*(1+d.dn_size),c.dn.dy+=h/i*(1+d.dn_size)):(c.dn.dx+=.01*e*(.5-Math.random()),c.dn.dy+=.01*f*(.5-Math.random())))});for(b=0;b<x;b++)c=w[b],c.fixed||(c.dn_x=c.dn_x+.1*c.dn.dx*a.config.speed,c.dn_y=c.dn_y+.1*c.dn.dy*a.config.speed);return this.running&&this.iterCount<1&&(this.running=!1),this.running},this.go=function(){for(this.iterCount=this.config.maxIterations;this.running;)this.atomicGo();this.stop()},this.start=function(){if(!this.running){var b=this.sigInst.graph.nodes(),c=this.sigInst.renderers[a.config.rendererIndex].options.prefix;this.running=!0;for(var d=0;d<b.length;d++)b[d].dn_x=b[d][c+"x"],b[d].dn_y=b[d][c+"y"],b[d].dn_size=b[d][c+"size"],b[d].dn={dx:0,dy:0};e[a.sigInst.id].dispatchEvent("start"),this.go()}},this.stop=function(){var b=this.sigInst.graph.nodes();if(this.running=!1,this.easing)e[a.sigInst.id].dispatchEvent("interpolate"),sigma.plugins.animate(a.sigInst,{x:"dn_x",y:"dn_y"},{easing:a.easing,onComplete:function(){a.sigInst.refresh();for(var c=0;c<b.length;c++)b[c].dn=null,b[c].dn_x=null,b[c].dn_y=null;e[a.sigInst.id].dispatchEvent("stop")},duration:a.duration});else{for(var c=0;c<b.length;c++)b[c].x=b[c].dn_x,b[c].y=b[c].dn_y;this.sigInst.refresh();for(var c=0;c<b.length;c++)b[c].dn=null,b[c].dn_x=null,b[c].dn_y=null;e[a.sigInst.id].dispatchEvent("stop")}},this.kill=function(){this.sigInst=null,this.config=null,this.easing=null}}if("undefined"==typeof sigma)throw new Error("sigma is not declared");sigma.utils.pkg("sigma.layout.noverlap");var c={speed:3,scaleNodes:1.2,nodeMargin:5,gridSize:20,permittedExpansion:1.1,rendererIndex:0,maxIterations:500},d={},e={};sigma.prototype.configNoverlap=function(a){var c=this;if(!a)throw new Error('Missing argument: "config"');return d[c.id]||(d[c.id]=new b,e[c.id]={},sigma.classes.dispatcher.extend(e[c.id]),c.bind("kill",function(){d[c.id].kill(),d[c.id]=null,e[c.id]=null})),d[c.id].init(c,a),e[c.id]},sigma.prototype.startNoverlap=function(a){var b=this;return a&&this.configNoverlap(b,a),d[b.id].start(),e[b.id]},sigma.prototype.isNoverlapRunning=function(){var a=this;return!!d[a.id]&&d[a.id].running}}).call(this);
!function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.dashed=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,h*=e("edgeHoverSizeRatio"),d.save(),d.setLineDash([8,3]),d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.dotted=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,h*=e("edgeHoverSizeRatio"),d.save(),d.setLineDash([2]),d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.parallel=function(a,b,c,d,e){var f,g,h=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,i=e("prefix")||"",j=a[i+"size"]||1,k=e("edgeColor"),l=e("defaultNodeColor"),m=e("defaultEdgeColor"),n=b[i+"x"],o=b[i+"y"],p=c[i+"x"],q=c[i+"y"],r=sigma.utils.getDistance(n,o,p,q);if(!h)switch(k){case"source":h=b.color||l;break;case"target":h=c.color||l;break;default:h=m}h="edge"===e("edgeHoverColor")?a.hover_color||h:a.hover_color||e("defaultEdgeHoverColor")||h,j*=e("edgeHoverSizeRatio"),f=sigma.utils.getCircleIntersection(n,o,j,p,q,r),g=sigma.utils.getCircleIntersection(p,q,j,n,o,r),d.save(),d.strokeStyle=h,d.lineWidth=j,d.beginPath(),d.moveTo(f.xi,f.yi),d.lineTo(g.xi_prime,g.yi_prime),d.closePath(),d.stroke(),d.beginPath(),d.moveTo(f.xi_prime,f.yi_prime),d.lineTo(g.xi,g.yi),d.closePath(),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.tapered=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),g=e("prefix")||"",j=e("defaultNodeColor"),k=e("defaultEdgeColor"),l=b[g+"x"],m=b[g+"y"],n=c[g+"x"],o=c[g+"y"],p=sigma.utils.getDistance(l,m,n,o);if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,h*=e("edgeHoverSizeRatio");var q=sigma.utils.getCircleIntersection(l,m,h,n,o,p);d.save(),d.globalAlpha=.65,d.fillStyle=f,d.beginPath(),d.moveTo(n,o),d.lineTo(q.xi,q.yi),d.lineTo(q.xi_prime,q.yi_prime),d.closePath(),d.fill(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dashed=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}d.save(),a.active?d.strokeStyle="edge"===e("edgeActiveColor")?f||k:e("defaultEdgeActiveColor"):d.strokeStyle=f,d.setLineDash([8,3]),d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.dotted=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),j=e("defaultNodeColor"),k=e("defaultEdgeColor");if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}d.save(),a.active?d.strokeStyle="edge"===e("edgeActiveColor")?f||k:e("defaultEdgeActiveColor"):d.strokeStyle=f,d.setLineDash([2]),d.lineWidth=h,d.beginPath(),d.moveTo(b[g+"x"],b[g+"y"]),d.lineTo(c[g+"x"],c[g+"y"]),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.parallel=function(a,b,c,d,e){var f,g,h=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,i=e("prefix")||"",j=a[i+"size"]||1,k=e("edgeColor"),l=e("defaultNodeColor"),m=e("defaultEdgeColor"),n=b[i+"x"],o=b[i+"y"],p=c[i+"x"],q=c[i+"y"],r=sigma.utils.getDistance(n,o,p,q);if(!h)switch(k){case"source":h=b.color||l;break;case"target":h=c.color||l;break;default:h=m}f=sigma.utils.getCircleIntersection(n,o,j,p,q,r),g=sigma.utils.getCircleIntersection(p,q,j,n,o,r),d.save(),a.active?d.strokeStyle="edge"===e("edgeActiveColor")?h||m:e("defaultEdgeActiveColor"):d.strokeStyle=h,d.lineWidth=j,d.beginPath(),d.moveTo(f.xi,f.yi),d.lineTo(g.xi_prime,g.yi_prime),d.closePath(),d.stroke(),d.beginPath(),d.moveTo(f.xi_prime,f.yi_prime),d.lineTo(g.xi,g.yi),d.closePath(),d.stroke(),d.restore()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.tapered=function(a,b,c,d,e){var f=a.active?a.active_color||e("defaultEdgeActiveColor"):a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=e("edgeColor"),g=e("prefix")||"",j=e("defaultNodeColor"),k=e("defaultEdgeColor"),l=b[g+"x"],m=b[g+"y"],n=c[g+"x"],o=c[g+"y"],p=sigma.utils.getDistance(l,m,n,o);if(!f)switch(i){case"source":f=b.color||j;break;case"target":f=c.color||j;break;default:f=k}var q=sigma.utils.getCircleIntersection(l,m,h,n,o,p);d.save(),a.active?d.fillStyle="edge"===e("edgeActiveColor")?f||k:e("defaultEdgeActiveColor"):d.fillStyle=f,d.globalAlpha=.65,d.beginPath(),d.moveTo(n,o),d.lineTo(q.xi,q.yi),d.lineTo(q.xi_prime,q.yi_prime),d.closePath(),d.fill(),d.restore()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ21hLm1pbi5qcyIsInNpZ21hLnBsdWdpbnMuYW5pbWF0ZS5taW4uanMiLCJzaWdtYS5sYXlvdXQubm92ZXJsYXAubWluLmpzIiwic2lnbWEucmVuZGVyZXJzLmN1c3RvbUVkZ2VTaGFwZXMubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUNEQTtBQ0FBO0FDQUEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogc2lnbWEuanMgLSBBIEphdmFTY3JpcHQgbGlicmFyeSBkZWRpY2F0ZWQgdG8gZ3JhcGggZHJhd2luZy4gLSBWZXJzaW9uOiAxLjIuMSAtIEF1dGhvcjogQWxleGlzIEphY29teSwgU2NpZW5jZXMtUG8gTcOpZGlhbGFiIC0gTGljZW5zZTogTUlUICovXG4oZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGI9e30sYz1mdW5jdGlvbihhKXt2YXIgZCxlLGYsZyxoO2MuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKTt2YXIgaT10aGlzLGo9YXx8e307aWYoXCJzdHJpbmdcIj09dHlwZW9mIGp8fGogaW5zdGFuY2VvZiBIVE1MRWxlbWVudD9qPXtyZW5kZXJlcnM6W2pdfTpcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaikmJihqPXtyZW5kZXJlcnM6an0pLGc9ai5yZW5kZXJlcnN8fGoucmVuZGVyZXJ8fGouY29udGFpbmVyLGoucmVuZGVyZXJzJiYwIT09ai5yZW5kZXJlcnMubGVuZ3RofHwoXCJzdHJpbmdcIj09dHlwZW9mIGd8fGcgaW5zdGFuY2VvZiBIVE1MRWxlbWVudHx8XCJvYmplY3RcIj09dHlwZW9mIGcmJlwiY29udGFpbmVyXCJpbiBnKSYmKGoucmVuZGVyZXJzPVtnXSksai5pZCl7aWYoYltqLmlkXSl0aHJvdydzaWdtYTogSW5zdGFuY2UgXCInK2ouaWQrJ1wiIGFscmVhZHkgZXhpc3RzLic7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHt2YWx1ZTpqLmlkfSl9ZWxzZXtmb3IoaD0wO2JbaF07KWgrKztPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlkXCIse3ZhbHVlOlwiXCIraH0pfWZvcihiW3RoaXMuaWRdPXRoaXMsdGhpcy5zZXR0aW5ncz1uZXcgYy5jbGFzc2VzLmNvbmZpZ3VyYWJsZShjLnNldHRpbmdzLGouc2V0dGluZ3N8fHt9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImdyYXBoXCIse3ZhbHVlOm5ldyBjLmNsYXNzZXMuZ3JhcGgodGhpcy5zZXR0aW5ncyksY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtaWRkbGV3YXJlc1wiLHt2YWx1ZTpbXSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNhbWVyYXNcIix7dmFsdWU6e30sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyZW5kZXJlcnNcIix7dmFsdWU6e30sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyZW5kZXJlcnNQZXJDYW1lcmFcIix7dmFsdWU6e30sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjYW1lcmFGcmFtZXNcIix7dmFsdWU6e30sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjYW1lcmFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FtZXJhc1swXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImV2ZW50c1wiLHt2YWx1ZTpbXCJjbGlja1wiLFwicmlnaHRDbGlja1wiLFwiY2xpY2tTdGFnZVwiLFwiZG91YmxlQ2xpY2tTdGFnZVwiLFwicmlnaHRDbGlja1N0YWdlXCIsXCJjbGlja05vZGVcIixcImNsaWNrTm9kZXNcIixcImRvdWJsZUNsaWNrTm9kZVwiLFwiZG91YmxlQ2xpY2tOb2Rlc1wiLFwicmlnaHRDbGlja05vZGVcIixcInJpZ2h0Q2xpY2tOb2Rlc1wiLFwib3Zlck5vZGVcIixcIm92ZXJOb2Rlc1wiLFwib3V0Tm9kZVwiLFwib3V0Tm9kZXNcIixcImRvd25Ob2RlXCIsXCJkb3duTm9kZXNcIixcInVwTm9kZVwiLFwidXBOb2Rlc1wiXSxjb25maWd1cmFibGU6ITB9KSx0aGlzLl9oYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiLGM9e307Zm9yKGIgaW4gYS5kYXRhKWNbYl09YS5kYXRhW2JdO2MucmVuZGVyZXI9YS50YXJnZXQsdGhpcy5kaXNwYXRjaEV2ZW50KGEudHlwZSxjKX0uYmluZCh0aGlzKSxmPWoucmVuZGVyZXJzfHxbXSxkPTAsZT1mLmxlbmd0aDtkPGU7ZCsrKXRoaXMuYWRkUmVuZGVyZXIoZltkXSk7Zm9yKGY9ai5taWRkbGV3YXJlc3x8W10sZD0wLGU9Zi5sZW5ndGg7ZDxlO2QrKyl0aGlzLm1pZGRsZXdhcmVzLnB1c2goXCJzdHJpbmdcIj09dHlwZW9mIGZbZF0/Yy5taWRkbGV3YXJlc1tmW2RdXTpmW2RdKTtcIm9iamVjdFwiPT10eXBlb2Ygai5ncmFwaCYmai5ncmFwaCYmKHRoaXMuZ3JhcGgucmVhZChqLmdyYXBoKSx0aGlzLnJlZnJlc2goKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe2kuc2V0dGluZ3MmJmkucmVmcmVzaCgpfSl9O2lmKGMucHJvdG90eXBlLmFkZENhbWVyYT1mdW5jdGlvbihiKXt2YXIgZCxlPXRoaXM7aWYoIWFyZ3VtZW50cy5sZW5ndGgpe2ZvcihiPTA7dGhpcy5jYW1lcmFzW1wiXCIrYl07KWIrKztiPVwiXCIrYn1pZih0aGlzLmNhbWVyYXNbYl0pdGhyb3cnc2lnbWEuYWRkQ2FtZXJhOiBUaGUgY2FtZXJhIFwiJytiKydcIiBhbHJlYWR5IGV4aXN0cy4nO3JldHVybiBkPW5ldyBjLmNsYXNzZXMuY2FtZXJhKGIsdGhpcy5ncmFwaCx0aGlzLnNldHRpbmdzKSx0aGlzLmNhbWVyYXNbYl09ZCxkLnF1YWR0cmVlPW5ldyBjLmNsYXNzZXMucXVhZCxjLmNsYXNzZXMuZWRnZXF1YWQhPT1hJiYoZC5lZGdlcXVhZHRyZWU9bmV3IGMuY2xhc3Nlcy5lZGdlcXVhZCksZC5iaW5kKFwiY29vcmRpbmF0ZXNVcGRhdGVkXCIsZnVuY3Rpb24oYSl7ZS5yZW5kZXJDYW1lcmEoZCxkLmlzQW5pbWF0ZWQpfSksdGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbYl09W10sZH0sYy5wcm90b3R5cGUua2lsbENhbWVyYT1mdW5jdGlvbihhKXtpZighKGE9XCJzdHJpbmdcIj09dHlwZW9mIGE/dGhpcy5jYW1lcmFzW2FdOmEpKXRocm93XCJzaWdtYS5raWxsQ2FtZXJhOiBUaGUgY2FtZXJhIGlzIHVuZGVmaW5lZC5cIjt2YXIgYixjLGQ9dGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbYS5pZF07Zm9yKGM9ZC5sZW5ndGgsYj1jLTE7Yj49MDtiLS0pdGhpcy5raWxsUmVuZGVyZXIoZFtiXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLnJlbmRlcmVyc1BlckNhbWVyYVthLmlkXSxkZWxldGUgdGhpcy5jYW1lcmFGcmFtZXNbYS5pZF0sZGVsZXRlIHRoaXMuY2FtZXJhc1thLmlkXSxhLmtpbGwmJmEua2lsbCgpLHRoaXN9LGMucHJvdG90eXBlLmFkZFJlbmRlcmVyPWZ1bmN0aW9uKGEpe3ZhciBiLGQsZSxmLGc9YXx8e307aWYoXCJzdHJpbmdcIj09dHlwZW9mIGc/Zz17Y29udGFpbmVyOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGcpfTpnIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJihnPXtjb250YWluZXI6Z30pLFwic3RyaW5nXCI9PXR5cGVvZiBnLmNvbnRhaW5lciYmKGcuY29udGFpbmVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGcuY29udGFpbmVyKSksXCJpZFwiaW4gZyliPWcuaWQ7ZWxzZXtmb3IoYj0wO3RoaXMucmVuZGVyZXJzW1wiXCIrYl07KWIrKztiPVwiXCIrYn1pZih0aGlzLnJlbmRlcmVyc1tiXSl0aHJvdydzaWdtYS5hZGRSZW5kZXJlcjogVGhlIHJlbmRlcmVyIFwiJytiKydcIiBhbHJlYWR5IGV4aXN0cy4nO2lmKGQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZy50eXBlP2cudHlwZTpjLnJlbmRlcmVyc1tnLnR5cGVdLGQ9ZHx8Yy5yZW5kZXJlcnMuZGVmLGU9XCJjYW1lcmFcImluIGc/Zy5jYW1lcmEgaW5zdGFuY2VvZiBjLmNsYXNzZXMuY2FtZXJhP2cuY2FtZXJhOnRoaXMuY2FtZXJhc1tnLmNhbWVyYV18fHRoaXMuYWRkQ2FtZXJhKGcuY2FtZXJhKTp0aGlzLmFkZENhbWVyYSgpLHRoaXMuY2FtZXJhc1tlLmlkXSE9PWUpdGhyb3dcInNpZ21hLmFkZFJlbmRlcmVyOiBUaGUgY2FtZXJhIGlzIG5vdCBwcm9wZXJseSByZWZlcmVuY2VkLlwiO3JldHVybiBmPW5ldyBkKHRoaXMuZ3JhcGgsZSx0aGlzLnNldHRpbmdzLGcpLHRoaXMucmVuZGVyZXJzW2JdPWYsT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsXCJpZFwiLHt2YWx1ZTpifSksZi5iaW5kJiZmLmJpbmQoW1wiY2xpY2tcIixcInJpZ2h0Q2xpY2tcIixcImNsaWNrU3RhZ2VcIixcImRvdWJsZUNsaWNrU3RhZ2VcIixcInJpZ2h0Q2xpY2tTdGFnZVwiLFwiY2xpY2tOb2RlXCIsXCJjbGlja05vZGVzXCIsXCJjbGlja0VkZ2VcIixcImNsaWNrRWRnZXNcIixcImRvdWJsZUNsaWNrTm9kZVwiLFwiZG91YmxlQ2xpY2tOb2Rlc1wiLFwiZG91YmxlQ2xpY2tFZGdlXCIsXCJkb3VibGVDbGlja0VkZ2VzXCIsXCJyaWdodENsaWNrTm9kZVwiLFwicmlnaHRDbGlja05vZGVzXCIsXCJyaWdodENsaWNrRWRnZVwiLFwicmlnaHRDbGlja0VkZ2VzXCIsXCJvdmVyTm9kZVwiLFwib3Zlck5vZGVzXCIsXCJvdmVyRWRnZVwiLFwib3ZlckVkZ2VzXCIsXCJvdXROb2RlXCIsXCJvdXROb2Rlc1wiLFwib3V0RWRnZVwiLFwib3V0RWRnZXNcIixcImRvd25Ob2RlXCIsXCJkb3duTm9kZXNcIixcImRvd25FZGdlXCIsXCJkb3duRWRnZXNcIixcInVwTm9kZVwiLFwidXBOb2Rlc1wiLFwidXBFZGdlXCIsXCJ1cEVkZ2VzXCJdLHRoaXMuX2hhbmRsZXIpLHRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2UuaWRdLnB1c2goZiksZn0sYy5wcm90b3R5cGUua2lsbFJlbmRlcmVyPWZ1bmN0aW9uKGEpe2lmKCEoYT1cInN0cmluZ1wiPT10eXBlb2YgYT90aGlzLnJlbmRlcmVyc1thXTphKSl0aHJvd1wic2lnbWEua2lsbFJlbmRlcmVyOiBUaGUgcmVuZGVyZXIgaXMgdW5kZWZpbmVkLlwiO3ZhciBiPXRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2EuY2FtZXJhLmlkXSxjPWIuaW5kZXhPZihhKTtyZXR1cm4gYz49MCYmYi5zcGxpY2UoYywxKSxhLmtpbGwmJmEua2lsbCgpLGRlbGV0ZSB0aGlzLnJlbmRlcmVyc1thLmlkXSx0aGlzfSxjLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKGIpe3ZhciBkLGUsZixnLGgsaSxqPTA7Zm9yKGI9Ynx8e30sZz10aGlzLm1pZGRsZXdhcmVzfHxbXSxkPTAsZT1nLmxlbmd0aDtkPGU7ZCsrKWdbZF0uY2FsbCh0aGlzLDA9PT1kP1wiXCI6XCJ0bXBcIitqK1wiOlwiLGQ9PT1lLTE/XCJyZWFkeTpcIjpcInRtcFwiKyArK2orXCI6XCIpO2ZvcihmIGluIHRoaXMuY2FtZXJhcyloPXRoaXMuY2FtZXJhc1tmXSxoLnNldHRpbmdzKFwiYXV0b1Jlc2NhbGVcIikmJnRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2guaWRdJiZ0aGlzLnJlbmRlcmVyc1BlckNhbWVyYVtoLmlkXS5sZW5ndGg/Yy5taWRkbGV3YXJlcy5yZXNjYWxlLmNhbGwodGhpcyxnLmxlbmd0aD9cInJlYWR5OlwiOlwiXCIsaC5yZWFkUHJlZml4LHt3aWR0aDp0aGlzLnJlbmRlcmVyc1BlckNhbWVyYVtoLmlkXVswXS53aWR0aCxoZWlnaHQ6dGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbaC5pZF1bMF0uaGVpZ2h0fSk6Yy5taWRkbGV3YXJlcy5jb3B5LmNhbGwodGhpcyxnLmxlbmd0aD9cInJlYWR5OlwiOlwiXCIsaC5yZWFkUHJlZml4KSxiLnNraXBJbmRleGF0aW9ufHwoaT1jLnV0aWxzLmdldEJvdW5kYXJpZXModGhpcy5ncmFwaCxoLnJlYWRQcmVmaXgpLGgucXVhZHRyZWUuaW5kZXgodGhpcy5ncmFwaC5ub2RlcygpLHtwcmVmaXg6aC5yZWFkUHJlZml4LGJvdW5kczp7eDppLm1pblgseTppLm1pblksd2lkdGg6aS5tYXhYLWkubWluWCxoZWlnaHQ6aS5tYXhZLWkubWluWX19KSxoLmVkZ2VxdWFkdHJlZSE9PWEmJmguc2V0dGluZ3MoXCJkcmF3RWRnZXNcIikmJmguc2V0dGluZ3MoXCJlbmFibGVFZGdlSG92ZXJpbmdcIikmJmguZWRnZXF1YWR0cmVlLmluZGV4KHRoaXMuZ3JhcGgse3ByZWZpeDpoLnJlYWRQcmVmaXgsYm91bmRzOnt4OmkubWluWCx5OmkubWluWSx3aWR0aDppLm1heFgtaS5taW5YLGhlaWdodDppLm1heFktaS5taW5ZfX0pKTtmb3IoZz1PYmplY3Qua2V5cyh0aGlzLnJlbmRlcmVycyksZD0wLGU9Zy5sZW5ndGg7ZDxlO2QrKylpZih0aGlzLnJlbmRlcmVyc1tnW2RdXS5wcm9jZXNzKWlmKHRoaXMuc2V0dGluZ3MoXCJza2lwRXJyb3JzXCIpKXRyeXt0aGlzLnJlbmRlcmVyc1tnW2RdXS5wcm9jZXNzKCl9Y2F0Y2goYSl7Y29uc29sZS5sb2coJ1dhcm5pbmc6IFRoZSByZW5kZXJlciBcIicrZ1tkXSsnXCIgY3Jhc2hlZCBvbiBcIi5wcm9jZXNzKClcIicpfWVsc2UgdGhpcy5yZW5kZXJlcnNbZ1tkXV0ucHJvY2VzcygpO3JldHVybiB0aGlzLnJlbmRlcigpLHRoaXN9LGMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBhLGIsYztmb3IoYz1PYmplY3Qua2V5cyh0aGlzLnJlbmRlcmVycyksYT0wLGI9Yy5sZW5ndGg7YTxiO2ErKylpZih0aGlzLnNldHRpbmdzKFwic2tpcEVycm9yc1wiKSl0cnl7dGhpcy5yZW5kZXJlcnNbY1thXV0ucmVuZGVyKCl9Y2F0Y2goYil7dGhpcy5zZXR0aW5ncyhcInZlcmJvc2VcIikmJmNvbnNvbGUubG9nKCdXYXJuaW5nOiBUaGUgcmVuZGVyZXIgXCInK2NbYV0rJ1wiIGNyYXNoZWQgb24gXCIucmVuZGVyKClcIicpfWVsc2UgdGhpcy5yZW5kZXJlcnNbY1thXV0ucmVuZGVyKCk7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnJlbmRlckNhbWVyYT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXM7aWYoYilmb3IoZT10aGlzLnJlbmRlcmVyc1BlckNhbWVyYVthLmlkXSxjPTAsZD1lLmxlbmd0aDtjPGQ7YysrKWlmKHRoaXMuc2V0dGluZ3MoXCJza2lwRXJyb3JzXCIpKXRyeXtlW2NdLnJlbmRlcigpfWNhdGNoKGEpe3RoaXMuc2V0dGluZ3MoXCJ2ZXJib3NlXCIpJiZjb25zb2xlLmxvZygnV2FybmluZzogVGhlIHJlbmRlcmVyIFwiJytlW2NdLmlkKydcIiBjcmFzaGVkIG9uIFwiLnJlbmRlcigpXCInKX1lbHNlIGVbY10ucmVuZGVyKCk7ZWxzZSBpZighdGhpcy5jYW1lcmFGcmFtZXNbYS5pZF0pe2ZvcihlPXRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2EuaWRdLGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspaWYodGhpcy5zZXR0aW5ncyhcInNraXBFcnJvcnNcIikpdHJ5e2VbY10ucmVuZGVyKCl9Y2F0Y2goYSl7dGhpcy5zZXR0aW5ncyhcInZlcmJvc2VcIikmJmNvbnNvbGUubG9nKCdXYXJuaW5nOiBUaGUgcmVuZGVyZXIgXCInK2VbY10uaWQrJ1wiIGNyYXNoZWQgb24gXCIucmVuZGVyKClcIicpfWVsc2UgZVtjXS5yZW5kZXIoKTt0aGlzLmNhbWVyYUZyYW1lc1thLmlkXT1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtkZWxldGUgZi5jYW1lcmFGcmFtZXNbYS5pZF19KX1yZXR1cm4gdGhpc30sYy5wcm90b3R5cGUua2lsbD1mdW5jdGlvbigpe3ZhciBhO3RoaXMuZGlzcGF0Y2hFdmVudChcImtpbGxcIiksdGhpcy5ncmFwaC5raWxsKCksZGVsZXRlIHRoaXMubWlkZGxld2FyZXM7Zm9yKGEgaW4gdGhpcy5yZW5kZXJlcnMpdGhpcy5raWxsUmVuZGVyZXIodGhpcy5yZW5kZXJlcnNbYV0pO2ZvcihhIGluIHRoaXMuY2FtZXJhcyl0aGlzLmtpbGxDYW1lcmEodGhpcy5jYW1lcmFzW2FdKTtkZWxldGUgdGhpcy5yZW5kZXJlcnMsZGVsZXRlIHRoaXMuY2FtZXJhcztmb3IoYSBpbiB0aGlzKXRoaXMuaGFzT3duUHJvcGVydHkoYSkmJmRlbGV0ZSB0aGlzW2FdO2RlbGV0ZSBiW3RoaXMuaWRdfSxjLmluc3RhbmNlcz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9iW2FdOmMudXRpbHMuZXh0ZW5kKHt9LGIpfSxjLnZlcnNpb249XCIxLjIuMVwiLHZvaWQgMCE9PXRoaXMuc2lnbWEpdGhyb3dcIkFuIG9iamVjdCBjYWxsZWQgc2lnbWEgaXMgYWxyZWFkeSBpbiB0aGUgZ2xvYmFsIHNjb3BlLlwiO3RoaXMuc2lnbWE9Y30pLmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhLGMpe3ZhciBkLGUsZixnO2lmKGFyZ3VtZW50cy5sZW5ndGgpaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJk9iamVjdChhcmd1bWVudHNbMF0pPT09YXJndW1lbnRzWzBdKWZvcihhIGluIGFyZ3VtZW50c1swXSliKGEsYXJndW1lbnRzWzBdW2FdKTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IoZz1BcnJheS5pc0FycmF5KGEpP2E6YS5zcGxpdCgvIC8pLGQ9MCxlPWcubGVuZ3RoO2QhPT1lO2QrPTEpZj1nW2RdLENbZl18fChDW2ZdPVtdKSxDW2ZdLnB1c2goe2hhbmRsZXI6Y30pfWZ1bmN0aW9uIGMoYSxiKXt2YXIgYyxkLGUsZixnLGgsaT1BcnJheS5pc0FycmF5KGEpP2E6YS5zcGxpdCgvIC8pO2lmKGFyZ3VtZW50cy5sZW5ndGgpaWYoYilmb3IoYz0wLGQ9aS5sZW5ndGg7YyE9PWQ7Yys9MSl7aWYoaD1pW2NdLENbaF0pe2ZvcihnPVtdLGU9MCxmPUNbaF0ubGVuZ3RoO2UhPT1mO2UrPTEpQ1toXVtlXS5oYW5kbGVyIT09YiYmZy5wdXNoKENbaF1bZV0pO0NbaF09Z31DW2hdJiYwPT09Q1toXS5sZW5ndGgmJmRlbGV0ZSBDW2hdfWVsc2UgZm9yKGM9MCxkPWkubGVuZ3RoO2MhPT1kO2MrPTEpZGVsZXRlIENbaVtjXV07ZWxzZSBDPU9iamVjdC5jcmVhdGUobnVsbCl9ZnVuY3Rpb24gZChhLGIpe3ZhciBjLGQsZSxmLGcsaCxpPUFycmF5LmlzQXJyYXkoYSk/YTphLnNwbGl0KC8gLyk7Zm9yKGI9dm9pZCAwPT09Yj97fTpiLGM9MCxlPWkubGVuZ3RoO2MhPT1lO2MrPTEpaWYoaD1pW2NdLENbaF0pZm9yKGc9e3R5cGU6aCxkYXRhOmJ8fHt9fSxkPTAsZj1DW2hdLmxlbmd0aDtkIT09ZjtkKz0xKXRyeXtDW2hdW2RdLmhhbmRsZXIoZyl9Y2F0Y2goYSl7fX1mdW5jdGlvbiBlKCl7dmFyIGEsYixjLGQsZT0hMSxmPXMoKSxnPXguc2hpZnQoKTtpZihjPWcuam9iKCksZj1zKCktZixnLmRvbmUrKyxnLnRpbWUrPWYsZy5jdXJyZW50VGltZSs9ZixnLndlaWdodFRpbWU9Zy5jdXJyZW50VGltZS8oZy53ZWlnaHR8fDEpLGcuYXZlcmFnZVRpbWU9Zy50aW1lL2cuZG9uZSwhKGQ9Zy5jb3VudD9nLmNvdW50PD1nLmRvbmU6IWMpKXtmb3IoYT0wLGI9eC5sZW5ndGg7YTxiO2ErKylpZih4W2FdLndlaWdodFRpbWU+Zy53ZWlnaHRUaW1lKXt4LnNwbGljZShhLDAsZyksZT0hMDticmVha31lfHx4LnB1c2goZyl9cmV0dXJuIGQ/ZzpudWxsfWZ1bmN0aW9uIGYoYSl7dmFyIGI9eC5sZW5ndGg7d1thLmlkXT1hLGEuc3RhdHVzPVwicnVubmluZ1wiLGImJihhLndlaWdodFRpbWU9eFtiLTFdLndlaWdodFRpbWUsYS5jdXJyZW50VGltZT1hLndlaWdodFRpbWUqKGEud2VpZ2h0fHwxKSksYS5zdGFydFRpbWU9cygpLGQoXCJqb2JTdGFydGVkXCIscShhKSkseC5wdXNoKGEpfWZ1bmN0aW9uIGcoKXt2YXIgYSxiLGM7Zm9yKGEgaW4gdiliPXZbYV0sYi5hZnRlcj95W2FdPWI6ZihiKSxkZWxldGUgdlthXTtmb3IodT0hIXgubGVuZ3RoO3gubGVuZ3RoJiZzKCktdDxCLmZyYW1lRHVyYXRpb247KWlmKGM9ZSgpKXtpKGMuaWQpO2ZvcihhIGluIHkpeVthXS5hZnRlcj09PWMuaWQmJihmKHlbYV0pLGRlbGV0ZSB5W2FdKX11Pyh0PXMoKSxkKFwiZW50ZXJGcmFtZVwiKSxzZXRUaW1lb3V0KGcsMCkpOmQoXCJzdG9wXCIpfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYyxlLGY7aWYoQXJyYXkuaXNBcnJheShhKSl7Zm9yKEE9ITAsYz0wLGU9YS5sZW5ndGg7YzxlO2MrKyloKGFbY10uaWQscChhW2NdLGIpKTtBPSExLHV8fCh0PXMoKSxkKFwic3RhcnRcIiksZygpKX1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBhKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBhLmlkKWgoYS5pZCxhKTtlbHNle0E9ITA7Zm9yKGMgaW4gYSlcImZ1bmN0aW9uXCI9PXR5cGVvZiBhW2NdP2goYyxwKHtqb2I6YVtjXX0sYikpOmgoYyxwKGFbY10sYikpO0E9ITEsdXx8KHQ9cygpLGQoXCJzdGFydFwiKSxnKCkpfWVsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpdGhyb3cgbmV3IEVycm9yKFwiW2NvbnJhZC5hZGRKb2JdIFdyb25nIGFyZ3VtZW50cy5cIik7aWYoayhhKSl0aHJvdyBuZXcgRXJyb3IoJ1tjb25yYWQuYWRkSm9iXSBKb2Igd2l0aCBpZCBcIicrYSsnXCIgYWxyZWFkeSBleGlzdHMuJyk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYilmPXtpZDphLGRvbmU6MCx0aW1lOjAsc3RhdHVzOlwid2FpdGluZ1wiLGN1cnJlbnRUaW1lOjAsYXZlcmFnZVRpbWU6MCx3ZWlnaHRUaW1lOjAsam9iOmJ9O2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGIpdGhyb3cgbmV3IEVycm9yKFwiW2NvbnJhZC5hZGRKb2JdIFdyb25nIGFyZ3VtZW50cy5cIik7Zj1wKHtpZDphLGRvbmU6MCx0aW1lOjAsc3RhdHVzOlwid2FpdGluZ1wiLGN1cnJlbnRUaW1lOjAsYXZlcmFnZVRpbWU6MCx3ZWlnaHRUaW1lOjB9LGIpfXZbYV09ZixkKFwiam9iQWRkZWRcIixxKGYpKSx1fHxBfHwodD1zKCksZChcInN0YXJ0XCIpLGcoKSl9cmV0dXJuIHRoaXN9ZnVuY3Rpb24gaShhKXt2YXIgYixjLGUsZixnPSExO2lmKEFycmF5LmlzQXJyYXkoYSkpZm9yKGI9MCxjPWEubGVuZ3RoO2I8YztiKyspaShhW2JdKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXRocm93IG5ldyBFcnJvcihcIltjb25yYWQua2lsbEpvYl0gV3JvbmcgYXJndW1lbnRzLlwiKTtmb3IoZT1bdyx5LHZdLGI9MCxjPWUubGVuZ3RoO2I8YztiKyspYSBpbiBlW2JdJiYoZj1lW2JdW2FdLEIuaGlzdG9yeSYmKGYuc3RhdHVzPVwiZG9uZVwiLHoucHVzaChmKSksZChcImpvYkVuZGVkXCIscShmKSksZGVsZXRlIGVbYl1bYV0sXCJmdW5jdGlvblwiPT10eXBlb2YgZi5lbmQmJmYuZW5kKCksZz0hMCk7Zm9yKGU9eCxiPTAsYz1lLmxlbmd0aDtiPGM7YisrKWlmKGVbYl0uaWQ9PT1hKXtlLnNwbGljZShiLDEpO2JyZWFrfWlmKCFnKXRocm93IG5ldyBFcnJvcignW2NvbnJhZC5raWxsSm9iXSBKb2IgXCInK2ErJ1wiIG5vdCBmb3VuZC4nKX1yZXR1cm4gdGhpc31mdW5jdGlvbiBqKCl7dmFyIGEsYj1wKHYsdyx5KTtpZihCLmhpc3RvcnkpZm9yKGEgaW4gYiliW2FdLnN0YXR1cz1cImRvbmVcIix6LnB1c2goYlthXSksXCJmdW5jdGlvblwiPT10eXBlb2YgYlthXS5lbmQmJmJbYV0uZW5kKCk7cmV0dXJuIHY9e30seT17fSx3PXt9LHg9W10sdT0hMSx0aGlzfWZ1bmN0aW9uIGsoYSl7dmFyIGI9dlthXXx8d1thXXx8eVthXTtyZXR1cm4gYj9wKGIpOm51bGx9ZnVuY3Rpb24gbChhLGIpe3ZhciBjO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhMSYmMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIEJbYTFdO2M9XCJvYmplY3RcIj09dHlwZW9mIGExJiYxPT09YXJndW1lbnRzLmxlbmd0aD9hMXx8e306e30sXCJzdHJpbmdcIj09dHlwZW9mIGExJiYoY1thMV09YTIpO2Zvcih2YXIgZCBpbiBjKXZvaWQgMCE9PWNbZF0/QltkXT1jW2RdOmRlbGV0ZSBCW2RdO3JldHVybiB0aGlzfWZ1bmN0aW9uIG0oKXtyZXR1cm4gdX1mdW5jdGlvbiBuKCl7cmV0dXJuIHo9W10sdGhpc31mdW5jdGlvbiBvKGEsYil7dmFyIGMsZCxlLGYsZyxoLGk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpe2c9W107Zm9yKGQgaW4gdilnLnB1c2godltkXSk7Zm9yKGQgaW4geSlnLnB1c2goeVtkXSk7Zm9yKGQgaW4gdylnLnB1c2god1tkXSk7Zz1nLmNvbmNhdCh6KX1pZihcInN0cmluZ1wiPT10eXBlb2YgYSlzd2l0Y2goYSl7Y2FzZVwid2FpdGluZ1wiOmc9cih5KTticmVhaztjYXNlXCJydW5uaW5nXCI6Zz1yKHcpO2JyZWFrO2Nhc2VcImRvbmVcIjpnPXo7YnJlYWs7ZGVmYXVsdDpoPWF9aWYoYSBpbnN0YW5jZW9mIFJlZ0V4cCYmKGg9YSksIWgmJihcInN0cmluZ1wiPT10eXBlb2YgYnx8YiBpbnN0YW5jZW9mIFJlZ0V4cCkmJihoPWIpLGgpe2lmKGk9XCJzdHJpbmdcIj09dHlwZW9mIGgsZyBpbnN0YW5jZW9mIEFycmF5KWM9ZztlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBnKXtjPVtdO2ZvcihkIGluIGcpYz1jLmNvbmNhdChnW2RdKX1lbHNle2M9W107Zm9yKGQgaW4gdiljLnB1c2godltkXSk7Zm9yKGQgaW4geSljLnB1c2goeVtkXSk7Zm9yKGQgaW4gdyljLnB1c2god1tkXSk7Yz1jLmNvbmNhdCh6KX1mb3IoZz1bXSxlPTAsZj1jLmxlbmd0aDtlPGY7ZSsrKShpP2NbZV0uaWQ9PT1oOmNbZV0uaWQubWF0Y2goaCkpJiZnLnB1c2goY1tlXSl9cmV0dXJuIHEoZyl9ZnVuY3Rpb24gcCgpe3ZhciBhLGIsYz17fSxkPWFyZ3VtZW50cy5sZW5ndGg7Zm9yKGE9ZC0xO2E+PTA7YS0tKWZvcihiIGluIGFyZ3VtZW50c1thXSljW2JdPWFyZ3VtZW50c1thXVtiXTtyZXR1cm4gY31mdW5jdGlvbiBxKGEpe3ZhciBiLGMsZDtpZighYSlyZXR1cm4gYTtpZihBcnJheS5pc0FycmF5KGEpKWZvcihiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5wdXNoKHEoYVtjXSkpO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe2I9e307Zm9yKGMgaW4gYSliW2NdPXEoYVtjXSl9ZWxzZSBiPWE7cmV0dXJuIGJ9ZnVuY3Rpb24gcihhKXt2YXIgYixjPVtdO2ZvcihiIGluIGEpYy5wdXNoKGFbYl0pO3JldHVybiBjfWZ1bmN0aW9uIHMoKXtyZXR1cm4gRGF0ZS5ub3c/RGF0ZS5ub3coKToobmV3IERhdGUpLmdldFRpbWUoKX1pZihhLmNvbnJhZCl0aHJvdyBuZXcgRXJyb3IoXCJjb25yYWQgYWxyZWFkeSBleGlzdHNcIik7dmFyIHQsdT0hMSx2PXt9LHc9e30seD1bXSx5PXt9LHo9W10sQT0hMSxCPXtmcmFtZUR1cmF0aW9uOjIwLGhpc3Rvcnk6ITB9LEM9T2JqZWN0LmNyZWF0ZShudWxsKTtBcnJheS5pc0FycmF5fHwoQXJyYXkuaXNBcnJheT1mdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9KTt2YXIgRD17aGFzSm9iOmssYWRkSm9iOmgsa2lsbEpvYjppLGtpbGxBbGw6aixzZXR0aW5nczpsLGdldFN0YXRzOm8saXNSdW5uaW5nOm0sY2xlYXJIaXN0b3J5Om4sYmluZDpiLHVuYmluZDpjLHZlcnNpb246XCIwLjEuMFwifTtcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1EKSxleHBvcnRzLmNvbnJhZD1EKSxhLmNvbnJhZD1EfSh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3ZhciBiPXRoaXM7c2lnbWEudXRpbHM9c2lnbWEudXRpbHN8fHt9LHNpZ21hLnV0aWxzLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGIsYz17fSxkPWFyZ3VtZW50cy5sZW5ndGg7Zm9yKGE9ZC0xO2E+PTA7YS0tKWZvcihiIGluIGFyZ3VtZW50c1thXSljW2JdPWFyZ3VtZW50c1thXVtiXTtyZXR1cm4gY30sc2lnbWEudXRpbHMuZGF0ZU5vdz1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdz9EYXRlLm5vdygpOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxzaWdtYS51dGlscy5wa2c9ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fFwiXCIpLnNwbGl0KFwiLlwiKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiBpbiBhP2FbYl06YVtiXT17fX0sYil9LHNpZ21hLnV0aWxzLmlkPWZ1bmN0aW9uKCl7dmFyIGE9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4rK2F9fSgpO3ZhciBjPXt9O3NpZ21hLnV0aWxzLmZsb2F0Q29sb3I9ZnVuY3Rpb24oYSl7aWYoY1thXSlyZXR1cm4gY1thXTt2YXIgYj1hLGQ9MCxlPTAsZj0wO1wiI1wiPT09YVswXT8oYT1hLnNsaWNlKDEpLDM9PT1hLmxlbmd0aD8oZD1wYXJzZUludChhLmNoYXJBdCgwKSthLmNoYXJBdCgwKSwxNiksZT1wYXJzZUludChhLmNoYXJBdCgxKSthLmNoYXJBdCgxKSwxNiksZj1wYXJzZUludChhLmNoYXJBdCgyKSthLmNoYXJBdCgyKSwxNikpOihkPXBhcnNlSW50KGEuY2hhckF0KDApK2EuY2hhckF0KDEpLDE2KSxlPXBhcnNlSW50KGEuY2hhckF0KDIpK2EuY2hhckF0KDMpLDE2KSxmPXBhcnNlSW50KGEuY2hhckF0KDQpK2EuY2hhckF0KDUpLDE2KSkpOmEubWF0Y2goL14gKnJnYmE/ICpcXCgvKSYmKGE9YS5tYXRjaCgvXiAqcmdiYT8gKlxcKCAqKFswLTldKikgKiwgKihbMC05XSopICosICooWzAtOV0qKSAqKCwuKik/XFwpICokLyksZD0rYVsxXSxlPSthWzJdLGY9K2FbM10pO3ZhciBnPTI1NipkKjI1NisyNTYqZStmO3JldHVybiBjW2JdPWcsZ30sc2lnbWEudXRpbHMuem9vbVRvPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGk9YS5zZXR0aW5nczsoZz1NYXRoLm1heChpKFwiem9vbU1pblwiKSxNYXRoLm1pbihpKFwiem9vbU1heFwiKSxhLnJhdGlvKmQpKSkhPT1hLnJhdGlvJiYoZD1nL2EucmF0aW8saD17eDpiKigxLWQpK2EueCx5OmMqKDEtZCkrYS55LHJhdGlvOmd9LGUmJmUuZHVyYXRpb24/KGY9c2lnbWEubWlzYy5hbmltYXRpb24ua2lsbEFsbChhKSxlPXNpZ21hLnV0aWxzLmV4dGVuZChlLHtlYXNpbmc6Zj9cInF1YWRyYXRpY091dFwiOlwicXVhZHJhdGljSW5PdXRcIn0pLHNpZ21hLm1pc2MuYW5pbWF0aW9uLmNhbWVyYShhLGgsZSkpOihhLmdvVG8oaCksZSYmZS5vbkNvbXBsZXRlJiZlLm9uQ29tcGxldGUoKSkpfSxzaWdtYS51dGlscy5nZXRRdWFkcmF0aWNDb250cm9sUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJue3g6KGErYykvMisoZC1iKS80LHk6KGIrZCkvMisoYS1jKS80fX0sc2lnbWEudXRpbHMuZ2V0UG9pbnRPblF1YWRyYXRpY0N1cnZlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3JldHVybnt4Ok1hdGgucG93KDEtYSwyKSpiKzIqKDEtYSkqYSpmK01hdGgucG93KGEsMikqZCx5Ok1hdGgucG93KDEtYSwyKSpjKzIqKDEtYSkqYSpnK01hdGgucG93KGEsMikqZX19LHNpZ21hLnV0aWxzLmdldFBvaW50T25CZXppZXJDdXJ2ZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7dmFyIGo9TWF0aC5wb3coMS1hLDMpLGs9MyphKk1hdGgucG93KDEtYSwyKSxsPTMqTWF0aC5wb3coYSwyKSooMS1hKSxtPU1hdGgucG93KGEsMyk7cmV0dXJue3g6aipiK2sqZitsKmgrbSpkLHk6aipjK2sqZytsKmkrbSplfX0sc2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm57eDE6YS03KmMseTE6Yix4MjphLHkyOmIrNypjfX0sc2lnbWEudXRpbHMuZ2V0RGlzdGFuY2U9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhjLWEsMikrTWF0aC5wb3coZC1iLDIpKX0sc2lnbWEudXRpbHMuZ2V0Q2lyY2xlSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZyxoLGksaixrLGwsbSxuLG87cmV0dXJuIGg9ZC1hLGk9ZS1iLCEoKGo9TWF0aC5zcXJ0KGkqaStoKmgpKT5jK2YpJiYoIShqPE1hdGguYWJzKGMtZikpJiYoZz0oYypjLWYqZitqKmopLygyKmopLG49YStoKmcvaixvPWIraSpnL2osaz1NYXRoLnNxcnQoYypjLWcqZyksbD1rL2oqLWksbT1oKihrL2opLHt4aTpuK2wseGlfcHJpbWU6bi1sLHlpOm8rbSx5aV9wcmltZTpvLW19KSl9LHNpZ21hLnV0aWxzLmlzUG9pbnRPblNlZ21lbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7cmV0dXJuIE1hdGguYWJzKChiLWQpKihlLWMpLShhLWMpKihmLWQpKS9zaWdtYS51dGlscy5nZXREaXN0YW5jZShjLGQsZSxmKTxnJiZNYXRoLm1pbihjLGUpPD1hJiZhPD1NYXRoLm1heChjLGUpJiZNYXRoLm1pbihkLGYpPD1iJiZiPD1NYXRoLm1heChkLGYpfSxzaWdtYS51dGlscy5pc1BvaW50T25RdWFkcmF0aWNDdXJ2ZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7dmFyIGo9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYyxkLGUsZik7aWYoTWF0aC5hYnMoYS1jKT5qfHxNYXRoLmFicyhiLWQpPmopcmV0dXJuITE7Zm9yKHZhciBrLGw9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYSxiLGMsZCksbT1zaWdtYS51dGlscy5nZXREaXN0YW5jZShhLGIsZSxmKSxuPS41LG89bDxtPy0uMDE6LjAxLHA9LjAwMSxxPTEwMCxyPXNpZ21hLnV0aWxzLmdldFBvaW50T25RdWFkcmF0aWNDdXJ2ZShuLGMsZCxlLGYsZyxoKSxzPXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGEsYixyLngsci55KTtxLS0gPjAmJm4+PTAmJm48PTEmJnM+aSYmKG8+cHx8bzwtcCk7KWs9cyxyPXNpZ21hLnV0aWxzLmdldFBvaW50T25RdWFkcmF0aWNDdXJ2ZShuLGMsZCxlLGYsZyxoKSxzPXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGEsYixyLngsci55KSxzPms/KG89LW8vMixuKz1vKTpuK288MHx8bitvPjE/KG8vPTIscz1rKTpuKz1vO3JldHVybiBzPGl9LHNpZ21hLnV0aWxzLmlzUG9pbnRPbkJlemllckN1cnZlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpLGosayl7dmFyIGw9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYyxkLGcsaCk7aWYoTWF0aC5hYnMoYS1jKT5sfHxNYXRoLmFicyhiLWQpPmwpcmV0dXJuITE7Zm9yKHZhciBtLG49c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYSxiLGMsZCksbz1zaWdtYS51dGlscy5nZXREaXN0YW5jZShhLGIsZSxmKSxwPS41LHE9bjxvPy0uMDE6LjAxLHI9LjAwMSxzPTEwMCx0PXNpZ21hLnV0aWxzLmdldFBvaW50T25CZXppZXJDdXJ2ZShwLGMsZCxlLGYsZyxoLGksaiksdT1zaWdtYS51dGlscy5nZXREaXN0YW5jZShhLGIsdC54LHQueSk7cy0tID4wJiZwPj0wJiZwPD0xJiZ1PmsmJihxPnJ8fHE8LXIpOyltPXUsdD1zaWdtYS51dGlscy5nZXRQb2ludE9uQmV6aWVyQ3VydmUocCxjLGQsZSxmLGcsaCxpLGopLHU9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYSxiLHQueCx0LnkpLHU+bT8ocT0tcS8yLHArPXEpOnArcTwwfHxwK3E+MT8ocS89Mix1PW0pOnArPXE7cmV0dXJuIHU8a30sc2lnbWEudXRpbHMuZ2V0WD1mdW5jdGlvbihiKXtyZXR1cm4gYi5vZmZzZXRYIT09YSYmYi5vZmZzZXRYfHxiLmxheWVyWCE9PWEmJmIubGF5ZXJYfHxiLmNsaWVudFghPT1hJiZiLmNsaWVudFh9LHNpZ21hLnV0aWxzLmdldFk9ZnVuY3Rpb24oYil7cmV0dXJuIGIub2Zmc2V0WSE9PWEmJmIub2Zmc2V0WXx8Yi5sYXllclkhPT1hJiZiLmxheWVyWXx8Yi5jbGllbnRZIT09YSYmYi5jbGllbnRZfSxzaWdtYS51dGlscy5nZXRQaXhlbFJhdGlvPWZ1bmN0aW9uKCl7dmFyIGI9MTtyZXR1cm4gd2luZG93LnNjcmVlbi5kZXZpY2VYRFBJIT09YSYmd2luZG93LnNjcmVlbi5sb2dpY2FsWERQSSE9PWEmJndpbmRvdy5zY3JlZW4uZGV2aWNlWERQST53aW5kb3cuc2NyZWVuLmxvZ2ljYWxYRFBJP2I9d2luZG93LnNjcmVlbi5zeXN0ZW1YRFBJL3dpbmRvdy5zY3JlZW4ubG9naWNhbFhEUEk6d2luZG93LmRldmljZVBpeGVsUmF0aW8hPT1hJiYoYj13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksYn0sc2lnbWEudXRpbHMuZ2V0V2lkdGg9ZnVuY3Rpb24oYil7dmFyIGM9Yi50YXJnZXQub3duZXJTVkdFbGVtZW50P2IudGFyZ2V0Lm93bmVyU1ZHRWxlbWVudC53aWR0aDpiLnRhcmdldC53aWR0aDtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYyYmY3x8YyE9PWEmJmMuYmFzZVZhbCE9PWEmJmMuYmFzZVZhbC52YWx1ZX0sc2lnbWEudXRpbHMuZ2V0Q2VudGVyPWZ1bmN0aW9uKGEpe3ZhciBiPS0xIT09YS50YXJnZXQubmFtZXNwYWNlVVJJLmluZGV4T2YoXCJzdmdcIik/MTpzaWdtYS51dGlscy5nZXRQaXhlbFJhdGlvKCk7cmV0dXJue3g6c2lnbWEudXRpbHMuZ2V0V2lkdGgoYSkvKDIqYikseTpzaWdtYS51dGlscy5nZXRIZWlnaHQoYSkvKDIqYil9fSxzaWdtYS51dGlscy5tb3VzZUNvb3Jkcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9Ynx8c2lnbWEudXRpbHMuZ2V0WChhKSxjPWN8fHNpZ21hLnV0aWxzLmdldFkoYSkse3g6Yi1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueCx5OmMtc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLnksY2xpZW50WDphLmNsaWVudFgsY2xpZW50WTphLmNsaWVudFksY3RybEtleTphLmN0cmxLZXksbWV0YUtleTphLm1ldGFLZXksYWx0S2V5OmEuYWx0S2V5LHNoaWZ0S2V5OmEuc2hpZnRLZXl9fSxzaWdtYS51dGlscy5nZXRIZWlnaHQ9ZnVuY3Rpb24oYil7dmFyIGM9Yi50YXJnZXQub3duZXJTVkdFbGVtZW50P2IudGFyZ2V0Lm93bmVyU1ZHRWxlbWVudC5oZWlnaHQ6Yi50YXJnZXQuaGVpZ2h0O3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBjJiZjfHxjIT09YSYmYy5iYXNlVmFsIT09YSYmYy5iYXNlVmFsLnZhbHVlfSxzaWdtYS51dGlscy5nZXREZWx0YT1mdW5jdGlvbihiKXtyZXR1cm4gYi53aGVlbERlbHRhIT09YSYmYi53aGVlbERlbHRhfHxiLmRldGFpbCE9PWEmJi1iLmRldGFpbH0sc2lnbWEudXRpbHMuZ2V0T2Zmc2V0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9MDthOyljKz1wYXJzZUludChhLm9mZnNldFRvcCksYis9cGFyc2VJbnQoYS5vZmZzZXRMZWZ0KSxhPWEub2Zmc2V0UGFyZW50O3JldHVybnt0b3A6YyxsZWZ0OmJ9fSxzaWdtYS51dGlscy5kb3VibGVDbGljaz1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wO2EuX2RvdWJsZUNsaWNrSGFuZGxlcj1hLl9kb3VibGVDbGlja0hhbmRsZXJ8fHt9LGEuX2RvdWJsZUNsaWNrSGFuZGxlcltiXT1hLl9kb3VibGVDbGlja0hhbmRsZXJbYl18fFtdLGQ9YS5fZG91YmxlQ2xpY2tIYW5kbGVyW2JdLGQucHVzaChmdW5jdGlvbihhKXtpZigyPT09KytlKXJldHVybiBlPTAsYyhhKTsxPT09ZSYmc2V0VGltZW91dChmdW5jdGlvbigpe2U9MH0sc2lnbWEuc2V0dGluZ3MuZG91YmxlQ2xpY2tUaW1lb3V0KX0pLGEuYWRkRXZlbnRMaXN0ZW5lcihiLGRbZC5sZW5ndGgtMV0sITEpfSxzaWdtYS51dGlscy51bmJpbmREb3VibGVDbGljaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPShhLl9kb3VibGVDbGlja0hhbmRsZXJ8fHt9KVtiXXx8W107Yz1kLnBvcCgpOylhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjKTtkZWxldGUoYS5fZG91YmxlQ2xpY2tIYW5kbGVyfHx7fSlbYl19LHNpZ21hLnV0aWxzLmVhc2luZ3M9c2lnbWEudXRpbHMuZWFzaW5nc3x8e30sc2lnbWEudXRpbHMuZWFzaW5ncy5saW5lYXJOb25lPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxzaWdtYS51dGlscy5lYXNpbmdzLnF1YWRyYXRpY0luPWZ1bmN0aW9uKGEpe3JldHVybiBhKmF9LHNpZ21hLnV0aWxzLmVhc2luZ3MucXVhZHJhdGljT3V0PWZ1bmN0aW9uKGEpe3JldHVybiBhKigyLWEpfSxzaWdtYS51dGlscy5lYXNpbmdzLnF1YWRyYXRpY0luT3V0PWZ1bmN0aW9uKGEpe3JldHVybihhKj0yKTwxPy41KmEqYTotLjUqKC0tYSooYS0yKS0xKX0sc2lnbWEudXRpbHMuZWFzaW5ncy5jdWJpY0luPWZ1bmN0aW9uKGEpe3JldHVybiBhKmEqYX0sc2lnbWEudXRpbHMuZWFzaW5ncy5jdWJpY091dD1mdW5jdGlvbihhKXtyZXR1cm4tLWEqYSphKzF9LHNpZ21hLnV0aWxzLmVhc2luZ3MuY3ViaWNJbk91dD1mdW5jdGlvbihhKXtyZXR1cm4oYSo9Mik8MT8uNSphKmEqYTouNSooKGEtPTIpKmEqYSsyKX0sc2lnbWEudXRpbHMubG9hZFNoYWRlcj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmPWEuY3JlYXRlU2hhZGVyKGMpO3JldHVybiBhLnNoYWRlclNvdXJjZShmLGIpLGEuY29tcGlsZVNoYWRlcihmKSxlPWEuZ2V0U2hhZGVyUGFyYW1ldGVyKGYsYS5DT01QSUxFX1NUQVRVUyksZT9mOihkJiZkKCdFcnJvciBjb21waWxpbmcgc2hhZGVyIFwiJytmKydcIjonK2EuZ2V0U2hhZGVySW5mb0xvZyhmKSksYS5kZWxldGVTaGFkZXIoZiksbnVsbCl9LHNpZ21hLnV0aWxzLmxvYWRQcm9ncmFtPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoPWEuY3JlYXRlUHJvZ3JhbSgpO2ZvcihmPTA7ZjxiLmxlbmd0aDsrK2YpYS5hdHRhY2hTaGFkZXIoaCxiW2ZdKTtpZihjKWZvcihmPTA7ZjxjLmxlbmd0aDsrK2YpYS5iaW5kQXR0cmliTG9jYXRpb24oaCxsb2NhdGlvbnM/bG9jYXRpb25zW2ZdOmYsb3B0X2F0dHJpYnNbZl0pO3JldHVybiBhLmxpbmtQcm9ncmFtKGgpLGc9YS5nZXRQcm9ncmFtUGFyYW1ldGVyKGgsYS5MSU5LX1NUQVRVUyksZz9oOihlJiZlKFwiRXJyb3IgaW4gcHJvZ3JhbSBsaW5raW5nOiBcIithLmdldFByb2dyYW1JbmZvTG9nKGgpKSxhLmRlbGV0ZVByb2dyYW0oaCksbnVsbCl9LHNpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnV0aWxzLm1hdHJpY2VzXCIpLHNpZ21hLnV0aWxzLm1hdHJpY2VzLnRyYW5zbGF0aW9uPWZ1bmN0aW9uKGEsYil7cmV0dXJuWzEsMCwwLDAsMSwwLGEsYiwxXX0sc2lnbWEudXRpbHMubWF0cmljZXMucm90YXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLmNvcyhhKSxkPU1hdGguc2luKGEpO3JldHVybiBiP1tjLC1kLGQsY106W2MsLWQsMCxkLGMsMCwwLDAsMV19LHNpZ21hLnV0aWxzLm1hdHJpY2VzLnNjYWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/W2EsMCwwLGFdOlthLDAsMCwwLGEsMCwwLDAsMV19LHNpZ21hLnV0aWxzLm1hdHJpY2VzLm11bHRpcGx5PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jPzI6MyxlPWFbMCpkKzBdLGY9YVswKmQrMV0sZz1hWzAqZCsyXSxoPWFbMSpkKzBdLGk9YVsxKmQrMV0saj1hWzEqZCsyXSxrPWFbMipkKzBdLGw9YVsyKmQrMV0sbT1hWzIqZCsyXSxuPWJbMCpkKzBdLG89YlswKmQrMV0scD1iWzAqZCsyXSxxPWJbMSpkKzBdLHI9YlsxKmQrMV0scz1iWzEqZCsyXSx0PWJbMipkKzBdLHU9YlsyKmQrMV0sdj1iWzIqZCsyXTtyZXR1cm4gYz9bZSpuK2YqcSxlKm8rZipyLGgqbitpKnEsaCpvK2kqcl06W2UqbitmKnErZyp0LGUqbytmKnIrZyp1LGUqcCtmKnMrZyp2LGgqbitpKnEraip0LGgqbytpKnIraip1LGgqcCtpKnMraip2LGsqbitsKnErbSp0LGsqbytsKnIrbSp1LGsqcCtsKnMrbSp2XX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGIsYz0wLGQ9W1wibXNcIixcIm1velwiLFwid2Via2l0XCIsXCJvXCJdO2ZvcihiPTA7YjxkLmxlbmd0aCYmIWEucmVxdWVzdEFuaW1hdGlvbkZyYW1lO2IrKylhLnJlcXVlc3RBbmltYXRpb25GcmFtZT1hW2RbYl0rXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0sYS5jYW5jZWxBbmltYXRpb25GcmFtZT1hW2RbYl0rXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8YVtkW2JdK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO2EucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwoYS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oYixkKXt2YXIgZT0obmV3IERhdGUpLmdldFRpbWUoKSxmPU1hdGgubWF4KDAsMTYtKGUtYykpLGc9YS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihlK2YpfSxmKTtyZXR1cm4gYz1lK2YsZ30pLGEuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fChhLmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX0pLEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgLSB3aGF0IGlzIHRyeWluZyB0byBiZSBib3VuZCBpcyBub3QgY2FsbGFibGVcIik7dmFyIGIsYyxkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxlPXRoaXM7cmV0dXJuIGI9ZnVuY3Rpb24oKXt9LGM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzIGluc3RhbmNlb2YgYiYmYT90aGlzOmEsZC5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfSxiLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZSxjLnByb3RvdHlwZT1uZXcgYixjfSl9KHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuc2V0dGluZ3NcIik7dmFyIGI9e2Nsb25lOiEwLGltbXV0YWJsZTohMCx2ZXJib3NlOiExLGNsYXNzUHJlZml4Olwic2lnbWFcIixkZWZhdWx0Tm9kZVR5cGU6XCJkZWZcIixkZWZhdWx0RWRnZVR5cGU6XCJkZWZcIixkZWZhdWx0TGFiZWxDb2xvcjpcIiMwMDBcIixkZWZhdWx0RWRnZUNvbG9yOlwiIzAwMFwiLGRlZmF1bHROb2RlQ29sb3I6XCIjMDAwXCIsZGVmYXVsdExhYmVsU2l6ZToxNCxlZGdlQ29sb3I6XCJzb3VyY2VcIixtaW5BcnJvd1NpemU6MCxmb250OlwiYXJpYWxcIixmb250U3R5bGU6XCJcIixsYWJlbENvbG9yOlwiZGVmYXVsdFwiLGxhYmVsU2l6ZTpcImZpeGVkXCIsbGFiZWxTaXplUmF0aW86MSxsYWJlbFRocmVzaG9sZDo4LHdlYmdsT3ZlcnNhbXBsaW5nUmF0aW86Mixib3JkZXJTaXplOjAsZGVmYXVsdE5vZGVCb3JkZXJDb2xvcjpcIiMwMDBcIixob3ZlckZvbnQ6XCJcIixzaW5nbGVIb3ZlcjohMCxob3ZlckZvbnRTdHlsZTpcIlwiLGxhYmVsSG92ZXJTaGFkb3c6XCJkZWZhdWx0XCIsbGFiZWxIb3ZlclNoYWRvd0NvbG9yOlwiIzAwMFwiLG5vZGVIb3ZlckNvbG9yOlwibm9kZVwiLGRlZmF1bHROb2RlSG92ZXJDb2xvcjpcIiMwMDBcIixsYWJlbEhvdmVyQkdDb2xvcjpcImRlZmF1bHRcIixkZWZhdWx0SG92ZXJMYWJlbEJHQ29sb3I6XCIjZmZmXCIsbGFiZWxIb3ZlckNvbG9yOlwiZGVmYXVsdFwiLGRlZmF1bHRMYWJlbEhvdmVyQ29sb3I6XCIjMDAwXCIsZWRnZUhvdmVyQ29sb3I6XCJlZGdlXCIsZWRnZUhvdmVyU2l6ZVJhdGlvOjEsZGVmYXVsdEVkZ2VIb3ZlckNvbG9yOlwiIzAwMFwiLGVkZ2VIb3ZlckV4dHJlbWl0aWVzOiExLGRyYXdFZGdlczohMCxkcmF3Tm9kZXM6ITAsZHJhd0xhYmVsczohMCxkcmF3RWRnZUxhYmVsczohMSxiYXRjaEVkZ2VzRHJhd2luZzohMSxoaWRlRWRnZXNPbk1vdmU6ITEsY2FudmFzRWRnZXNCYXRjaFNpemU6NTAwLHdlYmdsRWRnZXNCYXRjaFNpemU6MWUzLHNjYWxpbmdNb2RlOlwiaW5zaWRlXCIsc2lkZU1hcmdpbjowLG1pbkVkZ2VTaXplOi41LG1heEVkZ2VTaXplOjEsbWluTm9kZVNpemU6MSxtYXhOb2RlU2l6ZTo4LHRvdWNoRW5hYmxlZDohMCxtb3VzZUVuYWJsZWQ6ITAsbW91c2VXaGVlbEVuYWJsZWQ6ITAsZG91YmxlQ2xpY2tFbmFibGVkOiEwLGV2ZW50c0VuYWJsZWQ6ITAsem9vbWluZ1JhdGlvOjEuNyxkb3VibGVDbGlja1pvb21pbmdSYXRpbzoyLjIsem9vbU1pbjouMDYyNSx6b29tTWF4OjIsbW91c2Vab29tRHVyYXRpb246MjAwLGRvdWJsZUNsaWNrWm9vbUR1cmF0aW9uOjIwMCxtb3VzZUluZXJ0aWFEdXJhdGlvbjoyMDAsbW91c2VJbmVydGlhUmF0aW86Myx0b3VjaEluZXJ0aWFEdXJhdGlvbjoyMDAsdG91Y2hJbmVydGlhUmF0aW86Myxkb3VibGVDbGlja1RpbWVvdXQ6MzAwLGRvdWJsZVRhcFRpbWVvdXQ6MzAwLGRyYWdUaW1lb3V0OjIwMCxhdXRvUmVzaXplOiEwLGF1dG9SZXNjYWxlOiEwLGVuYWJsZUNhbWVyYTohMCxlbmFibGVIb3ZlcmluZzohMCxlbmFibGVFZGdlSG92ZXJpbmc6ITEsZWRnZUhvdmVyUHJlY2lzaW9uOjUscmVzY2FsZUlnbm9yZVNpemU6ITEsc2tpcEVycm9yczohMSxub2Rlc1Bvd1JhdGlvOi41LGVkZ2VzUG93UmF0aW86LjUsYW5pbWF0aW9uc1RpbWU6MjAwfTtzaWdtYS5zZXR0aW5ncz1zaWdtYS51dGlscy5leHRlbmQoc2lnbWEuc2V0dGluZ3N8fHt9LGIpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9ZnVuY3Rpb24oKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9oYW5kbGVyc1wiLHt2YWx1ZTp7fX0pfTthLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJlwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pZm9yKGEgaW4gYXJndW1lbnRzWzBdKXRoaXMuYmluZChhLGFyZ3VtZW50c1swXVthXSk7ZWxzZXtpZigyIT09YXJndW1lbnRzLmxlbmd0aHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYXJndW1lbnRzWzFdKXRocm93XCJiaW5kOiBXcm9uZyBhcmd1bWVudHMuXCI7Zm9yKGY9XCJzdHJpbmdcIj09dHlwZW9mIGE/YS5zcGxpdChcIiBcIik6YSxjPTAsZD1mLmxlbmd0aDtjIT09ZDtjKz0xKShlPWZbY10pJiYodGhpcy5faGFuZGxlcnNbZV18fCh0aGlzLl9oYW5kbGVyc1tlXT1bXSksdGhpcy5faGFuZGxlcnNbZV0ucHVzaCh7aGFuZGxlcjpifSkpfXJldHVybiB0aGlzfSxhLnByb3RvdHlwZS51bmJpbmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqPVwic3RyaW5nXCI9PXR5cGVvZiBhP2Euc3BsaXQoXCIgXCIpOmE7aWYoIWFyZ3VtZW50cy5sZW5ndGgpe2ZvcihnIGluIHRoaXMuX2hhbmRsZXJzKWRlbGV0ZSB0aGlzLl9oYW5kbGVyc1tnXTtyZXR1cm4gdGhpc31pZihiKWZvcihjPTAsZD1qLmxlbmd0aDtjIT09ZDtjKz0xKXtpZihpPWpbY10sdGhpcy5faGFuZGxlcnNbaV0pe2ZvcihoPVtdLGU9MCxmPXRoaXMuX2hhbmRsZXJzW2ldLmxlbmd0aDtlIT09ZjtlKz0xKXRoaXMuX2hhbmRsZXJzW2ldW2VdLmhhbmRsZXIhPT1iJiZoLnB1c2godGhpcy5faGFuZGxlcnNbaV1bZV0pO3RoaXMuX2hhbmRsZXJzW2ldPWh9dGhpcy5faGFuZGxlcnNbaV0mJjA9PT10aGlzLl9oYW5kbGVyc1tpXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9oYW5kbGVyc1tpXX1lbHNlIGZvcihjPTAsZD1qLmxlbmd0aDtjIT09ZDtjKz0xKWRlbGV0ZSB0aGlzLl9oYW5kbGVyc1tqW2NdXTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo9dGhpcyxrPVwic3RyaW5nXCI9PXR5cGVvZiBhP2Euc3BsaXQoXCIgXCIpOmE7Zm9yKGI9dm9pZCAwPT09Yj97fTpiLGM9MCxkPWsubGVuZ3RoO2MhPT1kO2MrPTEpaWYoaT1rW2NdLHRoaXMuX2hhbmRsZXJzW2ldKXtmb3IoaD1qLmdldEV2ZW50KGksYiksZz1bXSxlPTAsZj10aGlzLl9oYW5kbGVyc1tpXS5sZW5ndGg7ZSE9PWY7ZSs9MSl0aGlzLl9oYW5kbGVyc1tpXVtlXS5oYW5kbGVyKGgpLHRoaXMuX2hhbmRsZXJzW2ldW2VdLm9uZXx8Zy5wdXNoKHRoaXMuX2hhbmRsZXJzW2ldW2VdKTt0aGlzLl9oYW5kbGVyc1tpXT1nfXJldHVybiB0aGlzfSxhLnByb3RvdHlwZS5nZXRFdmVudD1mdW5jdGlvbihhLGIpe3JldHVybnt0eXBlOmEsZGF0YTpifHx7fSx0YXJnZXQ6dGhpc319LGEuZXh0ZW5kPWZ1bmN0aW9uKGIsYyl7dmFyIGQ7Zm9yKGQgaW4gYS5wcm90b3R5cGUpYS5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoZCkmJihiW2RdPWEucHJvdG90eXBlW2RdKTthLmFwcGx5KGIsYyl9LHZvaWQgMCE9PXRoaXMuc2lnbWE/KHRoaXMuc2lnbWEuY2xhc3Nlcz10aGlzLnNpZ21hLmNsYXNzZXN8fHt9LHRoaXMuc2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyPWEpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzPyhcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9YSksZXhwb3J0cy5kaXNwYXRjaGVyPWEpOnRoaXMuZGlzcGF0Y2hlcj1hfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9ZnVuY3Rpb24oKXt2YXIgYixjLGQ9e30sZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksZj1mdW5jdGlvbihhLGIpe3ZhciBjLGcsaCxpO3tpZigxIT09YXJndW1lbnRzLmxlbmd0aHx8XCJzdHJpbmdcIiE9dHlwZW9mIGEpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhJiZcInN0cmluZ1wiPT10eXBlb2YgYilyZXR1cm4gdm9pZCAwIT09KGF8fHt9KVtiXT9hW2JdOmYoYik7Zm9yKGM9XCJvYmplY3RcIj09dHlwZW9mIGEmJnZvaWQgMD09PWI/YTp7fSxcInN0cmluZ1wiPT10eXBlb2YgYSYmKGNbYV09YiksZz0wLGk9T2JqZWN0LmtleXMoYyksaD1pLmxlbmd0aDtnPGg7ZysrKWRbaVtnXV09Y1tpW2ddXTtyZXR1cm4gdGhpc31pZih2b2lkIDAhPT1kW2FdKXJldHVybiBkW2FdO2ZvcihnPTAsaD1lLmxlbmd0aDtnPGg7ZysrKWlmKHZvaWQgMCE9PWVbZ11bYV0pcmV0dXJuIGVbZ11bYV19fTtmb3IoZi5lbWJlZE9iamVjdHM9ZnVuY3Rpb24oKXt2YXIgYj1lLmNvbmNhdChkKS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyZ3VtZW50cywwKSk7cmV0dXJuIGEuYXBwbHkoe30sYil9LGI9MCxjPWFyZ3VtZW50cy5sZW5ndGg7YjxjO2IrKylmKGFyZ3VtZW50c1tiXSk7cmV0dXJuIGZ9O3ZvaWQgMCE9PXRoaXMuc2lnbWE/KHRoaXMuc2lnbWEuY2xhc3Nlcz10aGlzLnNpZ21hLmNsYXNzZXN8fHt9LHRoaXMuc2lnbWEuY2xhc3Nlcy5jb25maWd1cmFibGU9YSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1hKSxleHBvcnRzLmNvbmZpZ3VyYWJsZT1hKTp0aGlzLmNvbmZpZ3VyYWJsZT1hfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSxiLGMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBkLGU7Zm9yKGQgaW4gaFthXSloW2FdW2RdLmFwcGx5KGIsYXJndW1lbnRzKTtlPWMuYXBwbHkoYixhcmd1bWVudHMpO2ZvcihkIGluIGdbYV0pZ1thXVtkXS5hcHBseShiLGFyZ3VtZW50cyk7cmV0dXJuIGV9fWZ1bmN0aW9uIGMoYSl7dmFyIGI7Zm9yKGIgaW4gYSlcImhhc093blByb3BlcnR5XCJpbiBhJiYhYS5oYXNPd25Qcm9wZXJ0eShiKXx8ZGVsZXRlIGFbYl07cmV0dXJuIGF9dmFyIGQ9T2JqZWN0LmNyZWF0ZShudWxsKSxlPU9iamVjdC5jcmVhdGUobnVsbCksZj1PYmplY3QuY3JlYXRlKG51bGwpLGc9T2JqZWN0LmNyZWF0ZShudWxsKSxoPU9iamVjdC5jcmVhdGUobnVsbCksaT17aW1tdXRhYmxlOiEwLGNsb25lOiEwfSxqPWZ1bmN0aW9uKGEpe3JldHVybiBpW2FdfSxrPWZ1bmN0aW9uKGEpe3ZhciBjLGUsZztnPXtzZXR0aW5nczphfHxqLG5vZGVzQXJyYXk6W10sZWRnZXNBcnJheTpbXSxub2Rlc0luZGV4Ok9iamVjdC5jcmVhdGUobnVsbCksZWRnZXNJbmRleDpPYmplY3QuY3JlYXRlKG51bGwpLGluTmVpZ2hib3JzSW5kZXg6T2JqZWN0LmNyZWF0ZShudWxsKSxvdXROZWlnaGJvcnNJbmRleDpPYmplY3QuY3JlYXRlKG51bGwpLGFsbE5laWdoYm9yc0luZGV4Ok9iamVjdC5jcmVhdGUobnVsbCksaW5OZWlnaGJvcnNDb3VudDpPYmplY3QuY3JlYXRlKG51bGwpLG91dE5laWdoYm9yc0NvdW50Ok9iamVjdC5jcmVhdGUobnVsbCksYWxsTmVpZ2hib3JzQ291bnQ6T2JqZWN0LmNyZWF0ZShudWxsKX07Zm9yKGMgaW4gZilmW2NdLmNhbGwoZyk7Zm9yKGMgaW4gZCllPWIoYyxnLGRbY10pLHRoaXNbY109ZSxnW2NdPWV9O2suYWRkTWV0aG9kPWZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGF8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fDIhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93XCJhZGRNZXRob2Q6IFdyb25nIGFyZ3VtZW50cy5cIjtpZihkW2FdfHxrW2FdKXRocm93J1RoZSBtZXRob2QgXCInK2ErJ1wiIGFscmVhZHkgZXhpc3RzLic7cmV0dXJuIGRbYV09YixnW2FdPU9iamVjdC5jcmVhdGUobnVsbCksaFthXT1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXN9LGsuaGFzTWV0aG9kPWZ1bmN0aW9uKGEpe3JldHVybiEoIWRbYV0mJiFrW2FdKX0say5hdHRhY2g9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGF8fFwic3RyaW5nXCIhPXR5cGVvZiBifHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBjfHxhcmd1bWVudHMubGVuZ3RoPDN8fGFyZ3VtZW50cy5sZW5ndGg+NCl0aHJvd1wiYXR0YWNoOiBXcm9uZyBhcmd1bWVudHMuXCI7dmFyIGU7aWYoXCJjb25zdHJ1Y3RvclwiPT09YSllPWY7ZWxzZSBpZihkKXtpZighaFthXSl0aHJvdydUaGUgbWV0aG9kIFwiJythKydcIiBkb2VzIG5vdCBleGlzdC4nO2U9aFthXX1lbHNle2lmKCFnW2FdKXRocm93J1RoZSBtZXRob2QgXCInK2ErJ1wiIGRvZXMgbm90IGV4aXN0Lic7ZT1nW2FdfWlmKGVbYl0pdGhyb3cnQSBmdW5jdGlvbiBcIicrYisnXCIgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byB0aGUgbWV0aG9kIFwiJythKydcIi4nO3JldHVybiBlW2JdPWMsdGhpc30say5hdHRhY2hCZWZvcmU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmF0dGFjaChhLGIsYywhMCl9LGsuYWRkSW5kZXg9ZnVuY3Rpb24oYSxiKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYXx8T2JqZWN0KGIpIT09Ynx8MiE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3dcImFkZEluZGV4OiBXcm9uZyBhcmd1bWVudHMuXCI7aWYoZVthXSl0aHJvdydUaGUgaW5kZXggXCInK2ErJ1wiIGFscmVhZHkgZXhpc3RzLic7dmFyIGM7ZVthXT1iO2ZvcihjIGluIGIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGJbY10pdGhyb3dcIlRoZSBiaW5kaW5ncyBtdXN0IGJlIGZ1bmN0aW9ucy5cIjtrLmF0dGFjaChjLGEsYltjXSl9cmV0dXJuIHRoaXN9LGsuYWRkTWV0aG9kKFwiYWRkTm9kZVwiLGZ1bmN0aW9uKGEpe2lmKE9iamVjdChhKSE9PWF8fDEhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93XCJhZGROb2RlOiBXcm9uZyBhcmd1bWVudHMuXCI7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEuaWQmJlwibnVtYmVyXCIhPXR5cGVvZiBhLmlkKXRocm93XCJUaGUgbm9kZSBtdXN0IGhhdmUgYSBzdHJpbmcgb3IgbnVtYmVyIGlkLlwiO2lmKHRoaXMubm9kZXNJbmRleFthLmlkXSl0aHJvdydUaGUgbm9kZSBcIicrYS5pZCsnXCIgYWxyZWFkeSBleGlzdHMuJzt2YXIgYixjPWEuaWQsZD1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHRoaXMuc2V0dGluZ3MoXCJjbG9uZVwiKSlmb3IoYiBpbiBhKVwiaWRcIiE9PWImJihkW2JdPWFbYl0pO2Vsc2UgZD1hO3JldHVybiB0aGlzLnNldHRpbmdzKFwiaW1tdXRhYmxlXCIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLFwiaWRcIix7dmFsdWU6YyxlbnVtZXJhYmxlOiEwfSk6ZC5pZD1jLHRoaXMuaW5OZWlnaGJvcnNJbmRleFtjXT1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMub3V0TmVpZ2hib3JzSW5kZXhbY109T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmFsbE5laWdoYm9yc0luZGV4W2NdPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5pbk5laWdoYm9yc0NvdW50W2NdPTAsdGhpcy5vdXROZWlnaGJvcnNDb3VudFtjXT0wLHRoaXMuYWxsTmVpZ2hib3JzQ291bnRbY109MCx0aGlzLm5vZGVzQXJyYXkucHVzaChkKSx0aGlzLm5vZGVzSW5kZXhbZC5pZF09ZCx0aGlzfSksay5hZGRNZXRob2QoXCJhZGRFZGdlXCIsZnVuY3Rpb24oYSl7aWYoT2JqZWN0KGEpIT09YXx8MSE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3dcImFkZEVkZ2U6IFdyb25nIGFyZ3VtZW50cy5cIjtpZihcInN0cmluZ1wiIT10eXBlb2YgYS5pZCYmXCJudW1iZXJcIiE9dHlwZW9mIGEuaWQpdGhyb3dcIlRoZSBlZGdlIG11c3QgaGF2ZSBhIHN0cmluZyBvciBudW1iZXIgaWQuXCI7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEuc291cmNlJiZcIm51bWJlclwiIT10eXBlb2YgYS5zb3VyY2V8fCF0aGlzLm5vZGVzSW5kZXhbYS5zb3VyY2VdKXRocm93XCJUaGUgZWRnZSBzb3VyY2UgbXVzdCBoYXZlIGFuIGV4aXN0aW5nIG5vZGUgaWQuXCI7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEudGFyZ2V0JiZcIm51bWJlclwiIT10eXBlb2YgYS50YXJnZXR8fCF0aGlzLm5vZGVzSW5kZXhbYS50YXJnZXRdKXRocm93XCJUaGUgZWRnZSB0YXJnZXQgbXVzdCBoYXZlIGFuIGV4aXN0aW5nIG5vZGUgaWQuXCI7aWYodGhpcy5lZGdlc0luZGV4W2EuaWRdKXRocm93J1RoZSBlZGdlIFwiJythLmlkKydcIiBhbHJlYWR5IGV4aXN0cy4nO3ZhciBiLGM9T2JqZWN0LmNyZWF0ZShudWxsKTtpZih0aGlzLnNldHRpbmdzKFwiY2xvbmVcIikpZm9yKGIgaW4gYSlcImlkXCIhPT1iJiZcInNvdXJjZVwiIT09YiYmXCJ0YXJnZXRcIiE9PWImJihjW2JdPWFbYl0pO2Vsc2UgYz1hO3JldHVybiB0aGlzLnNldHRpbmdzKFwiaW1tdXRhYmxlXCIpPyhPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxcImlkXCIse3ZhbHVlOmEuaWQsZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLFwic291cmNlXCIse3ZhbHVlOmEuc291cmNlLGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxcInRhcmdldFwiLHt2YWx1ZTphLnRhcmdldCxlbnVtZXJhYmxlOiEwfSkpOihjLmlkPWEuaWQsYy5zb3VyY2U9YS5zb3VyY2UsYy50YXJnZXQ9YS50YXJnZXQpLHRoaXMuZWRnZXNBcnJheS5wdXNoKGMpLHRoaXMuZWRnZXNJbmRleFtjLmlkXT1jLHRoaXMuaW5OZWlnaGJvcnNJbmRleFtjLnRhcmdldF1bYy5zb3VyY2VdfHwodGhpcy5pbk5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV09T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5pbk5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV1bYy5pZF09Yyx0aGlzLm91dE5laWdoYm9yc0luZGV4W2Muc291cmNlXVtjLnRhcmdldF18fCh0aGlzLm91dE5laWdoYm9yc0luZGV4W2Muc291cmNlXVtjLnRhcmdldF09T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5vdXROZWlnaGJvcnNJbmRleFtjLnNvdXJjZV1bYy50YXJnZXRdW2MuaWRdPWMsdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjLnNvdXJjZV1bYy50YXJnZXRdfHwodGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjLnNvdXJjZV1bYy50YXJnZXRdPU9iamVjdC5jcmVhdGUobnVsbCkpLHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbYy5zb3VyY2VdW2MudGFyZ2V0XVtjLmlkXT1jLGMudGFyZ2V0IT09Yy5zb3VyY2UmJih0aGlzLmFsbE5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV18fCh0aGlzLmFsbE5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV09T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjLnRhcmdldF1bYy5zb3VyY2VdW2MuaWRdPWMpLHRoaXMuaW5OZWlnaGJvcnNDb3VudFtjLnRhcmdldF0rKyx0aGlzLm91dE5laWdoYm9yc0NvdW50W2Muc291cmNlXSsrLHRoaXMuYWxsTmVpZ2hib3JzQ291bnRbYy50YXJnZXRdKyssdGhpcy5hbGxOZWlnaGJvcnNDb3VudFtjLnNvdXJjZV0rKyx0aGlzfSksay5hZGRNZXRob2QoXCJkcm9wTm9kZVwiLGZ1bmN0aW9uKGEpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhJiZcIm51bWJlclwiIT10eXBlb2YgYXx8MSE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3dcImRyb3BOb2RlOiBXcm9uZyBhcmd1bWVudHMuXCI7aWYoIXRoaXMubm9kZXNJbmRleFthXSl0aHJvdydUaGUgbm9kZSBcIicrYSsnXCIgZG9lcyBub3QgZXhpc3QuJzt2YXIgYixjLGQ7Zm9yKGRlbGV0ZSB0aGlzLm5vZGVzSW5kZXhbYV0sYj0wLGQ9dGhpcy5ub2Rlc0FycmF5Lmxlbmd0aDtiPGQ7YisrKWlmKHRoaXMubm9kZXNBcnJheVtiXS5pZD09PWEpe3RoaXMubm9kZXNBcnJheS5zcGxpY2UoYiwxKTticmVha31mb3IoYj10aGlzLmVkZ2VzQXJyYXkubGVuZ3RoLTE7Yj49MDtiLS0pdGhpcy5lZGdlc0FycmF5W2JdLnNvdXJjZSE9PWEmJnRoaXMuZWRnZXNBcnJheVtiXS50YXJnZXQhPT1hfHx0aGlzLmRyb3BFZGdlKHRoaXMuZWRnZXNBcnJheVtiXS5pZCk7ZGVsZXRlIHRoaXMuaW5OZWlnaGJvcnNJbmRleFthXSxkZWxldGUgdGhpcy5vdXROZWlnaGJvcnNJbmRleFthXSxkZWxldGUgdGhpcy5hbGxOZWlnaGJvcnNJbmRleFthXSxkZWxldGUgdGhpcy5pbk5laWdoYm9yc0NvdW50W2FdLGRlbGV0ZSB0aGlzLm91dE5laWdoYm9yc0NvdW50W2FdLGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0NvdW50W2FdO2ZvcihjIGluIHRoaXMubm9kZXNJbmRleClkZWxldGUgdGhpcy5pbk5laWdoYm9yc0luZGV4W2NdW2FdLGRlbGV0ZSB0aGlzLm91dE5laWdoYm9yc0luZGV4W2NdW2FdLGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0luZGV4W2NdW2FdO3JldHVybiB0aGlzfSksay5hZGRNZXRob2QoXCJkcm9wRWRnZVwiLGZ1bmN0aW9uKGEpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhJiZcIm51bWJlclwiIT10eXBlb2YgYXx8MSE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3dcImRyb3BFZGdlOiBXcm9uZyBhcmd1bWVudHMuXCI7aWYoIXRoaXMuZWRnZXNJbmRleFthXSl0aHJvdydUaGUgZWRnZSBcIicrYSsnXCIgZG9lcyBub3QgZXhpc3QuJzt2YXIgYixjLGQ7Zm9yKGQ9dGhpcy5lZGdlc0luZGV4W2FdLGRlbGV0ZSB0aGlzLmVkZ2VzSW5kZXhbYV0sYj0wLGM9dGhpcy5lZGdlc0FycmF5Lmxlbmd0aDtiPGM7YisrKWlmKHRoaXMuZWRnZXNBcnJheVtiXS5pZD09PWEpe3RoaXMuZWRnZXNBcnJheS5zcGxpY2UoYiwxKTticmVha31yZXR1cm4gZGVsZXRlIHRoaXMuaW5OZWlnaGJvcnNJbmRleFtkLnRhcmdldF1bZC5zb3VyY2VdW2QuaWRdLE9iamVjdC5rZXlzKHRoaXMuaW5OZWlnaGJvcnNJbmRleFtkLnRhcmdldF1bZC5zb3VyY2VdKS5sZW5ndGh8fGRlbGV0ZSB0aGlzLmluTmVpZ2hib3JzSW5kZXhbZC50YXJnZXRdW2Quc291cmNlXSxkZWxldGUgdGhpcy5vdXROZWlnaGJvcnNJbmRleFtkLnNvdXJjZV1bZC50YXJnZXRdW2QuaWRdLE9iamVjdC5rZXlzKHRoaXMub3V0TmVpZ2hib3JzSW5kZXhbZC5zb3VyY2VdW2QudGFyZ2V0XSkubGVuZ3RofHxkZWxldGUgdGhpcy5vdXROZWlnaGJvcnNJbmRleFtkLnNvdXJjZV1bZC50YXJnZXRdLGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0luZGV4W2Quc291cmNlXVtkLnRhcmdldF1bZC5pZF0sT2JqZWN0LmtleXModGhpcy5hbGxOZWlnaGJvcnNJbmRleFtkLnNvdXJjZV1bZC50YXJnZXRdKS5sZW5ndGh8fGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0luZGV4W2Quc291cmNlXVtkLnRhcmdldF0sZC50YXJnZXQhPT1kLnNvdXJjZSYmKGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0luZGV4W2QudGFyZ2V0XVtkLnNvdXJjZV1bZC5pZF0sT2JqZWN0LmtleXModGhpcy5hbGxOZWlnaGJvcnNJbmRleFtkLnRhcmdldF1bZC5zb3VyY2VdKS5sZW5ndGh8fGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0luZGV4W2QudGFyZ2V0XVtkLnNvdXJjZV0pLHRoaXMuaW5OZWlnaGJvcnNDb3VudFtkLnRhcmdldF0tLSx0aGlzLm91dE5laWdoYm9yc0NvdW50W2Quc291cmNlXS0tLHRoaXMuYWxsTmVpZ2hib3JzQ291bnRbZC5zb3VyY2VdLS0sdGhpcy5hbGxOZWlnaGJvcnNDb3VudFtkLnRhcmdldF0tLSx0aGlzfSksay5hZGRNZXRob2QoXCJraWxsXCIsZnVuY3Rpb24oKXt0aGlzLm5vZGVzQXJyYXkubGVuZ3RoPTAsdGhpcy5lZGdlc0FycmF5Lmxlbmd0aD0wLGRlbGV0ZSB0aGlzLm5vZGVzQXJyYXksZGVsZXRlIHRoaXMuZWRnZXNBcnJheSxkZWxldGUgdGhpcy5ub2Rlc0luZGV4LGRlbGV0ZSB0aGlzLmVkZ2VzSW5kZXgsZGVsZXRlIHRoaXMuaW5OZWlnaGJvcnNJbmRleCxkZWxldGUgdGhpcy5vdXROZWlnaGJvcnNJbmRleCxkZWxldGUgdGhpcy5hbGxOZWlnaGJvcnNJbmRleCxkZWxldGUgdGhpcy5pbk5laWdoYm9yc0NvdW50LGRlbGV0ZSB0aGlzLm91dE5laWdoYm9yc0NvdW50LGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0NvdW50fSksay5hZGRNZXRob2QoXCJjbGVhclwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNBcnJheS5sZW5ndGg9MCx0aGlzLmVkZ2VzQXJyYXkubGVuZ3RoPTAsYyh0aGlzLm5vZGVzSW5kZXgpLGModGhpcy5lZGdlc0luZGV4KSxjKHRoaXMubm9kZXNJbmRleCksYyh0aGlzLmluTmVpZ2hib3JzSW5kZXgpLGModGhpcy5vdXROZWlnaGJvcnNJbmRleCksYyh0aGlzLmFsbE5laWdoYm9yc0luZGV4KSxjKHRoaXMuaW5OZWlnaGJvcnNDb3VudCksYyh0aGlzLm91dE5laWdoYm9yc0NvdW50KSxjKHRoaXMuYWxsTmVpZ2hib3JzQ291bnQpLHRoaXN9KSxrLmFkZE1ldGhvZChcInJlYWRcIixmdW5jdGlvbihhKXt2YXIgYixjLGQ7Zm9yKGM9YS5ub2Rlc3x8W10sYj0wLGQ9Yy5sZW5ndGg7YjxkO2IrKyl0aGlzLmFkZE5vZGUoY1tiXSk7Zm9yKGM9YS5lZGdlc3x8W10sYj0wLGQ9Yy5sZW5ndGg7YjxkO2IrKyl0aGlzLmFkZEVkZ2UoY1tiXSk7cmV0dXJuIHRoaXN9KSxrLmFkZE1ldGhvZChcIm5vZGVzXCIsZnVuY3Rpb24oYSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMubm9kZXNBcnJheS5zbGljZSgwKTtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmKFwic3RyaW5nXCI9PXR5cGVvZiBhfHxcIm51bWJlclwiPT10eXBlb2YgYSkpcmV0dXJuIHRoaXMubm9kZXNJbmRleFthXTtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpKXt2YXIgYixjLGQ9W107Zm9yKGI9MCxjPWEubGVuZ3RoO2I8YztiKyspe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhW2JdJiZcIm51bWJlclwiIT10eXBlb2YgYVtiXSl0aHJvd1wibm9kZXM6IFdyb25nIGFyZ3VtZW50cy5cIjtkLnB1c2godGhpcy5ub2Rlc0luZGV4W2FbYl1dKX1yZXR1cm4gZH10aHJvd1wibm9kZXM6IFdyb25nIGFyZ3VtZW50cy5cIn0pLGsuYWRkTWV0aG9kKFwiZGVncmVlXCIsZnVuY3Rpb24oYSxiKXtpZihiPXtpbjp0aGlzLmluTmVpZ2hib3JzQ291bnQsb3V0OnRoaXMub3V0TmVpZ2hib3JzQ291bnR9W2J8fFwiXCJdfHx0aGlzLmFsbE5laWdoYm9yc0NvdW50LFwic3RyaW5nXCI9PXR5cGVvZiBhfHxcIm51bWJlclwiPT10eXBlb2YgYSlyZXR1cm4gYlthXTtpZihcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkpe3ZhciBjLGQsZT1bXTtmb3IoYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGFbY10mJlwibnVtYmVyXCIhPXR5cGVvZiBhW2NdKXRocm93XCJkZWdyZWU6IFdyb25nIGFyZ3VtZW50cy5cIjtlLnB1c2goYlthW2NdXSl9cmV0dXJuIGV9dGhyb3dcImRlZ3JlZTogV3JvbmcgYXJndW1lbnRzLlwifSksay5hZGRNZXRob2QoXCJlZGdlc1wiLGZ1bmN0aW9uKGEpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmVkZ2VzQXJyYXkuc2xpY2UoMCk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJihcInN0cmluZ1wiPT10eXBlb2YgYXx8XCJudW1iZXJcIj09dHlwZW9mIGEpKXJldHVybiB0aGlzLmVkZ2VzSW5kZXhbYV07aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJlwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSl7dmFyIGIsYyxkPVtdO2ZvcihiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYVtiXSYmXCJudW1iZXJcIiE9dHlwZW9mIGFbYl0pdGhyb3dcImVkZ2VzOiBXcm9uZyBhcmd1bWVudHMuXCI7ZC5wdXNoKHRoaXMuZWRnZXNJbmRleFthW2JdXSl9cmV0dXJuIGR9dGhyb3dcImVkZ2VzOiBXcm9uZyBhcmd1bWVudHMuXCJ9KSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2lnbWE/KHNpZ21hLmNsYXNzZXM9c2lnbWEuY2xhc3Nlc3x8T2JqZWN0LmNyZWF0ZShudWxsKSxzaWdtYS5jbGFzc2VzLmdyYXBoPWspOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzPyhcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9ayksZXhwb3J0cy5ncmFwaD1rKTp0aGlzLmdyYXBoPWt9LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jbGFzc2VzXCIpLHNpZ21hLmNsYXNzZXMuY2FtZXJhPWZ1bmN0aW9uKGEsYixjLGQpe3NpZ21hLmNsYXNzZXMuZGlzcGF0Y2hlci5leHRlbmQodGhpcyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJncmFwaFwiLHt2YWx1ZTpifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHt2YWx1ZTphfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyZWFkUHJlZml4XCIse3ZhbHVlOlwicmVhZF9jYW1cIithK1wiOlwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwcmVmaXhcIix7dmFsdWU6XCJjYW1cIithK1wiOlwifSksdGhpcy54PTAsdGhpcy55PTAsdGhpcy5yYXRpbz0xLHRoaXMuYW5nbGU9MCx0aGlzLmlzQW5pbWF0ZWQ9ITEsdGhpcy5zZXR0aW5ncz1cIm9iamVjdFwiPT10eXBlb2YgZCYmZD9jLmVtYmVkT2JqZWN0KGQpOmN9LHNpZ21hLmNsYXNzZXMuY2FtZXJhLnByb3RvdHlwZS5nb1RvPWZ1bmN0aW9uKGIpe2lmKCF0aGlzLnNldHRpbmdzKFwiZW5hYmxlQ2FtZXJhXCIpKXJldHVybiB0aGlzO3ZhciBjLGQsZT1ifHx7fSxmPVtcInhcIixcInlcIixcInJhdGlvXCIsXCJhbmdsZVwiXTtmb3IoYz0wLGQ9Zi5sZW5ndGg7YzxkO2MrKylpZihlW2ZbY11dIT09YSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGVbZltjXV18fGlzTmFOKGVbZltjXV0pKXRocm93J1ZhbHVlIGZvciBcIicrZltjXSsnXCIgaXMgbm90IGEgbnVtYmVyLic7dGhpc1tmW2NdXT1lW2ZbY11dfXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoXCJjb29yZGluYXRlc1VwZGF0ZWRcIiksdGhpc30sc2lnbWEuY2xhc3Nlcy5jYW1lcmEucHJvdG90eXBlLmFwcGx5Vmlldz1mdW5jdGlvbihiLGMsZCl7ZD1kfHx7fSxjPWMhPT1hP2M6dGhpcy5wcmVmaXgsYj1iIT09YT9iOnRoaXMucmVhZFByZWZpeDt2YXIgZSxmLGcsaD1kLm5vZGVzfHx0aGlzLmdyYXBoLm5vZGVzKCksaT1kLmVkZ2VzfHx0aGlzLmdyYXBoLmVkZ2VzKCksaj1NYXRoLmNvcyh0aGlzLmFuZ2xlKS90aGlzLnJhdGlvLGs9TWF0aC5zaW4odGhpcy5hbmdsZSkvdGhpcy5yYXRpbyxsPU1hdGgucG93KHRoaXMucmF0aW8sdGhpcy5zZXR0aW5ncyhcIm5vZGVzUG93UmF0aW9cIikpLG09TWF0aC5wb3codGhpcy5yYXRpbyx0aGlzLnNldHRpbmdzKFwiZWRnZXNQb3dSYXRpb1wiKSksbj0oZC53aWR0aHx8MCkvMi10aGlzLngqai10aGlzLnkqayxvPShkLmhlaWdodHx8MCkvMi10aGlzLnkqait0aGlzLngqaztmb3IoZT0wLGY9aC5sZW5ndGg7ZTxmO2UrKylnPWhbZV0sZ1tjK1wieFwiXT0oZ1tiK1wieFwiXXx8MCkqaisoZ1tiK1wieVwiXXx8MCkqaytuLGdbYytcInlcIl09KGdbYitcInlcIl18fDApKmotKGdbYitcInhcIl18fDApKmsrbyxnW2MrXCJzaXplXCJdPShnW2IrXCJzaXplXCJdfHwwKS9sO2ZvcihlPTAsZj1pLmxlbmd0aDtlPGY7ZSsrKWlbZV1bYytcInNpemVcIl09KGlbZV1bYitcInNpemVcIl18fDApL207cmV0dXJuIHRoaXN9LHNpZ21hLmNsYXNzZXMuY2FtZXJhLnByb3RvdHlwZS5ncmFwaFBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9MCxmPU1hdGguY29zKHRoaXMuYW5nbGUpLGc9TWF0aC5zaW4odGhpcy5hbmdsZSk7cmV0dXJuIGN8fChkPS0odGhpcy54KmYrdGhpcy55KmcpL3RoaXMucmF0aW8sZT0tKHRoaXMueSpmLXRoaXMueCpnKS90aGlzLnJhdGlvKSx7eDooYSpmK2IqZykvdGhpcy5yYXRpbytkLHk6KGIqZi1hKmcpL3RoaXMucmF0aW8rZX19LHNpZ21hLmNsYXNzZXMuY2FtZXJhLnByb3RvdHlwZS5jYW1lcmFQb3NpdGlvbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9MCxlPTAsZj1NYXRoLmNvcyh0aGlzLmFuZ2xlKSxnPU1hdGguc2luKHRoaXMuYW5nbGUpO3JldHVybiBjfHwoZD0tKHRoaXMueCpmK3RoaXMueSpnKS90aGlzLnJhdGlvLGU9LSh0aGlzLnkqZi10aGlzLngqZykvdGhpcy5yYXRpbykse3g6KChhLWQpKmYtKGItZSkqZykqdGhpcy5yYXRpbyx5OigoYi1lKSpmKyhhLWQpKmcpKnRoaXMucmF0aW99fSxzaWdtYS5jbGFzc2VzLmNhbWVyYS5wcm90b3R5cGUuZ2V0TWF0cml4PWZ1bmN0aW9uKCl7dmFyIGE9c2lnbWEudXRpbHMubWF0cmljZXMuc2NhbGUoMS90aGlzLnJhdGlvKSxiPXNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uKHRoaXMuYW5nbGUpLGM9c2lnbWEudXRpbHMubWF0cmljZXMudHJhbnNsYXRpb24oLXRoaXMueCwtdGhpcy55KTtyZXR1cm4gc2lnbWEudXRpbHMubWF0cmljZXMubXVsdGlwbHkoYyxzaWdtYS51dGlscy5tYXRyaWNlcy5tdWx0aXBseShiLGEpKX0sc2lnbWEuY2xhc3Nlcy5jYW1lcmEucHJvdG90eXBlLmdldFJlY3RhbmdsZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2FtZXJhUG9zaXRpb24oYSwwLCEwKSxkPXRoaXMuY2FtZXJhUG9zaXRpb24oMCxiLCEwKSxlPXRoaXMuY2FtZXJhUG9zaXRpb24oYS8yLGIvMiwhMCksZj10aGlzLmNhbWVyYVBvc2l0aW9uKGEvNCwwLCEwKS54LGc9dGhpcy5jYW1lcmFQb3NpdGlvbigwLGIvNCwhMCkueTtyZXR1cm57eDE6dGhpcy54LWUueC1mLHkxOnRoaXMueS1lLnktZyx4Mjp0aGlzLngtZS54K2YrYy54LHkyOnRoaXMueS1lLnktZytjLnksaGVpZ2h0Ok1hdGguc3FydChNYXRoLnBvdyhkLngsMikrTWF0aC5wb3coZC55KzIqZywyKSl9fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEsYil7dmFyIGM9Yi54K2Iud2lkdGgvMixkPWIueStiLmhlaWdodC8yLGU9YS55PGQsZj1hLng8YztyZXR1cm4gZT9mPzA6MTpmPzI6M31mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPDQ7ZCsrKWEueDI+PWJbZF1bMF0ueCYmYS54MTw9YltkXVsxXS54JiZhLnkxK2EuaGVpZ2h0Pj1iW2RdWzBdLnkmJmEueTE8PWJbZF1bMl0ueSYmYy5wdXNoKGQpO3JldHVybiBjfWZ1bmN0aW9uIGQoYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8NDtkKyspai5jb2xsaXNpb24oYSxiW2RdKSYmYy5wdXNoKGQpO3JldHVybiBjfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYyxkLGU9Yi5sZXZlbCsxLGY9TWF0aC5yb3VuZChiLmJvdW5kcy53aWR0aC8yKSxnPU1hdGgucm91bmQoYi5ib3VuZHMuaGVpZ2h0LzIpLGg9TWF0aC5yb3VuZChiLmJvdW5kcy54KSxqPU1hdGgucm91bmQoYi5ib3VuZHMueSk7c3dpdGNoKGEpe2Nhc2UgMDpjPWgsZD1qO2JyZWFrO2Nhc2UgMTpjPWgrZixkPWo7YnJlYWs7Y2FzZSAyOmM9aCxkPWorZzticmVhaztjYXNlIDM6Yz1oK2YsZD1qK2d9cmV0dXJuIGkoe3g6Yyx5OmQsd2lkdGg6ZixoZWlnaHQ6Z30sZSxiLm1heEVsZW1lbnRzLGIubWF4TGV2ZWwpfWZ1bmN0aW9uIGYoYixkLGcpe2lmKGcubGV2ZWw8Zy5tYXhMZXZlbClmb3IodmFyIGg9YyhkLGcuY29ybmVycyksaT0wLGo9aC5sZW5ndGg7aTxqO2krKylnLm5vZGVzW2hbaV1dPT09YSYmKGcubm9kZXNbaFtpXV09ZShoW2ldLGcpKSxmKGIsZCxnLm5vZGVzW2hbaV1dKTtlbHNlIGcuZWxlbWVudHMucHVzaChiKX1mdW5jdGlvbiBnKGMsZCl7aWYoZC5sZXZlbDxkLm1heExldmVsKXt2YXIgZT1iKGMsZC5ib3VuZHMpO3JldHVybiBkLm5vZGVzW2VdIT09YT9nKGMsZC5ub2Rlc1tlXSk6W119cmV0dXJuIGQuZWxlbWVudHN9ZnVuY3Rpb24gaChiLGMsZCxlKXtpZihlPWV8fHt9LGMubGV2ZWw8Yy5tYXhMZXZlbClmb3IodmFyIGY9ZChiLGMuY29ybmVycyksZz0wLGk9Zi5sZW5ndGg7ZzxpO2crKyljLm5vZGVzW2ZbZ11dIT09YSYmaChiLGMubm9kZXNbZltnXV0sZCxlKTtlbHNlIGZvcih2YXIgaj0wLGs9Yy5lbGVtZW50cy5sZW5ndGg7ajxrO2orKyllW2MuZWxlbWVudHNbal0uaWRdPT09YSYmKGVbYy5lbGVtZW50c1tqXS5pZF09Yy5lbGVtZW50c1tqXSk7cmV0dXJuIGV9ZnVuY3Rpb24gaShhLGIsYyxkKXtyZXR1cm57bGV2ZWw6Ynx8MCxib3VuZHM6YSxjb3JuZXJzOmouc3BsaXRTcXVhcmUoYSksbWF4RWxlbWVudHM6Y3x8MjAsbWF4TGV2ZWw6ZHx8NCxlbGVtZW50czpbXSxub2RlczpbXX19dmFyIGo9e3BvaW50VG9TcXVhcmU6ZnVuY3Rpb24oYSl7cmV0dXJue3gxOmEueC1hLnNpemUseTE6YS55LWEuc2l6ZSx4MjphLngrYS5zaXplLHkyOmEueS1hLnNpemUsaGVpZ2h0OjIqYS5zaXplfX0saXNBeGlzQWxpZ25lZDpmdW5jdGlvbihhKXtyZXR1cm4gYS54MT09PWEueDJ8fGEueTE9PT1hLnkyfSxheGlzQWxpZ25lZFRvcFBvaW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS55MT09PWEueTImJmEueDE8YS54Mj9hOmEueDE9PT1hLngyJiZhLnkyPmEueTE/e3gxOmEueDEtYS5oZWlnaHQseTE6YS55MSx4MjphLngxLHkyOmEueTEsaGVpZ2h0OmEuaGVpZ2h0fTphLngxPT09YS54MiYmYS55MjxhLnkxP3t4MTphLngxLHkxOmEueTIseDI6YS54MithLmhlaWdodCx5MjphLnkyLGhlaWdodDphLmhlaWdodH06e3gxOmEueDIseTE6YS55MS1hLmhlaWdodCx4MjphLngxLHkyOmEueTEtYS5oZWlnaHQsaGVpZ2h0OmEuaGVpZ2h0fX0sbG93ZXJMZWZ0Q29vcjpmdW5jdGlvbihhKXt2YXIgYj1NYXRoLnNxcnQoTWF0aC5wb3coYS54Mi1hLngxLDIpK01hdGgucG93KGEueTItYS55MSwyKSk7cmV0dXJue3g6YS54MS0oYS55Mi1hLnkxKSphLmhlaWdodC9iLHk6YS55MSsoYS54Mi1hLngxKSphLmhlaWdodC9ifX0sbG93ZXJSaWdodENvb3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm57eDpiLngtYS54MSthLngyLHk6Yi55LWEueTErYS55Mn19LHJlY3RhbmdsZUNvcm5lcnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sb3dlckxlZnRDb29yKGEpLGM9dGhpcy5sb3dlclJpZ2h0Q29vcihhLGIpO3JldHVyblt7eDphLngxLHk6YS55MX0se3g6YS54Mix5OmEueTJ9LHt4OmIueCx5OmIueX0se3g6Yy54LHk6Yy55fV19LHNwbGl0U3F1YXJlOmZ1bmN0aW9uKGEpe3JldHVybltbe3g6YS54LHk6YS55fSx7eDphLngrYS53aWR0aC8yLHk6YS55fSx7eDphLngseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodC8yfV0sW3t4OmEueCthLndpZHRoLzIseTphLnl9LHt4OmEueCthLndpZHRoLHk6YS55fSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLHk6YS55K2EuaGVpZ2h0LzJ9XSxbe3g6YS54LHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn0se3g6YS54LHk6YS55K2EuaGVpZ2h0fSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0fV0sW3t4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodH0se3g6YS54K2Eud2lkdGgseTphLnkrYS5oZWlnaHR9XV19LGF4aXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5be3g6YVsxXS54LWFbMF0ueCx5OmFbMV0ueS1hWzBdLnl9LHt4OmFbMV0ueC1hWzNdLngseTphWzFdLnktYVszXS55fSx7eDpiWzBdLngtYlsyXS54LHk6YlswXS55LWJbMl0ueX0se3g6YlswXS54LWJbMV0ueCx5OmJbMF0ueS1iWzFdLnl9XX0scHJvamVjdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPShhLngqYi54K2EueSpiLnkpLyhNYXRoLnBvdyhiLngsMikrTWF0aC5wb3coYi55LDIpKTtyZXR1cm57eDpjKmIueCx5OmMqYi55fX0sYXhpc0NvbGxpc2lvbjpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9W10sZj0wO2Y8NDtmKyspe3ZhciBnPXRoaXMucHJvamVjdGlvbihiW2ZdLGEpLGg9dGhpcy5wcm9qZWN0aW9uKGNbZl0sYSk7ZC5wdXNoKGcueCphLngrZy55KmEueSksZS5wdXNoKGgueCphLngraC55KmEueSl9dmFyIGk9TWF0aC5tYXguYXBwbHkoTWF0aCxkKSxqPU1hdGgubWF4LmFwcGx5KE1hdGgsZSksaz1NYXRoLm1pbi5hcHBseShNYXRoLGQpO3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGUpPD1pJiZqPj1rfSxjb2xsaXNpb246ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5heGlzKGEsYiksZD0hMCxlPTA7ZTw0O2UrKylkPWQmJnRoaXMuYXhpc0NvbGxpc2lvbihjW2VdLGEsYik7cmV0dXJuIGR9fSxrPWZ1bmN0aW9uKCl7dGhpcy5fZ2VvbT1qLHRoaXMuX3RyZWU9bnVsbCx0aGlzLl9jYWNoZT17cXVlcnk6ITEscmVzdWx0OiExfX07ay5wcm90b3R5cGUuaW5kZXg9ZnVuY3Rpb24oYSxiKXtpZighYi5ib3VuZHMpdGhyb3dcInNpZ21hLmNsYXNzZXMucXVhZC5pbmRleDogYm91bmRzIGluZm9ybWF0aW9uIG5vdCBnaXZlbi5cIjt2YXIgYz1iLnByZWZpeHx8XCJcIjt0aGlzLl90cmVlPWkoYi5ib3VuZHMsMCxiLm1heEVsZW1lbnRzLGIubWF4TGV2ZWwpO2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylmKGFbZF0sai5wb2ludFRvU3F1YXJlKHt4OmFbZF1bYytcInhcIl0seTphW2RdW2MrXCJ5XCJdLHNpemU6YVtkXVtjK1wic2l6ZVwiXX0pLHRoaXMuX3RyZWUpO3JldHVybiB0aGlzLl9jYWNoZT17cXVlcnk6ITEscmVzdWx0OiExfSx0aGlzLl90cmVlfSxrLnByb3RvdHlwZS5wb2ludD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl90cmVlP2coe3g6YSx5OmJ9LHRoaXMuX3RyZWUpfHxbXTpbXX0say5wcm90b3R5cGUuYXJlYT1mdW5jdGlvbihhKXt2YXIgYixlLGY9SlNPTi5zdHJpbmdpZnkoYSk7aWYodGhpcy5fY2FjaGUucXVlcnk9PT1mKXJldHVybiB0aGlzLl9jYWNoZS5yZXN1bHQ7ai5pc0F4aXNBbGlnbmVkKGEpPyhiPWMsZT1qLmF4aXNBbGlnbmVkVG9wUG9pbnRzKGEpKTooYj1kLGU9ai5yZWN0YW5nbGVDb3JuZXJzKGEpKTt2YXIgZz10aGlzLl90cmVlP2goZSx0aGlzLl90cmVlLGIpOltdLGk9W107Zm9yKHZhciBrIGluIGcpaS5wdXNoKGdba10pO3JldHVybiB0aGlzLl9jYWNoZS5xdWVyeT1mLHRoaXMuX2NhY2hlLnJlc3VsdD1pLGl9LHZvaWQgMCE9PXRoaXMuc2lnbWE/KHRoaXMuc2lnbWEuY2xhc3Nlcz10aGlzLnNpZ21hLmNsYXNzZXN8fHt9LHRoaXMuc2lnbWEuY2xhc3Nlcy5xdWFkPWspOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzPyhcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9ayksZXhwb3J0cy5xdWFkPWspOnRoaXMucXVhZD1rfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz1iLngrYi53aWR0aC8yLGQ9Yi55K2IuaGVpZ2h0LzIsZT1hLnk8ZCxmPWEueDxjO3JldHVybiBlP2Y/MDoxOmY/MjozfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8NDtkKyspYS54Mj49YltkXVswXS54JiZhLngxPD1iW2RdWzFdLngmJmEueTErYS5oZWlnaHQ+PWJbZF1bMF0ueSYmYS55MTw9YltkXVsyXS55JiZjLnB1c2goZCk7cmV0dXJuIGN9ZnVuY3Rpb24gZChhLGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDw0O2QrKylqLmNvbGxpc2lvbihhLGJbZF0pJiZjLnB1c2goZCk7cmV0dXJuIGN9ZnVuY3Rpb24gZShhLGIpe3ZhciBjLGQsZT1iLmxldmVsKzEsZj1NYXRoLnJvdW5kKGIuYm91bmRzLndpZHRoLzIpLGc9TWF0aC5yb3VuZChiLmJvdW5kcy5oZWlnaHQvMiksaD1NYXRoLnJvdW5kKGIuYm91bmRzLngpLGo9TWF0aC5yb3VuZChiLmJvdW5kcy55KTtzd2l0Y2goYSl7Y2FzZSAwOmM9aCxkPWo7YnJlYWs7Y2FzZSAxOmM9aCtmLGQ9ajticmVhaztjYXNlIDI6Yz1oLGQ9aitnO2JyZWFrO2Nhc2UgMzpjPWgrZixkPWorZ31yZXR1cm4gaSh7eDpjLHk6ZCx3aWR0aDpmLGhlaWdodDpnfSxlLGIubWF4RWxlbWVudHMsYi5tYXhMZXZlbCl9ZnVuY3Rpb24gZihiLGQsZyl7aWYoZy5sZXZlbDxnLm1heExldmVsKWZvcih2YXIgaD1jKGQsZy5jb3JuZXJzKSxpPTAsaj1oLmxlbmd0aDtpPGo7aSsrKWcubm9kZXNbaFtpXV09PT1hJiYoZy5ub2Rlc1toW2ldXT1lKGhbaV0sZykpLGYoYixkLGcubm9kZXNbaFtpXV0pO2Vsc2UgZy5lbGVtZW50cy5wdXNoKGIpfWZ1bmN0aW9uIGcoYyxkKXtpZihkLmxldmVsPGQubWF4TGV2ZWwpe3ZhciBlPWIoYyxkLmJvdW5kcyk7cmV0dXJuIGQubm9kZXNbZV0hPT1hP2coYyxkLm5vZGVzW2VdKTpbXX1yZXR1cm4gZC5lbGVtZW50c31mdW5jdGlvbiBoKGIsYyxkLGUpe2lmKGU9ZXx8e30sYy5sZXZlbDxjLm1heExldmVsKWZvcih2YXIgZj1kKGIsYy5jb3JuZXJzKSxnPTAsaT1mLmxlbmd0aDtnPGk7ZysrKWMubm9kZXNbZltnXV0hPT1hJiZoKGIsYy5ub2Rlc1tmW2ddXSxkLGUpO2Vsc2UgZm9yKHZhciBqPTAsaz1jLmVsZW1lbnRzLmxlbmd0aDtqPGs7aisrKWVbYy5lbGVtZW50c1tqXS5pZF09PT1hJiYoZVtjLmVsZW1lbnRzW2pdLmlkXT1jLmVsZW1lbnRzW2pdKTtyZXR1cm4gZX1mdW5jdGlvbiBpKGEsYixjLGQpe3JldHVybntsZXZlbDpifHwwLGJvdW5kczphLGNvcm5lcnM6ai5zcGxpdFNxdWFyZShhKSxtYXhFbGVtZW50czpjfHw0MCxtYXhMZXZlbDpkfHw4LGVsZW1lbnRzOltdLG5vZGVzOltdfX12YXIgaj17cG9pbnRUb1NxdWFyZTpmdW5jdGlvbihhKXtyZXR1cm57eDE6YS54LWEuc2l6ZSx5MTphLnktYS5zaXplLHgyOmEueCthLnNpemUseTI6YS55LWEuc2l6ZSxoZWlnaHQ6MiphLnNpemV9fSxsaW5lVG9TcXVhcmU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEueTE8YS55Mj9hLngxPGEueDI/e3gxOmEueDEtYS5zaXplLHkxOmEueTEtYS5zaXplLHgyOmEueDIrYS5zaXplLHkyOmEueTEtYS5zaXplLGhlaWdodDphLnkyLWEueTErMiphLnNpemV9Ont4MTphLngyLWEuc2l6ZSx5MTphLnkxLWEuc2l6ZSx4MjphLngxK2Euc2l6ZSx5MjphLnkxLWEuc2l6ZSxoZWlnaHQ6YS55Mi1hLnkxKzIqYS5zaXplfTphLngxPGEueDI/e3gxOmEueDEtYS5zaXplLHkxOmEueTItYS5zaXplLHgyOmEueDIrYS5zaXplLHkyOmEueTItYS5zaXplLGhlaWdodDphLnkxLWEueTIrMiphLnNpemV9Ont4MTphLngyLWEuc2l6ZSx5MTphLnkyLWEuc2l6ZSx4MjphLngxK2Euc2l6ZSx5MjphLnkyLWEuc2l6ZSxoZWlnaHQ6YS55MS1hLnkyKzIqYS5zaXplfX0scXVhZHJhdGljQ3VydmVUb1NxdWFyZTpmdW5jdGlvbihhLGIpe3ZhciBjPXNpZ21hLnV0aWxzLmdldFBvaW50T25RdWFkcmF0aWNDdXJ2ZSguNSxhLngxLGEueTEsYS54MixhLnkyLGIueCxiLnkpLGQ9TWF0aC5taW4oYS54MSxhLngyLGMueCksZT1NYXRoLm1heChhLngxLGEueDIsYy54KSxmPU1hdGgubWluKGEueTEsYS55MixjLnkpLGc9TWF0aC5tYXgoYS55MSxhLnkyLGMueSk7cmV0dXJue3gxOmQtYS5zaXplLHkxOmYtYS5zaXplLHgyOmUrYS5zaXplLHkyOmYtYS5zaXplLGhlaWdodDpnLWYrMiphLnNpemV9fSxzZWxmTG9vcFRvU3F1YXJlOmZ1bmN0aW9uKGEpe3ZhciBiPXNpZ21hLnV0aWxzLmdldFNlbGZMb29wQ29udHJvbFBvaW50cyhhLngsYS55LGEuc2l6ZSksYz1NYXRoLm1pbihhLngsYi54MSxiLngyKSxkPU1hdGgubWF4KGEueCxiLngxLGIueDIpLGU9TWF0aC5taW4oYS55LGIueTEsYi55MiksZj1NYXRoLm1heChhLnksYi55MSxiLnkyKTtyZXR1cm57eDE6Yy1hLnNpemUseTE6ZS1hLnNpemUseDI6ZCthLnNpemUseTI6ZS1hLnNpemUsaGVpZ2h0OmYtZSsyKmEuc2l6ZX19LGlzQXhpc0FsaWduZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEueDE9PT1hLngyfHxhLnkxPT09YS55Mn0sYXhpc0FsaWduZWRUb3BQb2ludHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEueTE9PT1hLnkyJiZhLngxPGEueDI/YTphLngxPT09YS54MiYmYS55Mj5hLnkxP3t4MTphLngxLWEuaGVpZ2h0LHkxOmEueTEseDI6YS54MSx5MjphLnkxLGhlaWdodDphLmhlaWdodH06YS54MT09PWEueDImJmEueTI8YS55MT97eDE6YS54MSx5MTphLnkyLHgyOmEueDIrYS5oZWlnaHQseTI6YS55MixoZWlnaHQ6YS5oZWlnaHR9Ont4MTphLngyLHkxOmEueTEtYS5oZWlnaHQseDI6YS54MSx5MjphLnkxLWEuaGVpZ2h0LGhlaWdodDphLmhlaWdodH19LGxvd2VyTGVmdENvb3I6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5zcXJ0KE1hdGgucG93KGEueDItYS54MSwyKStNYXRoLnBvdyhhLnkyLWEueTEsMikpO3JldHVybnt4OmEueDEtKGEueTItYS55MSkqYS5oZWlnaHQvYix5OmEueTErKGEueDItYS54MSkqYS5oZWlnaHQvYn19LGxvd2VyUmlnaHRDb29yOmZ1bmN0aW9uKGEsYil7cmV0dXJue3g6Yi54LWEueDErYS54Mix5OmIueS1hLnkxK2EueTJ9fSxyZWN0YW5nbGVDb3JuZXJzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubG93ZXJMZWZ0Q29vcihhKSxjPXRoaXMubG93ZXJSaWdodENvb3IoYSxiKTtyZXR1cm5be3g6YS54MSx5OmEueTF9LHt4OmEueDIseTphLnkyfSx7eDpiLngseTpiLnl9LHt4OmMueCx5OmMueX1dfSxzcGxpdFNxdWFyZTpmdW5jdGlvbihhKXtyZXR1cm5bW3t4OmEueCx5OmEueX0se3g6YS54K2Eud2lkdGgvMix5OmEueX0se3g6YS54LHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn1dLFt7eDphLngrYS53aWR0aC8yLHk6YS55fSx7eDphLngrYS53aWR0aCx5OmEueX0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodC8yfSx7eDphLngrYS53aWR0aCx5OmEueSthLmhlaWdodC8yfV0sW3t4OmEueCx5OmEueSthLmhlaWdodC8yfSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCx5OmEueSthLmhlaWdodH0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodH1dLFt7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHR9LHt4OmEueCthLndpZHRoLHk6YS55K2EuaGVpZ2h0fV1dfSxheGlzOmZ1bmN0aW9uKGEsYil7cmV0dXJuW3t4OmFbMV0ueC1hWzBdLngseTphWzFdLnktYVswXS55fSx7eDphWzFdLngtYVszXS54LHk6YVsxXS55LWFbM10ueX0se3g6YlswXS54LWJbMl0ueCx5OmJbMF0ueS1iWzJdLnl9LHt4OmJbMF0ueC1iWzFdLngseTpiWzBdLnktYlsxXS55fV19LHByb2plY3Rpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz0oYS54KmIueCthLnkqYi55KS8oTWF0aC5wb3coYi54LDIpK01hdGgucG93KGIueSwyKSk7cmV0dXJue3g6YypiLngseTpjKmIueX19LGF4aXNDb2xsaXNpb246ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1bXSxlPVtdLGY9MDtmPDQ7ZisrKXt2YXIgZz10aGlzLnByb2plY3Rpb24oYltmXSxhKSxoPXRoaXMucHJvamVjdGlvbihjW2ZdLGEpO2QucHVzaChnLngqYS54K2cueSphLnkpLGUucHVzaChoLngqYS54K2gueSphLnkpfXZhciBpPU1hdGgubWF4LmFwcGx5KE1hdGgsZCksaj1NYXRoLm1heC5hcHBseShNYXRoLGUpLGs9TWF0aC5taW4uYXBwbHkoTWF0aCxkKTtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxlKTw9aSYmaj49a30sY29sbGlzaW9uOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYXhpcyhhLGIpLGQ9ITAsZT0wO2U8NDtlKyspZD1kJiZ0aGlzLmF4aXNDb2xsaXNpb24oY1tlXSxhLGIpO3JldHVybiBkfX0saz1mdW5jdGlvbigpe3RoaXMuX2dlb209aix0aGlzLl90cmVlPW51bGwsdGhpcy5fY2FjaGU9e3F1ZXJ5OiExLHJlc3VsdDohMX0sdGhpcy5fZW5hYmxlZD0hMH07ay5wcm90b3R5cGUuaW5kZXg9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5fZW5hYmxlZClyZXR1cm4gdGhpcy5fdHJlZTtpZighYi5ib3VuZHMpdGhyb3dcInNpZ21hLmNsYXNzZXMuZWRnZXF1YWQuaW5kZXg6IGJvdW5kcyBpbmZvcm1hdGlvbiBub3QgZ2l2ZW4uXCI7dmFyIGMsZCxlLGcsaCxrPWIucHJlZml4fHxcIlwiO3RoaXMuX3RyZWU9aShiLmJvdW5kcywwLGIubWF4RWxlbWVudHMsYi5tYXhMZXZlbCk7Zm9yKHZhciBsPWEuZWRnZXMoKSxtPTAsbj1sLmxlbmd0aDttPG47bSsrKWQ9YS5ub2RlcyhsW21dLnNvdXJjZSksZT1hLm5vZGVzKGxbbV0udGFyZ2V0KSxoPXt4MTpkW2srXCJ4XCJdLHkxOmRbaytcInlcIl0seDI6ZVtrK1wieFwiXSx5MjplW2srXCJ5XCJdLHNpemU6bFttXVtrK1wic2l6ZVwiXXx8MH0sXCJjdXJ2ZVwiPT09bFttXS50eXBlfHxcImN1cnZlZEFycm93XCI9PT1sW21dLnR5cGU/ZC5pZD09PWUuaWQ/KGc9e3g6ZFtrK1wieFwiXSx5OmRbaytcInlcIl0sc2l6ZTpkW2srXCJzaXplXCJdfHwwfSxmKGxbbV0sai5zZWxmTG9vcFRvU3F1YXJlKGcpLHRoaXMuX3RyZWUpKTooYz1zaWdtYS51dGlscy5nZXRRdWFkcmF0aWNDb250cm9sUG9pbnQoaC54MSxoLnkxLGgueDIsaC55MiksZihsW21dLGoucXVhZHJhdGljQ3VydmVUb1NxdWFyZShoLGMpLHRoaXMuX3RyZWUpKTpmKGxbbV0sai5saW5lVG9TcXVhcmUoaCksdGhpcy5fdHJlZSk7cmV0dXJuIHRoaXMuX2NhY2hlPXtxdWVyeTohMSxyZXN1bHQ6ITF9LHRoaXMuX3RyZWV9LGsucHJvdG90eXBlLnBvaW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2VuYWJsZWQmJnRoaXMuX3RyZWU/Zyh7eDphLHk6Yn0sdGhpcy5fdHJlZSl8fFtdOltdfSxrLnByb3RvdHlwZS5hcmVhPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLl9lbmFibGVkKXJldHVybltdO3ZhciBiLGUsZj1KU09OLnN0cmluZ2lmeShhKTtpZih0aGlzLl9jYWNoZS5xdWVyeT09PWYpcmV0dXJuIHRoaXMuX2NhY2hlLnJlc3VsdDtqLmlzQXhpc0FsaWduZWQoYSk/KGI9YyxlPWouYXhpc0FsaWduZWRUb3BQb2ludHMoYSkpOihiPWQsZT1qLnJlY3RhbmdsZUNvcm5lcnMoYSkpO3ZhciBnPXRoaXMuX3RyZWU/aChlLHRoaXMuX3RyZWUsYik6W10saT1bXTtmb3IodmFyIGsgaW4gZylpLnB1c2goZ1trXSk7cmV0dXJuIHRoaXMuX2NhY2hlLnF1ZXJ5PWYsdGhpcy5fY2FjaGUucmVzdWx0PWksaX0sdm9pZCAwIT09dGhpcy5zaWdtYT8odGhpcy5zaWdtYS5jbGFzc2VzPXRoaXMuc2lnbWEuY2xhc3Nlc3x8e30sdGhpcy5zaWdtYS5jbGFzc2VzLmVkZ2VxdWFkPWspOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzPyhcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9ayksZXhwb3J0cy5lZGdlcXVhZD1rKTp0aGlzLmVkZ2VxdWFkPWt9LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYXB0b3JzXCIpLHNpZ21hLmNhcHRvcnMubW91c2U9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7dmFyIGIsYyxkO2lmKHkoXCJtb3VzZUVuYWJsZWRcIikmJih2LmRpc3BhdGNoRXZlbnQoXCJtb3VzZW1vdmVcIixzaWdtYS51dGlscy5tb3VzZUNvb3JkcyhhKSkscSkpcmV0dXJuIHI9ITAscz0hMCx1JiZjbGVhclRpbWVvdXQodSksdT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cj0hMX0seShcImRyYWdUaW1lb3V0XCIpKSxzaWdtYS5taXNjLmFuaW1hdGlvbi5raWxsQWxsKHgpLHguaXNNb3Zpbmc9ITAsZD14LmNhbWVyYVBvc2l0aW9uKHNpZ21hLnV0aWxzLmdldFgoYSktbyxzaWdtYS51dGlscy5nZXRZKGEpLXAsITApLGI9ay1kLngsYz1sLWQueSxiPT09eC54JiZjPT09eC55fHwobT14Lngsbj14LnkseC5nb1RvKHt4OmIseTpjfSkpLGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEsYS5zdG9wUHJvcGFnYXRpb24oKSwhMX1mdW5jdGlvbiBlKGEpe2lmKHkoXCJtb3VzZUVuYWJsZWRcIikmJnEpe3E9ITEsdSYmY2xlYXJUaW1lb3V0KHUpLHguaXNNb3Zpbmc9ITE7dmFyIGI9c2lnbWEudXRpbHMuZ2V0WChhKSxjPXNpZ21hLnV0aWxzLmdldFkoYSk7cj8oc2lnbWEubWlzYy5hbmltYXRpb24ua2lsbEFsbCh4KSxzaWdtYS5taXNjLmFuaW1hdGlvbi5jYW1lcmEoeCx7eDp4LngreShcIm1vdXNlSW5lcnRpYVJhdGlvXCIpKih4LngtbSkseTp4LnkreShcIm1vdXNlSW5lcnRpYVJhdGlvXCIpKih4Lnktbil9LHtlYXNpbmc6XCJxdWFkcmF0aWNPdXRcIixkdXJhdGlvbjp5KFwibW91c2VJbmVydGlhRHVyYXRpb25cIil9KSk6bz09PWImJnA9PT1jfHx4LmdvVG8oe3g6eC54LHk6eC55fSksdi5kaXNwYXRjaEV2ZW50KFwibW91c2V1cFwiLHNpZ21hLnV0aWxzLm1vdXNlQ29vcmRzKGEpKSxyPSExfX1mdW5jdGlvbiBmKGEpe2lmKHkoXCJtb3VzZUVuYWJsZWRcIikpc3dpdGNoKGs9eC54LGw9eC55LG09eC54LG49eC55LG89c2lnbWEudXRpbHMuZ2V0WChhKSxwPXNpZ21hLnV0aWxzLmdldFkoYSkscz0hMSx0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGEud2hpY2gpe2Nhc2UgMjpicmVhaztjYXNlIDM6di5kaXNwYXRjaEV2ZW50KFwicmlnaHRjbGlja1wiLHNpZ21hLnV0aWxzLm1vdXNlQ29vcmRzKGEsbyxwKSk7YnJlYWs7ZGVmYXVsdDpxPSEwLHYuZGlzcGF0Y2hFdmVudChcIm1vdXNlZG93blwiLHNpZ21hLnV0aWxzLm1vdXNlQ29vcmRzKGEsbyxwKSl9fWZ1bmN0aW9uIGcoYSl7eShcIm1vdXNlRW5hYmxlZFwiKSYmdi5kaXNwYXRjaEV2ZW50KFwibW91c2VvdXRcIil9ZnVuY3Rpb24gaChhKXtpZih5KFwibW91c2VFbmFibGVkXCIpKXt2YXIgYj1zaWdtYS51dGlscy5tb3VzZUNvb3JkcyhhKTtiLmlzRHJhZ2dpbmc9KG5ldyBEYXRlKS5nZXRUaW1lKCktdD4xMDAmJnMsdi5kaXNwYXRjaEV2ZW50KFwiY2xpY2tcIixiKX1yZXR1cm4gYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSxhLnN0b3BQcm9wYWdhdGlvbigpLCExfWZ1bmN0aW9uIGkoYSl7dmFyIGIsYyxkO2lmKHkoXCJtb3VzZUVuYWJsZWRcIikpcmV0dXJuIGM9MS95KFwiZG91YmxlQ2xpY2tab29taW5nUmF0aW9cIiksdi5kaXNwYXRjaEV2ZW50KFwiZG91YmxlY2xpY2tcIixzaWdtYS51dGlscy5tb3VzZUNvb3JkcyhhLG8scCkpLHkoXCJkb3VibGVDbGlja0VuYWJsZWRcIikmJihiPXguY2FtZXJhUG9zaXRpb24oc2lnbWEudXRpbHMuZ2V0WChhKS1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueCxzaWdtYS51dGlscy5nZXRZKGEpLXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS55LCEwKSxkPXtkdXJhdGlvbjp5KFwiZG91YmxlQ2xpY2tab29tRHVyYXRpb25cIil9LHNpZ21hLnV0aWxzLnpvb21Ubyh4LGIueCxiLnksYyxkKSksYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSxhLnN0b3BQcm9wYWdhdGlvbigpLCExfWZ1bmN0aW9uIGooYSl7dmFyIGIsYyxkLGU9c2lnbWEudXRpbHMuZ2V0RGVsdGEoYSk7aWYoeShcIm1vdXNlRW5hYmxlZFwiKSYmeShcIm1vdXNlV2hlZWxFbmFibGVkXCIpJiYwIT09ZSlyZXR1cm4gYz1lPjA/MS95KFwiem9vbWluZ1JhdGlvXCIpOnkoXCJ6b29taW5nUmF0aW9cIiksYj14LmNhbWVyYVBvc2l0aW9uKHNpZ21hLnV0aWxzLmdldFgoYSktc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLngsc2lnbWEudXRpbHMuZ2V0WShhKS1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueSwhMCksZD17ZHVyYXRpb246eShcIm1vdXNlWm9vbUR1cmF0aW9uXCIpfSxzaWdtYS51dGlscy56b29tVG8oeCxiLngsYi55LGMsZCksYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSxhLnN0b3BQcm9wYWdhdGlvbigpLCExfXZhciBrLGwsbSxuLG8scCxxLHIscyx0LHUsdj10aGlzLHc9YSx4PWIseT1jO3NpZ21hLmNsYXNzZXMuZGlzcGF0Y2hlci5leHRlbmQodGhpcyksc2lnbWEudXRpbHMuZG91YmxlQ2xpY2sodyxcImNsaWNrXCIsaSksdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIixqLCExKSx3LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsaiwhMSksdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZCwhMSksdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZiwhMSksdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixoLCExKSx3LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLGcsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsZSwhMSksdGhpcy5raWxsPWZ1bmN0aW9uKCl7c2lnbWEudXRpbHMudW5iaW5kRG91YmxlQ2xpY2sodyxcImNsaWNrXCIpLHcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsaiksdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLGopLHcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGQpLHcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGYpLHcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsaCksdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIixnKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGUpfX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYXB0b3JzXCIpLHNpZ21hLmNhcHRvcnMudG91Y2g9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7dmFyIGI9c2lnbWEudXRpbHMuZ2V0T2Zmc2V0KEIpO3JldHVybnt4OmEucGFnZVgtYi5sZWZ0LHk6YS5wYWdlWS1iLnRvcH19ZnVuY3Rpb24gZShhKXtpZihEKFwidG91Y2hFbmFibGVkXCIpKXt2YXIgYixjLGUsZixnLGg7c3dpdGNoKEU9YS50b3VjaGVzLEUubGVuZ3RoKXtjYXNlIDE6Qy5pc01vdmluZz0hMCx3PTEsaT1DLngsaj1DLnksbT1DLngsbj1DLnksZz1kKEVbMF0pLHE9Zy54LHI9Zy55O2JyZWFrO2Nhc2UgMjpyZXR1cm4gQy5pc01vdmluZz0hMCx3PTIsZz1kKEVbMF0pLGg9ZChFWzFdKSxiPWcueCxlPWcueSxjPWgueCxmPWgueSxtPUMueCxuPUMueSxrPUMuYW5nbGUsbD1DLnJhdGlvLGk9Qy54LGo9Qy55LHE9YixyPWUscz1jLHQ9Zix1PU1hdGguYXRhbjIodC1yLHMtcSksdj1NYXRoLnNxcnQoKHQtcikqKHQtcikrKHMtcSkqKHMtcSkpLGEucHJldmVudERlZmF1bHQoKSwhMX19fWZ1bmN0aW9uIGYoYSl7aWYoRChcInRvdWNoRW5hYmxlZFwiKSl7RT1hLnRvdWNoZXM7dmFyIGI9RChcInRvdWNoSW5lcnRpYVJhdGlvXCIpO3N3aXRjaCh6JiYoeD0hMSxjbGVhclRpbWVvdXQoeikpLHcpe2Nhc2UgMjppZigxPT09YS50b3VjaGVzLmxlbmd0aCl7ZShhKSxhLnByZXZlbnREZWZhdWx0KCk7YnJlYWt9Y2FzZSAxOkMuaXNNb3Zpbmc9ITEsQS5kaXNwYXRjaEV2ZW50KFwic3RvcERyYWdcIikseCYmKHk9ITEsc2lnbWEubWlzYy5hbmltYXRpb24uY2FtZXJhKEMse3g6Qy54K2IqKEMueC1tKSx5OkMueStiKihDLnktbil9LHtlYXNpbmc6XCJxdWFkcmF0aWNPdXRcIixkdXJhdGlvbjpEKFwidG91Y2hJbmVydGlhRHVyYXRpb25cIil9KSkseD0hMSx3PTB9fX1mdW5jdGlvbiBnKGEpe2lmKCF5JiZEKFwidG91Y2hFbmFibGVkXCIpKXt2YXIgYixjLGUsZixnLGgsQixGLEcsSCxJLEosSyxMLE0sTixPO3N3aXRjaChFPWEudG91Y2hlcyx4PSEwLHomJmNsZWFyVGltZW91dCh6KSx6PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt4PSExfSxEKFwiZHJhZ1RpbWVvdXRcIikpLHcpe2Nhc2UgMTpGPWQoRVswXSksYj1GLngsZT1GLnksSD1DLmNhbWVyYVBvc2l0aW9uKGItcSxlLXIsITApLEw9aS1ILngsTT1qLUgueSxMPT09Qy54JiZNPT09Qy55fHwobT1DLngsbj1DLnksQy5nb1RvKHt4OkwseTpNfSksQS5kaXNwYXRjaEV2ZW50KFwibW91c2Vtb3ZlXCIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSxGLngsRi55KSksQS5kaXNwYXRjaEV2ZW50KFwiZHJhZ1wiKSk7YnJlYWs7Y2FzZSAyOkY9ZChFWzBdKSxHPWQoRVsxXSksYj1GLngsZT1GLnksYz1HLngsZj1HLnksST1DLmNhbWVyYVBvc2l0aW9uKChxK3MpLzItc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLngsKHIrdCkvMi1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueSwhMCksQj1DLmNhbWVyYVBvc2l0aW9uKChiK2MpLzItc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLngsKGUrZikvMi1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueSwhMCksSj1NYXRoLmF0YW4yKGYtZSxjLWIpLXUsSz1NYXRoLnNxcnQoKGYtZSkqKGYtZSkrKGMtYikqKGMtYikpL3YsYj1JLngsZT1JLnksTj1sL0ssYio9SyxlKj1LLE89ay1KLGc9TWF0aC5jb3MoLUopLGg9TWF0aC5zaW4oLUopLGM9YipnK2UqaCxmPWUqZy1iKmgsYj1jLGU9ZixMPWItQi54K2ksTT1lLUIueStqLE49PT1DLnJhdGlvJiZPPT09Qy5hbmdsZSYmTD09PUMueCYmTT09PUMueXx8KG09Qy54LG49Qy55LG89Qy5hbmdsZSxwPUMucmF0aW8sQy5nb1RvKHt4OkwseTpNLGFuZ2xlOk8scmF0aW86Tn0pLEEuZGlzcGF0Y2hFdmVudChcImRyYWdcIikpfXJldHVybiBhLnByZXZlbnREZWZhdWx0KCksITF9fWZ1bmN0aW9uIGgoYSl7dmFyIGIsYyxlO2lmKGEudG91Y2hlcyYmMT09PWEudG91Y2hlcy5sZW5ndGgmJkQoXCJ0b3VjaEVuYWJsZWRcIikpcmV0dXJuIHk9ITAsYz0xL0QoXCJkb3VibGVDbGlja1pvb21pbmdSYXRpb1wiKSxiPWQoYS50b3VjaGVzWzBdKSxBLmRpc3BhdGNoRXZlbnQoXCJkb3VibGVjbGlja1wiLHNpZ21hLnV0aWxzLm1vdXNlQ29vcmRzKGEsYi54LGIueSkpLEQoXCJkb3VibGVDbGlja0VuYWJsZWRcIikmJihiPUMuY2FtZXJhUG9zaXRpb24oYi54LXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS54LGIueS1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueSwhMCksZT17ZHVyYXRpb246RChcImRvdWJsZUNsaWNrWm9vbUR1cmF0aW9uXCIpLG9uQ29tcGxldGU6ZnVuY3Rpb24oKXt5PSExfX0sc2lnbWEudXRpbHMuem9vbVRvKEMsYi54LGIueSxjLGUpKSxhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExLGEuc3RvcFByb3BhZ2F0aW9uKCksITF9dmFyIGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseSx6LEE9dGhpcyxCPWEsQz1iLEQ9YyxFPVtdO3NpZ21hLmNsYXNzZXMuZGlzcGF0Y2hlci5leHRlbmQodGhpcyksc2lnbWEudXRpbHMuZG91YmxlQ2xpY2soQixcInRvdWNoc3RhcnRcIixoKSxCLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMSksQi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixmLCExKSxCLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLGYsITEpLEIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobGVhdmVcIixmLCExKSxCLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixnLCExKSx0aGlzLmtpbGw9ZnVuY3Rpb24oKXtzaWdtYS51dGlscy51bmJpbmREb3VibGVDbGljayhCLFwidG91Y2hzdGFydFwiKSxCLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSksQi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixmKSxCLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLGYpLEIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobGVhdmVcIixmKSxCLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixnKX19fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGNvbnJhZCl0aHJvd1wiY29ucmFkIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnJlbmRlcmVyc1wiKSxzaWdtYS5yZW5kZXJlcnMuY2FudmFzPWZ1bmN0aW9uKGEsYixjLGQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBkKXRocm93XCJzaWdtYS5yZW5kZXJlcnMuY2FudmFzOiBXcm9uZyBhcmd1bWVudHMuXCI7aWYoIShkLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSl0aHJvd1wiQ29udGFpbmVyIG5vdCBmb3VuZC5cIjt2YXIgZSxmLGcsaDtmb3Ioc2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvbnJhZElkXCIse3ZhbHVlOnNpZ21hLnV0aWxzLmlkKCl9KSx0aGlzLmdyYXBoPWEsdGhpcy5jYW1lcmE9Yix0aGlzLmNvbnRleHRzPXt9LHRoaXMuZG9tRWxlbWVudHM9e30sdGhpcy5vcHRpb25zPWQsdGhpcy5jb250YWluZXI9dGhpcy5vcHRpb25zLmNvbnRhaW5lcix0aGlzLnNldHRpbmdzPVwib2JqZWN0XCI9PXR5cGVvZiBkLnNldHRpbmdzJiZkLnNldHRpbmdzP2MuZW1iZWRPYmplY3RzKGQuc2V0dGluZ3MpOmMsdGhpcy5ub2Rlc09uU2NyZWVuPVtdLHRoaXMuZWRnZXNPblNjcmVlbj1bXSx0aGlzLmpvYnM9e30sdGhpcy5vcHRpb25zLnByZWZpeD1cInJlbmRlcmVyXCIrdGhpcy5jb25yYWRJZCtcIjpcIix0aGlzLnNldHRpbmdzKFwiYmF0Y2hFZGdlc0RyYXdpbmdcIik/KHRoaXMuaW5pdERPTShcImNhbnZhc1wiLFwiZWRnZXNcIiksdGhpcy5pbml0RE9NKFwiY2FudmFzXCIsXCJzY2VuZVwiKSx0aGlzLmNvbnRleHRzLm5vZGVzPXRoaXMuY29udGV4dHMuc2NlbmUsdGhpcy5jb250ZXh0cy5sYWJlbHM9dGhpcy5jb250ZXh0cy5zY2VuZSk6KHRoaXMuaW5pdERPTShcImNhbnZhc1wiLFwic2NlbmVcIiksdGhpcy5jb250ZXh0cy5lZGdlcz10aGlzLmNvbnRleHRzLnNjZW5lLHRoaXMuY29udGV4dHMubm9kZXM9dGhpcy5jb250ZXh0cy5zY2VuZSx0aGlzLmNvbnRleHRzLmxhYmVscz10aGlzLmNvbnRleHRzLnNjZW5lKSx0aGlzLmluaXRET00oXCJjYW52YXNcIixcIm1vdXNlXCIpLHRoaXMuY29udGV4dHMuaG92ZXI9dGhpcy5jb250ZXh0cy5tb3VzZSx0aGlzLmNhcHRvcnM9W10sZz10aGlzLm9wdGlvbnMuY2FwdG9yc3x8W3NpZ21hLmNhcHRvcnMubW91c2Usc2lnbWEuY2FwdG9ycy50b3VjaF0sZT0wLGY9Zy5sZW5ndGg7ZTxmO2UrKyloPVwiZnVuY3Rpb25cIj09dHlwZW9mIGdbZV0/Z1tlXTpzaWdtYS5jYXB0b3JzW2dbZV1dLHRoaXMuY2FwdG9ycy5wdXNoKG5ldyBoKHRoaXMuZG9tRWxlbWVudHMubW91c2UsdGhpcy5jYW1lcmEsdGhpcy5zZXR0aW5ncykpO3NpZ21hLm1pc2MuYmluZEV2ZW50cy5jYWxsKHRoaXMsdGhpcy5vcHRpb25zLnByZWZpeCksc2lnbWEubWlzYy5kcmF3SG92ZXJzLmNhbGwodGhpcyx0aGlzLm9wdGlvbnMucHJlZml4KSx0aGlzLnJlc2l6ZSghMSl9LHNpZ21hLnJlbmRlcmVycy5jYW52YXMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihiKXtiPWJ8fHt9O3ZhciBjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHA9e30scT10aGlzLmdyYXBoLHI9dGhpcy5ncmFwaC5ub2RlcyxzPSh0aGlzLm9wdGlvbnMucHJlZml4LHRoaXMuc2V0dGluZ3MoYixcImRyYXdFZGdlc1wiKSksdD10aGlzLnNldHRpbmdzKGIsXCJkcmF3Tm9kZXNcIiksdT10aGlzLnNldHRpbmdzKGIsXCJkcmF3TGFiZWxzXCIpLHY9dGhpcy5zZXR0aW5ncyhiLFwiZHJhd0VkZ2VMYWJlbHNcIiksdz10aGlzLnNldHRpbmdzLmVtYmVkT2JqZWN0cyhiLHtwcmVmaXg6dGhpcy5vcHRpb25zLnByZWZpeH0pO3RoaXMucmVzaXplKCExKSx0aGlzLnNldHRpbmdzKGIsXCJoaWRlRWRnZXNPbk1vdmVcIikmJih0aGlzLmNhbWVyYS5pc0FuaW1hdGVkfHx0aGlzLmNhbWVyYS5pc01vdmluZykmJihzPSExKSx0aGlzLmNhbWVyYS5hcHBseVZpZXcoYSx0aGlzLm9wdGlvbnMucHJlZml4LHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0pLHRoaXMuY2xlYXIoKTtmb3IoZSBpbiB0aGlzLmpvYnMpY29ucmFkLmhhc0pvYihlKSYmY29ucmFkLmtpbGxKb2IoZSk7Zm9yKHRoaXMuZWRnZXNPblNjcmVlbj1bXSx0aGlzLm5vZGVzT25TY3JlZW49dGhpcy5jYW1lcmEucXVhZHRyZWUuYXJlYSh0aGlzLmNhbWVyYS5nZXRSZWN0YW5nbGUodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLGM9dGhpcy5ub2Rlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspcFtjW2RdLmlkXT1jW2RdO2lmKHMpe2ZvcihjPXEuZWRnZXMoKSxkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWc9Y1tkXSwhcFtnLnNvdXJjZV0mJiFwW2cudGFyZ2V0XXx8Zy5oaWRkZW58fHIoZy5zb3VyY2UpLmhpZGRlbnx8cihnLnRhcmdldCkuaGlkZGVufHx0aGlzLmVkZ2VzT25TY3JlZW4ucHVzaChnKTtpZih0aGlzLnNldHRpbmdzKGIsXCJiYXRjaEVkZ2VzRHJhd2luZ1wiKSloPVwiZWRnZXNfXCIrdGhpcy5jb25yYWRJZCxuPXcoXCJjYW52YXNFZGdlc0JhdGNoU2l6ZVwiKSxsPXRoaXMuZWRnZXNPblNjcmVlbixmPWwubGVuZ3RoLGs9MCxpPU1hdGgubWluKGwubGVuZ3RoLGsrbiksaj1mdW5jdGlvbigpe2ZvcihvPXRoaXMuY29udGV4dHMuZWRnZXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uLHRoaXMuY29udGV4dHMuZWRnZXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiZGVzdGluYXRpb24tb3ZlclwiLG09c2lnbWEuY2FudmFzLmVkZ2VzLGQ9aztkPGk7ZCsrKWc9bFtkXSwobVtnLnR5cGV8fHRoaXMuc2V0dGluZ3MoYixcImRlZmF1bHRFZGdlVHlwZVwiKV18fG0uZGVmKShnLHEubm9kZXMoZy5zb3VyY2UpLHEubm9kZXMoZy50YXJnZXQpLHRoaXMuY29udGV4dHMuZWRnZXMsdyk7aWYodilmb3IobT1zaWdtYS5jYW52YXMuZWRnZXMubGFiZWxzLGQ9aztkPGk7ZCsrKWc9bFtkXSxnLmhpZGRlbnx8KG1bZy50eXBlfHx0aGlzLnNldHRpbmdzKGIsXCJkZWZhdWx0RWRnZVR5cGVcIildfHxtLmRlZikoZyxxLm5vZGVzKGcuc291cmNlKSxxLm5vZGVzKGcudGFyZ2V0KSx0aGlzLmNvbnRleHRzLmxhYmVscyx3KTtyZXR1cm4gdGhpcy5jb250ZXh0cy5lZGdlcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249byxpPT09bC5sZW5ndGg/KGRlbGV0ZSB0aGlzLmpvYnNbaF0sITEpOihrPWkrMSxpPU1hdGgubWluKGwubGVuZ3RoLGsrbiksITApfSx0aGlzLmpvYnNbaF09aixjb25yYWQuYWRkSm9iKGgsai5iaW5kKHRoaXMpKTtlbHNle2ZvcihtPXNpZ21hLmNhbnZhcy5lZGdlcyxjPXRoaXMuZWRnZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWc9Y1tkXSwobVtnLnR5cGV8fHRoaXMuc2V0dGluZ3MoYixcImRlZmF1bHRFZGdlVHlwZVwiKV18fG0uZGVmKShnLHEubm9kZXMoZy5zb3VyY2UpLHEubm9kZXMoZy50YXJnZXQpLHRoaXMuY29udGV4dHMuZWRnZXMsdyk7aWYodilmb3IobT1zaWdtYS5jYW52YXMuZWRnZXMubGFiZWxzLGM9dGhpcy5lZGdlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspY1tkXS5oaWRkZW58fChtW2NbZF0udHlwZXx8dGhpcy5zZXR0aW5ncyhiLFwiZGVmYXVsdEVkZ2VUeXBlXCIpXXx8bS5kZWYpKGNbZF0scS5ub2RlcyhjW2RdLnNvdXJjZSkscS5ub2RlcyhjW2RdLnRhcmdldCksdGhpcy5jb250ZXh0cy5sYWJlbHMsdyl9fWlmKHQpZm9yKG09c2lnbWEuY2FudmFzLm5vZGVzLGM9dGhpcy5ub2Rlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspY1tkXS5oaWRkZW58fChtW2NbZF0udHlwZXx8dGhpcy5zZXR0aW5ncyhiLFwiZGVmYXVsdE5vZGVUeXBlXCIpXXx8bS5kZWYpKGNbZF0sdGhpcy5jb250ZXh0cy5ub2Rlcyx3KTtpZih1KWZvcihtPXNpZ21hLmNhbnZhcy5sYWJlbHMsYz10aGlzLm5vZGVzT25TY3JlZW4sZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKyljW2RdLmhpZGRlbnx8KG1bY1tkXS50eXBlfHx0aGlzLnNldHRpbmdzKGIsXCJkZWZhdWx0Tm9kZVR5cGVcIildfHxtLmRlZikoY1tkXSx0aGlzLmNvbnRleHRzLmxhYmVscyx3KTtyZXR1cm4gdGhpcy5kaXNwYXRjaEV2ZW50KFwicmVuZGVyXCIpLHRoaXN9LHNpZ21hLnJlbmRlcmVycy5jYW52YXMucHJvdG90eXBlLmluaXRET009ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpO2Muc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInNpZ21hLVwiK2IpLHRoaXMuZG9tRWxlbWVudHNbYl09Yyx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChjKSxcImNhbnZhc1wiPT09YS50b0xvd2VyQ2FzZSgpJiYodGhpcy5jb250ZXh0c1tiXT1jLmdldENvbnRleHQoXCIyZFwiKSl9LHNpZ21hLnJlbmRlcmVycy5jYW52YXMucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy53aWR0aCxmPXRoaXMuaGVpZ2h0LGc9c2lnbWEudXRpbHMuZ2V0UGl4ZWxSYXRpbygpO2lmKGIhPT1hJiZjIT09YT8odGhpcy53aWR0aD1iLHRoaXMuaGVpZ2h0PWMpOih0aGlzLndpZHRoPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCxiPXRoaXMud2lkdGgsYz10aGlzLmhlaWdodCksZSE9PXRoaXMud2lkdGh8fGYhPT10aGlzLmhlaWdodClmb3IoZCBpbiB0aGlzLmRvbUVsZW1lbnRzKXRoaXMuZG9tRWxlbWVudHNbZF0uc3R5bGUud2lkdGg9YitcInB4XCIsdGhpcy5kb21FbGVtZW50c1tkXS5zdHlsZS5oZWlnaHQ9YytcInB4XCIsXCJjYW52YXNcIj09PXRoaXMuZG9tRWxlbWVudHNbZF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodGhpcy5kb21FbGVtZW50c1tkXS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGIqZytcInB4XCIpLHRoaXMuZG9tRWxlbWVudHNbZF0uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYypnK1wicHhcIiksMSE9PWcmJnRoaXMuY29udGV4dHNbZF0uc2NhbGUoZyxnKSk7cmV0dXJuIHRoaXN9LHNpZ21hLnJlbmRlcmVycy5jYW52YXMucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuY29udGV4dHMpdGhpcy5jb250ZXh0c1thXS5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO3JldHVybiB0aGlzfSxzaWdtYS5yZW5kZXJlcnMuY2FudmFzLnByb3RvdHlwZS5raWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI7Yj10aGlzLmNhcHRvcnMucG9wKCk7KWIua2lsbCgpO2RlbGV0ZSB0aGlzLmNhcHRvcnM7Zm9yKGEgaW4gdGhpcy5kb21FbGVtZW50cyl0aGlzLmRvbUVsZW1lbnRzW2FdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb21FbGVtZW50c1thXSksZGVsZXRlIHRoaXMuZG9tRWxlbWVudHNbYV0sZGVsZXRlIHRoaXMuY29udGV4dHNbYV07ZGVsZXRlIHRoaXMuZG9tRWxlbWVudHMsZGVsZXRlIHRoaXMuY29udGV4dHN9LHNpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5ub2Rlc1wiKSxzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZXNcIiksc2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmxhYmVsc1wiKX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnJlbmRlcmVyc1wiKSxzaWdtYS5yZW5kZXJlcnMud2ViZ2w9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGQpdGhyb3dcInNpZ21hLnJlbmRlcmVycy53ZWJnbDogV3JvbmcgYXJndW1lbnRzLlwiO2lmKCEoZC5jb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpdGhyb3dcIkNvbnRhaW5lciBub3QgZm91bmQuXCI7dmFyIGUsZixnLGg7Zm9yKHNpZ21hLmNsYXNzZXMuZGlzcGF0Y2hlci5leHRlbmQodGhpcyksdGhpcy5qb2JzPXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY29ucmFkSWRcIix7dmFsdWU6c2lnbWEudXRpbHMuaWQoKX0pLHRoaXMuZ3JhcGg9YSx0aGlzLmNhbWVyYT1iLHRoaXMuY29udGV4dHM9e30sdGhpcy5kb21FbGVtZW50cz17fSx0aGlzLm9wdGlvbnM9ZCx0aGlzLmNvbnRhaW5lcj10aGlzLm9wdGlvbnMuY29udGFpbmVyLHRoaXMuc2V0dGluZ3M9XCJvYmplY3RcIj09dHlwZW9mIGQuc2V0dGluZ3MmJmQuc2V0dGluZ3M/Yy5lbWJlZE9iamVjdHMoZC5zZXR0aW5ncyk6Yyx0aGlzLm9wdGlvbnMucHJlZml4PXRoaXMuY2FtZXJhLnJlYWRQcmVmaXgsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJub2RlUHJvZ3JhbXNcIix7dmFsdWU6e319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImVkZ2VQcm9ncmFtc1wiLHt2YWx1ZTp7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibm9kZUZsb2F0QXJyYXlzXCIse3ZhbHVlOnt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJlZGdlRmxvYXRBcnJheXNcIix7dmFsdWU6e319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImVkZ2VJbmRpY2VzQXJyYXlzXCIse3ZhbHVlOnt9fSksdGhpcy5zZXR0aW5ncyhkLFwiYmF0Y2hFZGdlc0RyYXdpbmdcIik/KHRoaXMuaW5pdERPTShcImNhbnZhc1wiLFwiZWRnZXNcIiwhMCksdGhpcy5pbml0RE9NKFwiY2FudmFzXCIsXCJub2Rlc1wiLCEwKSk6KHRoaXMuaW5pdERPTShcImNhbnZhc1wiLFwic2NlbmVcIiwhMCksdGhpcy5jb250ZXh0cy5ub2Rlcz10aGlzLmNvbnRleHRzLnNjZW5lLHRoaXMuY29udGV4dHMuZWRnZXM9dGhpcy5jb250ZXh0cy5zY2VuZSksdGhpcy5pbml0RE9NKFwiY2FudmFzXCIsXCJsYWJlbHNcIiksdGhpcy5pbml0RE9NKFwiY2FudmFzXCIsXCJtb3VzZVwiKSx0aGlzLmNvbnRleHRzLmhvdmVyPXRoaXMuY29udGV4dHMubW91c2UsdGhpcy5jYXB0b3JzPVtdLGc9dGhpcy5vcHRpb25zLmNhcHRvcnN8fFtzaWdtYS5jYXB0b3JzLm1vdXNlLHNpZ21hLmNhcHRvcnMudG91Y2hdLGU9MCxmPWcubGVuZ3RoO2U8ZjtlKyspaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBnW2VdP2dbZV06c2lnbWEuY2FwdG9yc1tnW2VdXSx0aGlzLmNhcHRvcnMucHVzaChuZXcgaCh0aGlzLmRvbUVsZW1lbnRzLm1vdXNlLHRoaXMuY2FtZXJhLHRoaXMuc2V0dGluZ3MpKTtzaWdtYS5taXNjLmJpbmRFdmVudHMuY2FsbCh0aGlzLHRoaXMuY2FtZXJhLnByZWZpeCksc2lnbWEubWlzYy5kcmF3SG92ZXJzLmNhbGwodGhpcyx0aGlzLmNhbWVyYS5wcmVmaXgpLHRoaXMucmVzaXplKCl9LHNpZ21hLnJlbmRlcmVycy53ZWJnbC5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnPXRoaXMuZ3JhcGgsaD1zaWdtYS51dGlscy5leHRlbmQoaCx0aGlzLm9wdGlvbnMpLGk9dGhpcy5zZXR0aW5ncyhoLFwiZGVmYXVsdEVkZ2VUeXBlXCIpLGo9dGhpcy5zZXR0aW5ncyhoLFwiZGVmYXVsdE5vZGVUeXBlXCIpO2ZvcihkIGluIHRoaXMubm9kZUZsb2F0QXJyYXlzKWRlbGV0ZSB0aGlzLm5vZGVGbG9hdEFycmF5c1tkXTtmb3IoZCBpbiB0aGlzLmVkZ2VGbG9hdEFycmF5cylkZWxldGUgdGhpcy5lZGdlRmxvYXRBcnJheXNbZF07Zm9yKGQgaW4gdGhpcy5lZGdlSW5kaWNlc0FycmF5cylkZWxldGUgdGhpcy5lZGdlSW5kaWNlc0FycmF5c1tkXTtmb3IoYT1nLmVkZ2VzKCksYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyllPWFbYl0udHlwZXx8aSxkPWUmJnNpZ21hLndlYmdsLmVkZ2VzW2VdP2U6XCJkZWZcIix0aGlzLmVkZ2VGbG9hdEFycmF5c1tkXXx8KHRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdPXtlZGdlczpbXX0pLHRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdLmVkZ2VzLnB1c2goYVtiXSk7Zm9yKGE9Zy5ub2RlcygpLGI9MCxjPWEubGVuZ3RoO2I8YztiKyspZT1hW2JdLnR5cGV8fGosZD1lJiZzaWdtYS53ZWJnbC5ub2Rlc1tlXT9lOlwiZGVmXCIsdGhpcy5ub2RlRmxvYXRBcnJheXNbZF18fCh0aGlzLm5vZGVGbG9hdEFycmF5c1tkXT17bm9kZXM6W119KSx0aGlzLm5vZGVGbG9hdEFycmF5c1tkXS5ub2Rlcy5wdXNoKGFbYl0pO2ZvcihkIGluIHRoaXMuZWRnZUZsb2F0QXJyYXlzKXtmb3IoZj1zaWdtYS53ZWJnbC5lZGdlc1tkXSxhPXRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdLmVkZ2VzLHRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdLmFycmF5PW5ldyBGbG9hdDMyQXJyYXkoYS5sZW5ndGgqZi5QT0lOVFMqZi5BVFRSSUJVVEVTKSxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKWFbYl0uaGlkZGVufHxnLm5vZGVzKGFbYl0uc291cmNlKS5oaWRkZW58fGcubm9kZXMoYVtiXS50YXJnZXQpLmhpZGRlbnx8Zi5hZGRFZGdlKGFbYl0sZy5ub2RlcyhhW2JdLnNvdXJjZSksZy5ub2RlcyhhW2JdLnRhcmdldCksdGhpcy5lZGdlRmxvYXRBcnJheXNbZF0uYXJyYXksYipmLlBPSU5UUypmLkFUVFJJQlVURVMsaC5wcmVmaXgsdGhpcy5zZXR0aW5ncyk7XCJmdW5jdGlvblwiPT10eXBlb2YgZi5jb21wdXRlSW5kaWNlcyYmKHRoaXMuZWRnZUluZGljZXNBcnJheXNbZF09Zi5jb21wdXRlSW5kaWNlcyh0aGlzLmVkZ2VGbG9hdEFycmF5c1tkXS5hcnJheSkpfWZvcihkIGluIHRoaXMubm9kZUZsb2F0QXJyYXlzKWZvcihmPXNpZ21hLndlYmdsLm5vZGVzW2RdLGE9dGhpcy5ub2RlRmxvYXRBcnJheXNbZF0ubm9kZXMsdGhpcy5ub2RlRmxvYXRBcnJheXNbZF0uYXJyYXk9bmV3IEZsb2F0MzJBcnJheShhLmxlbmd0aCpmLlBPSU5UUypmLkFUVFJJQlVURVMpLGI9MCxjPWEubGVuZ3RoO2I8YztiKyspdGhpcy5ub2RlRmxvYXRBcnJheXNbZF0uYXJyYXl8fCh0aGlzLm5vZGVGbG9hdEFycmF5c1tkXS5hcnJheT1uZXcgRmxvYXQzMkFycmF5KGEubGVuZ3RoKmYuUE9JTlRTKmYuQVRUUklCVVRFUykpLGFbYl0uaGlkZGVufHxmLmFkZE5vZGUoYVtiXSx0aGlzLm5vZGVGbG9hdEFycmF5c1tkXS5hcnJheSxiKmYuUE9JTlRTKmYuQVRUUklCVVRFUyxoLnByZWZpeCx0aGlzLnNldHRpbmdzKTtyZXR1cm4gdGhpc30sc2lnbWEucmVuZGVyZXJzLndlYmdsLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9dGhpcyxqPSh0aGlzLmdyYXBoLHRoaXMuY29udGV4dHMubm9kZXMpLGs9dGhpcy5jb250ZXh0cy5lZGdlcyxsPXRoaXMuY2FtZXJhLmdldE1hdHJpeCgpLG09c2lnbWEudXRpbHMuZXh0ZW5kKGIsdGhpcy5vcHRpb25zKSxuPXRoaXMuc2V0dGluZ3MobSxcImRyYXdMYWJlbHNcIiksbz10aGlzLnNldHRpbmdzKG0sXCJkcmF3RWRnZXNcIikscD10aGlzLnNldHRpbmdzKG0sXCJkcmF3Tm9kZXNcIik7dGhpcy5yZXNpemUoITEpLHRoaXMuc2V0dGluZ3MobSxcImhpZGVFZGdlc09uTW92ZVwiKSYmKHRoaXMuY2FtZXJhLmlzQW5pbWF0ZWR8fHRoaXMuY2FtZXJhLmlzTW92aW5nKSYmKG89ITEpLHRoaXMuY2xlYXIoKSxsPXNpZ21hLnV0aWxzLm1hdHJpY2VzLm11bHRpcGx5KGwsc2lnbWEudXRpbHMubWF0cmljZXMudHJhbnNsYXRpb24odGhpcy53aWR0aC8yLHRoaXMuaGVpZ2h0LzIpKTtmb3IoZiBpbiB0aGlzLmpvYnMpY29ucmFkLmhhc0pvYihmKSYmY29ucmFkLmtpbGxKb2IoZik7aWYobylpZih0aGlzLnNldHRpbmdzKG0sXCJiYXRjaEVkZ2VzRHJhd2luZ1wiKSkoZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZyxoLGksajtjPVwiZWRnZXNfXCIrdGhpcy5jb25yYWRJZCxqPXRoaXMuc2V0dGluZ3MobSxcIndlYmdsRWRnZXNCYXRjaFNpemVcIiksYT1PYmplY3Qua2V5cyh0aGlzLmVkZ2VGbG9hdEFycmF5cyksYS5sZW5ndGgmJihiPTAsaT1zaWdtYS53ZWJnbC5lZGdlc1thW2JdXSxlPXRoaXMuZWRnZUZsb2F0QXJyYXlzW2FbYl1dLmFycmF5LGg9dGhpcy5lZGdlSW5kaWNlc0FycmF5c1thW2JdXSxnPTAsZj1NYXRoLm1pbihnK2oqaS5QT0lOVFMsZS5sZW5ndGgvaS5BVFRSSUJVVEVTKSxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZVByb2dyYW1zW2FbYl1dfHwodGhpcy5lZGdlUHJvZ3JhbXNbYVtiXV09aS5pbml0UHJvZ3JhbShrKSksZzxmJiYoay51c2VQcm9ncmFtKHRoaXMuZWRnZVByb2dyYW1zW2FbYl1dKSxpLnJlbmRlcihrLHRoaXMuZWRnZVByb2dyYW1zW2FbYl1dLGUse3NldHRpbmdzOnRoaXMuc2V0dGluZ3MsbWF0cml4Omwsd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQscmF0aW86dGhpcy5jYW1lcmEucmF0aW8sc2NhbGluZ1JhdGlvOnRoaXMuc2V0dGluZ3MobSxcIndlYmdsT3ZlcnNhbXBsaW5nUmF0aW9cIiksc3RhcnQ6Zyxjb3VudDpmLWcsaW5kaWNlc0RhdGE6aH0pKSxmPj1lLmxlbmd0aC9pLkFUVFJJQlVURVMmJmI9PT1hLmxlbmd0aC0xPyhkZWxldGUgdGhpcy5qb2JzW2NdLCExKTooZj49ZS5sZW5ndGgvaS5BVFRSSUJVVEVTPyhiKyssZT10aGlzLmVkZ2VGbG9hdEFycmF5c1thW2JdXS5hcnJheSxpPXNpZ21hLndlYmdsLmVkZ2VzW2FbYl1dLGc9MCxmPU1hdGgubWluKGcraippLlBPSU5UUyxlLmxlbmd0aC9pLkFUVFJJQlVURVMpKTooZz1mLGY9TWF0aC5taW4oZytqKmkuUE9JTlRTLGUubGVuZ3RoL2kuQVRUUklCVVRFUykpLCEwKX0sdGhpcy5qb2JzW2NdPWQsY29ucmFkLmFkZEpvYihjLGQuYmluZCh0aGlzKSkpfSkuY2FsbCh0aGlzKTtlbHNlIGZvcihmIGluIHRoaXMuZWRnZUZsb2F0QXJyYXlzKWg9c2lnbWEud2ViZ2wuZWRnZXNbZl0sdGhpcy5lZGdlUHJvZ3JhbXNbZl18fCh0aGlzLmVkZ2VQcm9ncmFtc1tmXT1oLmluaXRQcm9ncmFtKGspKSx0aGlzLmVkZ2VGbG9hdEFycmF5c1tmXSYmKGsudXNlUHJvZ3JhbSh0aGlzLmVkZ2VQcm9ncmFtc1tmXSksaC5yZW5kZXIoayx0aGlzLmVkZ2VQcm9ncmFtc1tmXSx0aGlzLmVkZ2VGbG9hdEFycmF5c1tmXS5hcnJheSx7c2V0dGluZ3M6dGhpcy5zZXR0aW5ncyxtYXRyaXg6bCx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxyYXRpbzp0aGlzLmNhbWVyYS5yYXRpbyxzY2FsaW5nUmF0aW86dGhpcy5zZXR0aW5ncyhtLFwid2ViZ2xPdmVyc2FtcGxpbmdSYXRpb1wiKSxpbmRpY2VzRGF0YTp0aGlzLmVkZ2VJbmRpY2VzQXJyYXlzW2ZdfSkpO2lmKHApe2ouYmxlbmRGdW5jKGouU1JDX0FMUEhBLGouT05FX01JTlVTX1NSQ19BTFBIQSksai5lbmFibGUoai5CTEVORCk7Zm9yKGYgaW4gdGhpcy5ub2RlRmxvYXRBcnJheXMpaD1zaWdtYS53ZWJnbC5ub2Rlc1tmXSx0aGlzLm5vZGVQcm9ncmFtc1tmXXx8KHRoaXMubm9kZVByb2dyYW1zW2ZdPWguaW5pdFByb2dyYW0oaikpLHRoaXMubm9kZUZsb2F0QXJyYXlzW2ZdJiYoai51c2VQcm9ncmFtKHRoaXMubm9kZVByb2dyYW1zW2ZdKSxoLnJlbmRlcihqLHRoaXMubm9kZVByb2dyYW1zW2ZdLHRoaXMubm9kZUZsb2F0QXJyYXlzW2ZdLmFycmF5LHtzZXR0aW5nczp0aGlzLnNldHRpbmdzLG1hdHJpeDpsLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LHJhdGlvOnRoaXMuY2FtZXJhLnJhdGlvLHNjYWxpbmdSYXRpbzp0aGlzLnNldHRpbmdzKG0sXCJ3ZWJnbE92ZXJzYW1wbGluZ1JhdGlvXCIpfSkpfWlmKG4pZm9yKGM9dGhpcy5jYW1lcmEucXVhZHRyZWUuYXJlYSh0aGlzLmNhbWVyYS5nZXRSZWN0YW5nbGUodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLHRoaXMuY2FtZXJhLmFwcGx5VmlldyhhLGEse25vZGVzOmMsZWRnZXM6W10sd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9KSxnPWZ1bmN0aW9uKGEpe3JldHVybiBpLnNldHRpbmdzKHtwcmVmaXg6aS5jYW1lcmEucHJlZml4fSxhKX0sZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyljW2RdLmhpZGRlbnx8KHNpZ21hLmNhbnZhcy5sYWJlbHNbY1tkXS50eXBlfHx0aGlzLnNldHRpbmdzKG0sXCJkZWZhdWx0Tm9kZVR5cGVcIildfHxzaWdtYS5jYW52YXMubGFiZWxzLmRlZikoY1tkXSx0aGlzLmNvbnRleHRzLmxhYmVscyxnKTtyZXR1cm4gdGhpcy5kaXNwYXRjaEV2ZW50KFwicmVuZGVyXCIpLHRoaXN9LHNpZ21hLnJlbmRlcmVycy53ZWJnbC5wcm90b3R5cGUuaW5pdERPTT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxlPXRoaXM7ZC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwic2lnbWEtXCIrYiksdGhpcy5kb21FbGVtZW50c1tiXT1kLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGQpLFwiY2FudmFzXCI9PT1hLnRvTG93ZXJDYXNlKCkmJih0aGlzLmNvbnRleHRzW2JdPWQuZ2V0Q29udGV4dChjP1wiZXhwZXJpbWVudGFsLXdlYmdsXCI6XCIyZFwiLHtwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITB9KSxjJiYoZC5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0sITEpLGQuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsZnVuY3Rpb24oYSl7ZS5yZW5kZXIoKX0sITEpKSl9LHNpZ21hLnJlbmRlcmVycy53ZWJnbC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLndpZHRoLGY9dGhpcy5oZWlnaHQsZz1zaWdtYS51dGlscy5nZXRQaXhlbFJhdGlvKCk7aWYoYiE9PWEmJmMhPT1hPyh0aGlzLndpZHRoPWIsdGhpcy5oZWlnaHQ9Yyk6KHRoaXMud2lkdGg9dGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LGI9dGhpcy53aWR0aCxjPXRoaXMuaGVpZ2h0KSxlIT09dGhpcy53aWR0aHx8ZiE9PXRoaXMuaGVpZ2h0KWZvcihkIGluIHRoaXMuZG9tRWxlbWVudHMpdGhpcy5kb21FbGVtZW50c1tkXS5zdHlsZS53aWR0aD1iK1wicHhcIix0aGlzLmRvbUVsZW1lbnRzW2RdLnN0eWxlLmhlaWdodD1jK1wicHhcIixcImNhbnZhc1wiPT09dGhpcy5kb21FbGVtZW50c1tkXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJih0aGlzLmNvbnRleHRzW2RdJiZ0aGlzLmNvbnRleHRzW2RdLnNjYWxlPyh0aGlzLmRvbUVsZW1lbnRzW2RdLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYipnK1wicHhcIiksdGhpcy5kb21FbGVtZW50c1tkXS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixjKmcrXCJweFwiKSwxIT09ZyYmdGhpcy5jb250ZXh0c1tkXS5zY2FsZShnLGcpKToodGhpcy5kb21FbGVtZW50c1tkXS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGIqdGhpcy5zZXR0aW5ncyhcIndlYmdsT3ZlcnNhbXBsaW5nUmF0aW9cIikrXCJweFwiKSx0aGlzLmRvbUVsZW1lbnRzW2RdLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGMqdGhpcy5zZXR0aW5ncyhcIndlYmdsT3ZlcnNhbXBsaW5nUmF0aW9cIikrXCJweFwiKSkpO2ZvcihkIGluIHRoaXMuY29udGV4dHMpdGhpcy5jb250ZXh0c1tkXSYmdGhpcy5jb250ZXh0c1tkXS52aWV3cG9ydCYmdGhpcy5jb250ZXh0c1tkXS52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCp0aGlzLnNldHRpbmdzKFwid2ViZ2xPdmVyc2FtcGxpbmdSYXRpb1wiKSx0aGlzLmhlaWdodCp0aGlzLnNldHRpbmdzKFwid2ViZ2xPdmVyc2FtcGxpbmdSYXRpb1wiKSk7cmV0dXJuIHRoaXN9LHNpZ21hLnJlbmRlcmVycy53ZWJnbC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0cy5sYWJlbHMuY2xlYXJSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmNvbnRleHRzLm5vZGVzLmNsZWFyKHRoaXMuY29udGV4dHMubm9kZXMuQ09MT1JfQlVGRkVSX0JJVCksdGhpcy5jb250ZXh0cy5lZGdlcy5jbGVhcih0aGlzLmNvbnRleHRzLmVkZ2VzLkNPTE9SX0JVRkZFUl9CSVQpLHRoaXN9LHNpZ21hLnJlbmRlcmVycy53ZWJnbC5wcm90b3R5cGUua2lsbD1mdW5jdGlvbigpe2Zvcih2YXIgYSxiO2I9dGhpcy5jYXB0b3JzLnBvcCgpOyliLmtpbGwoKTtkZWxldGUgdGhpcy5jYXB0b3JzO2ZvcihhIGluIHRoaXMuZG9tRWxlbWVudHMpdGhpcy5kb21FbGVtZW50c1thXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tRWxlbWVudHNbYV0pLGRlbGV0ZSB0aGlzLmRvbUVsZW1lbnRzW2FdLGRlbGV0ZSB0aGlzLmNvbnRleHRzW2FdO2RlbGV0ZSB0aGlzLmRvbUVsZW1lbnRzLGRlbGV0ZSB0aGlzLmNvbnRleHRzfSxzaWdtYS51dGlscy5wa2coXCJzaWdtYS53ZWJnbC5ub2Rlc1wiKSxzaWdtYS51dGlscy5wa2coXCJzaWdtYS53ZWJnbC5lZGdlc1wiKSxzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMubGFiZWxzXCIpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGNvbnJhZCl0aHJvd1wiY29ucmFkIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnJlbmRlcmVyc1wiKSxzaWdtYS5yZW5kZXJlcnMuc3ZnPWZ1bmN0aW9uKGEsYixjLGQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBkKXRocm93XCJzaWdtYS5yZW5kZXJlcnMuc3ZnOiBXcm9uZyBhcmd1bWVudHMuXCI7aWYoIShkLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSl0aHJvd1wiQ29udGFpbmVyIG5vdCBmb3VuZC5cIjt2YXIgZSxmLGcsaCxpPXRoaXM7Zm9yKHNpZ21hLmNsYXNzZXMuZGlzcGF0Y2hlci5leHRlbmQodGhpcyksdGhpcy5ncmFwaD1hLHRoaXMuY2FtZXJhPWIsdGhpcy5kb21FbGVtZW50cz17Z3JhcGg6bnVsbCxncm91cHM6e30sbm9kZXM6e30sZWRnZXM6e30sbGFiZWxzOnt9LGhvdmVyczp7fX0sdGhpcy5tZWFzdXJlbWVudENhbnZhcz1udWxsLHRoaXMub3B0aW9ucz1kLHRoaXMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXIsdGhpcy5zZXR0aW5ncz1cIm9iamVjdFwiPT10eXBlb2YgZC5zZXR0aW5ncyYmZC5zZXR0aW5ncz9jLmVtYmVkT2JqZWN0cyhkLnNldHRpbmdzKTpjLHRoaXMuc2V0dGluZ3MoXCJmcmVlU3R5bGVcIiwhIXRoaXMub3B0aW9ucy5mcmVlU3R5bGUpLHRoaXMuc2V0dGluZ3MoXCJ4bWxuc1wiLFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiksdGhpcy5ub2Rlc09uU2NyZWVuPVtdLHRoaXMuZWRnZXNPblNjcmVlbj1bXSx0aGlzLm9wdGlvbnMucHJlZml4PVwicmVuZGVyZXJcIitzaWdtYS51dGlscy5pZCgpK1wiOlwiLHRoaXMuaW5pdERPTShcInN2Z1wiKSx0aGlzLmNhcHRvcnM9W10sZz10aGlzLm9wdGlvbnMuY2FwdG9yc3x8W3NpZ21hLmNhcHRvcnMubW91c2Usc2lnbWEuY2FwdG9ycy50b3VjaF0sZT0wLGY9Zy5sZW5ndGg7ZTxmO2UrKyloPVwiZnVuY3Rpb25cIj09dHlwZW9mIGdbZV0/Z1tlXTpzaWdtYS5jYXB0b3JzW2dbZV1dLHRoaXMuY2FwdG9ycy5wdXNoKG5ldyBoKHRoaXMuZG9tRWxlbWVudHMuZ3JhcGgsdGhpcy5jYW1lcmEsdGhpcy5zZXR0aW5ncykpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZnVuY3Rpb24oKXtpLnJlc2l6ZSgpfSksc2lnbWEubWlzYy5iaW5kRE9NRXZlbnRzLmNhbGwodGhpcyx0aGlzLmRvbUVsZW1lbnRzLmdyYXBoKSx0aGlzLmJpbmRIb3ZlcnModGhpcy5vcHRpb25zLnByZWZpeCksdGhpcy5yZXNpemUoITEpfSxzaWdtYS5yZW5kZXJlcnMuc3ZnLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oYil7Yj1ifHx7fTt2YXIgYyxkLGUsZixnLGgsaSxqLGssbD17fSxtPXRoaXMuZ3JhcGgsbj10aGlzLmdyYXBoLm5vZGVzLG89KHRoaXMub3B0aW9ucy5wcmVmaXgsdGhpcy5zZXR0aW5ncyhiLFwiZHJhd0VkZ2VzXCIpKSxwPXRoaXMuc2V0dGluZ3MoYixcImRyYXdOb2Rlc1wiKSxxPSh0aGlzLnNldHRpbmdzKGIsXCJkcmF3TGFiZWxzXCIpLHRoaXMuc2V0dGluZ3MuZW1iZWRPYmplY3RzKGIse3ByZWZpeDp0aGlzLm9wdGlvbnMucHJlZml4LGZvcmNlTGFiZWxzOnRoaXMub3B0aW9ucy5mb3JjZUxhYmVsc30pKTtmb3IodGhpcy5zZXR0aW5ncyhiLFwiaGlkZUVkZ2VzT25Nb3ZlXCIpJiYodGhpcy5jYW1lcmEuaXNBbmltYXRlZHx8dGhpcy5jYW1lcmEuaXNNb3ZpbmcpJiYobz0hMSksdGhpcy5jYW1lcmEuYXBwbHlWaWV3KGEsdGhpcy5vcHRpb25zLnByZWZpeCx7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9KSx0aGlzLmhpZGVET01FbGVtZW50cyh0aGlzLmRvbUVsZW1lbnRzLm5vZGVzKSx0aGlzLmhpZGVET01FbGVtZW50cyh0aGlzLmRvbUVsZW1lbnRzLmVkZ2VzKSx0aGlzLmhpZGVET01FbGVtZW50cyh0aGlzLmRvbUVsZW1lbnRzLmxhYmVscyksdGhpcy5lZGdlc09uU2NyZWVuPVtdLHRoaXMubm9kZXNPblNjcmVlbj10aGlzLmNhbWVyYS5xdWFkdHJlZS5hcmVhKHRoaXMuY2FtZXJhLmdldFJlY3RhbmdsZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksYz10aGlzLm5vZGVzT25TY3JlZW4sZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKylsW2NbZF0uaWRdPWNbZF07Zm9yKGM9bS5lZGdlcygpLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspZz1jW2RdLCFsW2cuc291cmNlXSYmIWxbZy50YXJnZXRdfHxnLmhpZGRlbnx8bihnLnNvdXJjZSkuaGlkZGVufHxuKGcudGFyZ2V0KS5oaWRkZW58fHRoaXMuZWRnZXNPblNjcmVlbi5wdXNoKGcpO2lmKGo9c2lnbWEuc3ZnLm5vZGVzLGs9c2lnbWEuc3ZnLmxhYmVscyxwKWZvcihjPXRoaXMubm9kZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWNbZF0uaGlkZGVufHx0aGlzLmRvbUVsZW1lbnRzLm5vZGVzW2NbZF0uaWRdfHwoZT0oaltjW2RdLnR5cGVdfHxqLmRlZikuY3JlYXRlKGNbZF0scSksdGhpcy5kb21FbGVtZW50cy5ub2Rlc1tjW2RdLmlkXT1lLHRoaXMuZG9tRWxlbWVudHMuZ3JvdXBzLm5vZGVzLmFwcGVuZENoaWxkKGUpLGU9KGtbY1tkXS50eXBlXXx8ay5kZWYpLmNyZWF0ZShjW2RdLHEpLHRoaXMuZG9tRWxlbWVudHMubGFiZWxzW2NbZF0uaWRdPWUsdGhpcy5kb21FbGVtZW50cy5ncm91cHMubGFiZWxzLmFwcGVuZENoaWxkKGUpKTtpZihwKWZvcihjPXRoaXMubm9kZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWNbZF0uaGlkZGVufHwoKGpbY1tkXS50eXBlXXx8ai5kZWYpLnVwZGF0ZShjW2RdLHRoaXMuZG9tRWxlbWVudHMubm9kZXNbY1tkXS5pZF0scSksKGtbY1tkXS50eXBlXXx8ay5kZWYpLnVwZGF0ZShjW2RdLHRoaXMuZG9tRWxlbWVudHMubGFiZWxzW2NbZF0uaWRdLHEpKTtpZihqPXNpZ21hLnN2Zy5lZGdlcyxvKWZvcihjPXRoaXMuZWRnZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKXRoaXMuZG9tRWxlbWVudHMuZWRnZXNbY1tkXS5pZF18fChoPW4oY1tkXS5zb3VyY2UpLGk9bihjW2RdLnRhcmdldCksZT0oaltjW2RdLnR5cGVdfHxqLmRlZikuY3JlYXRlKGNbZF0saCxpLHEpLHRoaXMuZG9tRWxlbWVudHMuZWRnZXNbY1tkXS5pZF09ZSx0aGlzLmRvbUVsZW1lbnRzLmdyb3Vwcy5lZGdlcy5hcHBlbmRDaGlsZChlKSk7aWYobylmb3IoYz10aGlzLmVkZ2VzT25TY3JlZW4sZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKyloPW4oY1tkXS5zb3VyY2UpLGk9bihjW2RdLnRhcmdldCksKGpbY1tkXS50eXBlXXx8ai5kZWYpLnVwZGF0ZShjW2RdLHRoaXMuZG9tRWxlbWVudHMuZWRnZXNbY1tkXS5pZF0saCxpLHEpO3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoXCJyZW5kZXJcIiksdGhpc30sc2lnbWEucmVuZGVyZXJzLnN2Zy5wcm90b3R5cGUuaW5pdERPTT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zZXR0aW5ncyhcInhtbG5zXCIpLGEpLGY9dGhpcy5zZXR0aW5ncyhcImNsYXNzUHJlZml4XCIpO2Uuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixmK1wiLXN2Z1wiKSxlLnNldEF0dHJpYnV0ZShcInhtbG5zXCIsdGhpcy5zZXR0aW5ncyhcInhtbG5zXCIpKSxlLnNldEF0dHJpYnV0ZShcInhtbG5zOnhsaW5rXCIsXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIpLGUuc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLFwiMS4xXCIpO3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Zy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGYrXCItbWVhc3VyZW1lbnQtY2FudmFzXCIpLHRoaXMuZG9tRWxlbWVudHMuZ3JhcGg9dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZSk7dmFyIGg9W1wiZWRnZXNcIixcIm5vZGVzXCIsXCJsYWJlbHNcIixcImhvdmVyc1wiXTtmb3IoZD0wLGM9aC5sZW5ndGg7ZDxjO2QrKyliPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLnNldHRpbmdzKFwieG1sbnNcIiksXCJnXCIpLGIuc2V0QXR0cmlidXRlTlMobnVsbCxcImlkXCIsZitcIi1ncm91cC1cIitoW2RdKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLGYrXCItZ3JvdXBcIiksdGhpcy5kb21FbGVtZW50cy5ncm91cHNbaFtkXV09dGhpcy5kb21FbGVtZW50cy5ncmFwaC5hcHBlbmRDaGlsZChiKTt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChnKSx0aGlzLm1lYXN1cmVtZW50Q2FudmFzPWcuZ2V0Q29udGV4dChcIjJkXCIpfSxzaWdtYS5yZW5kZXJlcnMuc3ZnLnByb3RvdHlwZS5oaWRlRE9NRWxlbWVudHM9ZnVuY3Rpb24oYSl7dmFyIGIsYztmb3IoYyBpbiBhKWI9YVtjXSxzaWdtYS5zdmcudXRpbHMuaGlkZShiKTtyZXR1cm4gdGhpc30sc2lnbWEucmVuZGVyZXJzLnN2Zy5wcm90b3R5cGUuYmluZEhvdmVycz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWIuZGF0YS5ub2RlLGQ9Zy5zZXR0aW5ncy5lbWJlZE9iamVjdHMoe3ByZWZpeDphfSk7aWYoZChcImVuYWJsZUhvdmVyaW5nXCIpKXt2YXIgaD0oZltjLnR5cGVdfHxmLmRlZikuY3JlYXRlKGMsZy5kb21FbGVtZW50cy5ub2Rlc1tjLmlkXSxnLm1lYXN1cmVtZW50Q2FudmFzLGQpO2cuZG9tRWxlbWVudHMuaG92ZXJzW2MuaWRdPWgsZy5kb21FbGVtZW50cy5ncm91cHMuaG92ZXJzLmFwcGVuZENoaWxkKGgpLGU9Y319ZnVuY3Rpb24gYyhiKXt2YXIgYz1iLmRhdGEubm9kZTtnLnNldHRpbmdzLmVtYmVkT2JqZWN0cyh7cHJlZml4OmF9KShcImVuYWJsZUhvdmVyaW5nXCIpJiYoZy5kb21FbGVtZW50cy5ncm91cHMuaG92ZXJzLnJlbW92ZUNoaWxkKGcuZG9tRWxlbWVudHMuaG92ZXJzW2MuaWRdKSxlPW51bGwsZGVsZXRlIGcuZG9tRWxlbWVudHMuaG92ZXJzW2MuaWRdLGcuZG9tRWxlbWVudHMuZ3JvdXBzLm5vZGVzLmFwcGVuZENoaWxkKGcuZG9tRWxlbWVudHMubm9kZXNbYy5pZF0pKX1mdW5jdGlvbiBkKCl7aWYoZSl7dmFyIGI9Zy5zZXR0aW5ncy5lbWJlZE9iamVjdHMoe3ByZWZpeDphfSk7Zy5kb21FbGVtZW50cy5ncm91cHMuaG92ZXJzLnJlbW92ZUNoaWxkKGcuZG9tRWxlbWVudHMuaG92ZXJzW2UuaWRdKSxkZWxldGUgZy5kb21FbGVtZW50cy5ob3ZlcnNbZS5pZF07dmFyIGM9KGZbZS50eXBlXXx8Zi5kZWYpLmNyZWF0ZShlLGcuZG9tRWxlbWVudHMubm9kZXNbZS5pZF0sZy5tZWFzdXJlbWVudENhbnZhcyxiKTtnLmRvbUVsZW1lbnRzLmhvdmVyc1tlLmlkXT1jLGcuZG9tRWxlbWVudHMuZ3JvdXBzLmhvdmVycy5hcHBlbmRDaGlsZChjKX19dmFyIGUsZj1zaWdtYS5zdmcuaG92ZXJzLGc9dGhpczt0aGlzLmJpbmQoXCJvdmVyTm9kZVwiLGIpLHRoaXMuYmluZChcIm91dE5vZGVcIixjKSx0aGlzLmJpbmQoXCJyZW5kZXJcIixkKX0sc2lnbWEucmVuZGVyZXJzLnN2Zy5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy53aWR0aCxlPXRoaXMuaGVpZ2h0LGY9MTtyZXR1cm4gYiE9PWEmJmMhPT1hPyh0aGlzLndpZHRoPWIsdGhpcy5oZWlnaHQ9Yyk6KHRoaXMud2lkdGg9dGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LGI9dGhpcy53aWR0aCxjPXRoaXMuaGVpZ2h0KSxkPT09dGhpcy53aWR0aCYmZT09PXRoaXMuaGVpZ2h0fHwodGhpcy5kb21FbGVtZW50cy5ncmFwaC5zdHlsZS53aWR0aD1iK1wicHhcIix0aGlzLmRvbUVsZW1lbnRzLmdyYXBoLnN0eWxlLmhlaWdodD1jK1wicHhcIixcInN2Z1wiPT09dGhpcy5kb21FbGVtZW50cy5ncmFwaC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJih0aGlzLmRvbUVsZW1lbnRzLmdyYXBoLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYipmKSx0aGlzLmRvbUVsZW1lbnRzLmdyYXBoLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGMqZikpKSx0aGlzfSxzaWdtYS51dGlscy5wa2coXCJzaWdtYS5zdmcubm9kZXNcIiksc2lnbWEudXRpbHMucGtnKFwic2lnbWEuc3ZnLmVkZ2VzXCIpLHNpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnN2Zy5sYWJlbHNcIil9LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5yZW5kZXJlcnNcIik7dmFyIGIsYz0hIWEuV2ViR0xSZW5kZXJpbmdDb250ZXh0O2lmKGMpe2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt0cnl7Yz0hKCFiLmdldENvbnRleHQoXCJ3ZWJnbFwiKSYmIWIuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiKSl9Y2F0Y2goYSl7Yz0hMX19c2lnbWEucmVuZGVyZXJzLmRlZj1jP3NpZ21hLnJlbmRlcmVycy53ZWJnbDpzaWdtYS5yZW5kZXJlcnMuY2FudmFzfSh0aGlzKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLndlYmdsLm5vZGVzXCIpLHNpZ21hLndlYmdsLm5vZGVzLmRlZj17UE9JTlRTOjMsQVRUUklCVVRFUzo1LGFkZE5vZGU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1zaWdtYS51dGlscy5mbG9hdENvbG9yKGEuY29sb3J8fGUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpKTtiW2MrK109YVtkK1wieFwiXSxiW2MrK109YVtkK1wieVwiXSxiW2MrK109YVtkK1wic2l6ZVwiXSxiW2MrK109ZixiW2MrK109MCxiW2MrK109YVtkK1wieFwiXSxiW2MrK109YVtkK1wieVwiXSxiW2MrK109YVtkK1wic2l6ZVwiXSxiW2MrK109ZixiW2MrK109MipNYXRoLlBJLzMsYltjKytdPWFbZCtcInhcIl0sYltjKytdPWFbZCtcInlcIl0sYltjKytdPWFbZCtcInNpemVcIl0sYltjKytdPWYsYltjKytdPTQqTWF0aC5QSS8zfSxyZW5kZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX3Bvc2l0aW9uXCIpLGc9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9zaXplXCIpLGg9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9jb2xvclwiKSxpPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfYW5nbGVcIiksaj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9yZXNvbHV0aW9uXCIpLGs9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfbWF0cml4XCIpLGw9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfcmF0aW9cIiksbT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9zY2FsZVwiKTtlPWEuY3JlYXRlQnVmZmVyKCksYS5iaW5kQnVmZmVyKGEuQVJSQVlfQlVGRkVSLGUpLGEuYnVmZmVyRGF0YShhLkFSUkFZX0JVRkZFUixjLGEuRFlOQU1JQ19EUkFXKSxhLnVuaWZvcm0yZihqLGQud2lkdGgsZC5oZWlnaHQpLGEudW5pZm9ybTFmKGwsMS9NYXRoLnBvdyhkLnJhdGlvLGQuc2V0dGluZ3MoXCJub2Rlc1Bvd1JhdGlvXCIpKSksYS51bmlmb3JtMWYobSxkLnNjYWxpbmdSYXRpbyksYS51bmlmb3JtTWF0cml4M2Z2KGssITEsZC5tYXRyaXgpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZiksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShnKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGgpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaSksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGcsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsOCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMTIpLGEudmVydGV4QXR0cmliUG9pbnRlcihpLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDE2KSxhLmRyYXdBcnJheXMoYS5UUklBTkdMRVMsZC5zdGFydHx8MCxkLmNvdW50fHxjLmxlbmd0aC90aGlzLkFUVFJJQlVURVMpfSxpbml0UHJvZ3JhbTpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBiPXNpZ21hLnV0aWxzLmxvYWRTaGFkZXIoYSxbXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfc2l6ZTtcIixcImF0dHJpYnV0ZSBmbG9hdCBhX2NvbG9yO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfYW5nbGU7XCIsXCJ1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1wiLFwidW5pZm9ybSBmbG9hdCB1X3JhdGlvO1wiLFwidW5pZm9ybSBmbG9hdCB1X3NjYWxlO1wiLFwidW5pZm9ybSBtYXQzIHVfbWF0cml4O1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidmFyeWluZyB2ZWMyIGNlbnRlcjtcIixcInZhcnlpbmcgZmxvYXQgcmFkaXVzO1wiLFwidm9pZCBtYWluKCkge1wiLFwicmFkaXVzID0gYV9zaXplICogdV9yYXRpbztcIixcInZlYzIgcG9zaXRpb24gPSAodV9tYXRyaXggKiB2ZWMzKGFfcG9zaXRpb24sIDEpKS54eTtcIixcImNlbnRlciA9IHBvc2l0aW9uICogdV9zY2FsZTtcIixcImNlbnRlciA9IHZlYzIoY2VudGVyLngsIHVfc2NhbGUgKiB1X3Jlc29sdXRpb24ueSAtIGNlbnRlci55KTtcIixcInBvc2l0aW9uID0gcG9zaXRpb24gK1wiLFwiMi4wICogcmFkaXVzICogdmVjMihjb3MoYV9hbmdsZSksIHNpbihhX2FuZ2xlKSk7XCIsXCJwb3NpdGlvbiA9IChwb3NpdGlvbiAvIHVfcmVzb2x1dGlvbiAqIDIuMCAtIDEuMCkgKiB2ZWMyKDEsIC0xKTtcIixcInJhZGl1cyA9IHJhZGl1cyAqIHVfc2NhbGU7XCIsXCJnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAsIDEpO1wiLFwiZmxvYXQgYyA9IGFfY29sb3I7XCIsXCJjb2xvci5iID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5nID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5yID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IGNvbG9yIC89IDI1NS4wO1wiLFwiY29sb3IuYSA9IDEuMDtcIixcIn1cIl0uam9pbihcIlxcblwiKSxhLlZFUlRFWF9TSEFERVIpLGM9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidmFyeWluZyB2ZWMyIGNlbnRlcjtcIixcInZhcnlpbmcgZmxvYXQgcmFkaXVzO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcInZlYzQgY29sb3IwID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAwLjApO1wiLFwidmVjMiBtID0gZ2xfRnJhZ0Nvb3JkLnh5IC0gY2VudGVyO1wiLFwiZmxvYXQgZGlmZiA9IHJhZGl1cyAtIHNxcnQobS54ICogbS54ICsgbS55ICogbS55KTtcIixcImlmIChkaWZmID4gMC4wKVwiLFwiZ2xfRnJhZ0NvbG9yID0gY29sb3I7XCIsXCJlbHNlXCIsXCJnbF9GcmFnQ29sb3IgPSBjb2xvcjA7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksYS5GUkFHTUVOVF9TSEFERVIpLHNpZ21hLnV0aWxzLmxvYWRQcm9ncmFtKGEsW2IsY10pfX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS53ZWJnbC5ub2Rlc1wiKSxzaWdtYS53ZWJnbC5ub2Rlcy5mYXN0PXtQT0lOVFM6MSxBVFRSSUJVVEVTOjQsYWRkTm9kZTpmdW5jdGlvbihhLGIsYyxkLGUpe2JbYysrXT1hW2QrXCJ4XCJdLGJbYysrXT1hW2QrXCJ5XCJdLGJbYysrXT1hW2QrXCJzaXplXCJdLGJbYysrXT1zaWdtYS51dGlscy5mbG9hdENvbG9yKGEuY29sb3J8fGUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpKX0scmVuZGVyOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9wb3NpdGlvblwiKSxnPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfc2l6ZVwiKSxoPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfY29sb3JcIiksaT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9yZXNvbHV0aW9uXCIpLGo9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfbWF0cml4XCIpLGs9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfcmF0aW9cIiksbD1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9zY2FsZVwiKTtlPWEuY3JlYXRlQnVmZmVyKCksYS5iaW5kQnVmZmVyKGEuQVJSQVlfQlVGRkVSLGUpLGEuYnVmZmVyRGF0YShhLkFSUkFZX0JVRkZFUixjLGEuRFlOQU1JQ19EUkFXKSxhLnVuaWZvcm0yZihpLGQud2lkdGgsZC5oZWlnaHQpLGEudW5pZm9ybTFmKGssMS9NYXRoLnBvdyhkLnJhdGlvLGQuc2V0dGluZ3MoXCJub2Rlc1Bvd1JhdGlvXCIpKSksYS51bmlmb3JtMWYobCxkLnNjYWxpbmdSYXRpbyksYS51bmlmb3JtTWF0cml4M2Z2KGosITEsZC5tYXRyaXgpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZiksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShnKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGgpLGEudmVydGV4QXR0cmliUG9pbnRlcihmLDIsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDApLGEudmVydGV4QXR0cmliUG9pbnRlcihnLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDgpLGEudmVydGV4QXR0cmliUG9pbnRlcihoLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDEyKSxhLmRyYXdBcnJheXMoYS5QT0lOVFMsZC5zdGFydHx8MCxkLmNvdW50fHxjLmxlbmd0aC90aGlzLkFUVFJJQlVURVMpfSxpbml0UHJvZ3JhbTpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBiPXNpZ21hLnV0aWxzLmxvYWRTaGFkZXIoYSxbXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfc2l6ZTtcIixcImF0dHJpYnV0ZSBmbG9hdCBhX2NvbG9yO1wiLFwidW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcIixcInVuaWZvcm0gZmxvYXQgdV9yYXRpbztcIixcInVuaWZvcm0gZmxvYXQgdV9zY2FsZTtcIixcInVuaWZvcm0gbWF0MyB1X21hdHJpeDtcIixcInZhcnlpbmcgdmVjNCBjb2xvcjtcIixcInZvaWQgbWFpbigpIHtcIixcImdsX1Bvc2l0aW9uID0gdmVjNChcIixcIigodV9tYXRyaXggKiB2ZWMzKGFfcG9zaXRpb24sIDEpKS54eSAvXCIsXCJ1X3Jlc29sdXRpb24gKiAyLjAgLSAxLjApICogdmVjMigxLCAtMSksXCIsXCIwLFwiLFwiMVwiLFwiKTtcIixcImdsX1BvaW50U2l6ZSA9IGFfc2l6ZSAqIHVfcmF0aW8gKiB1X3NjYWxlICogMi4wO1wiLFwiZmxvYXQgYyA9IGFfY29sb3I7XCIsXCJjb2xvci5iID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5nID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5yID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IGNvbG9yIC89IDI1NS4wO1wiLFwiY29sb3IuYSA9IDEuMDtcIixcIn1cIl0uam9pbihcIlxcblwiKSxhLlZFUlRFWF9TSEFERVIpLGM9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcImZsb2F0IGJvcmRlciA9IDAuMDE7XCIsXCJmbG9hdCByYWRpdXMgPSAwLjU7XCIsXCJ2ZWM0IGNvbG9yMCA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKTtcIixcInZlYzIgbSA9IGdsX1BvaW50Q29vcmQgLSB2ZWMyKDAuNSwgMC41KTtcIixcImZsb2F0IGRpc3QgPSByYWRpdXMgLSBzcXJ0KG0ueCAqIG0ueCArIG0ueSAqIG0ueSk7XCIsXCJmbG9hdCB0ID0gMC4wO1wiLFwiaWYgKGRpc3QgPiBib3JkZXIpXCIsXCJ0ID0gMS4wO1wiLFwiZWxzZSBpZiAoZGlzdCA+IDAuMClcIixcInQgPSBkaXN0IC8gYm9yZGVyO1wiLFwiZ2xfRnJhZ0NvbG9yID0gbWl4KGNvbG9yMCwgY29sb3IsIHQpO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGEuRlJBR01FTlRfU0hBREVSKSxzaWdtYS51dGlscy5sb2FkUHJvZ3JhbShhLFtiLGNdKX19fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEud2ViZ2wuZWRnZXNcIiksc2lnbWEud2ViZ2wuZWRnZXMuZGVmPXtQT0lOVFM6NixBVFRSSUJVVEVTOjcsYWRkRWRnZTpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0oYVtmK1wic2l6ZVwiXXx8MSkvMixpPWJbZitcInhcIl0saj1iW2YrXCJ5XCJdLGs9Y1tmK1wieFwiXSxsPWNbZitcInlcIl0sbT1hLmNvbG9yO2lmKCFtKXN3aXRjaChnKFwiZWRnZUNvbG9yXCIpKXtjYXNlXCJzb3VyY2VcIjptPWIuY29sb3J8fGcoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpO2JyZWFrO2Nhc2VcInRhcmdldFwiOm09Yy5jb2xvcnx8ZyhcImRlZmF1bHROb2RlQ29sb3JcIik7YnJlYWs7ZGVmYXVsdDptPWcoXCJkZWZhdWx0RWRnZUNvbG9yXCIpfW09c2lnbWEudXRpbHMuZmxvYXRDb2xvcihtKSxkW2UrK109aSxkW2UrK109aixkW2UrK109ayxkW2UrK109bCxkW2UrK109aCxkW2UrK109MCxkW2UrK109bSxkW2UrK109ayxkW2UrK109bCxkW2UrK109aSxkW2UrK109aixkW2UrK109aCxkW2UrK109MSxkW2UrK109bSxkW2UrK109ayxkW2UrK109bCxkW2UrK109aSxkW2UrK109aixkW2UrK109aCxkW2UrK109MCxkW2UrK109bSxkW2UrK109ayxkW2UrK109bCxkW2UrK109aSxkW2UrK109aixkW2UrK109aCxkW2UrK109MCxkW2UrK109bSxkW2UrK109aSxkW2UrK109aixkW2UrK109ayxkW2UrK109bCxkW2UrK109aCxkW2UrK109MSxkW2UrK109bSxkW2UrK109aSxkW2UrK109aixkW2UrK109ayxkW2UrK109bCxkW2UrK109aCxkW2UrK109MCxkW2UrK109bX0scmVuZGVyOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9jb2xvclwiKSxnPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfcG9zaXRpb24xXCIpLGg9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9wb3NpdGlvbjJcIiksaT1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX3RoaWNrbmVzc1wiKSxqPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfbWludXNcIiksaz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9yZXNvbHV0aW9uXCIpLGw9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfbWF0cml4XCIpLG09YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfbWF0cml4SGFsZlBpXCIpLG49YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfbWF0cml4SGFsZlBpTWludXNcIiksbz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9yYXRpb1wiKSxwPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X3NjYWxlXCIpO2U9YS5jcmVhdGVCdWZmZXIoKSxhLmJpbmRCdWZmZXIoYS5BUlJBWV9CVUZGRVIsZSksYS5idWZmZXJEYXRhKGEuQVJSQVlfQlVGRkVSLGMsYS5TVEFUSUNfRFJBVyksYS51bmlmb3JtMmYoayxkLndpZHRoLGQuaGVpZ2h0KSxhLnVuaWZvcm0xZihvLGQucmF0aW8vTWF0aC5wb3coZC5yYXRpbyxkLnNldHRpbmdzKFwiZWRnZXNQb3dSYXRpb1wiKSkpLGEudW5pZm9ybTFmKHAsZC5zY2FsaW5nUmF0aW8pLGEudW5pZm9ybU1hdHJpeDNmdihsLCExLGQubWF0cml4KSxhLnVuaWZvcm1NYXRyaXgyZnYobSwhMSxzaWdtYS51dGlscy5tYXRyaWNlcy5yb3RhdGlvbihNYXRoLlBJLzIsITApKSxhLnVuaWZvcm1NYXRyaXgyZnYobiwhMSxzaWdtYS51dGlscy5tYXRyaWNlcy5yb3RhdGlvbigtTWF0aC5QSS8yLCEwKSksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGcpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaCksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGopLGEudmVydGV4QXR0cmliUG9pbnRlcihnLDIsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDApLGEudmVydGV4QXR0cmliUG9pbnRlcihoLDIsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDgpLGEudmVydGV4QXR0cmliUG9pbnRlcihpLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDE2KSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoaiwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwyMCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMjQpLGEuZHJhd0FycmF5cyhhLlRSSUFOR0xFUyxkLnN0YXJ0fHwwLGQuY291bnR8fGMubGVuZ3RoL3RoaXMuQVRUUklCVVRFUyl9LGluaXRQcm9ncmFtOmZ1bmN0aW9uKGEpe3ZhciBiLGM7cmV0dXJuIGI9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb24xO1wiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjI7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV90aGlja25lc3M7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV9taW51cztcIixcImF0dHJpYnV0ZSBmbG9hdCBhX2NvbG9yO1wiLFwidW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcIixcInVuaWZvcm0gZmxvYXQgdV9yYXRpbztcIixcInVuaWZvcm0gZmxvYXQgdV9zY2FsZTtcIixcInVuaWZvcm0gbWF0MyB1X21hdHJpeDtcIixcInVuaWZvcm0gbWF0MiB1X21hdHJpeEhhbGZQaTtcIixcInVuaWZvcm0gbWF0MiB1X21hdHJpeEhhbGZQaU1pbnVzO1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidm9pZCBtYWluKCkge1wiLFwidmVjMiBwb3NpdGlvbiA9IGFfdGhpY2tuZXNzICogdV9yYXRpbyAqXCIsXCJub3JtYWxpemUoYV9wb3NpdGlvbjIgLSBhX3Bvc2l0aW9uMSk7XCIsXCJtYXQyIG1hdHJpeCA9IGFfbWludXMgKiB1X21hdHJpeEhhbGZQaU1pbnVzICtcIixcIigxLjAgLSBhX21pbnVzKSAqIHVfbWF0cml4SGFsZlBpO1wiLFwicG9zaXRpb24gPSBtYXRyaXggKiBwb3NpdGlvbiArIGFfcG9zaXRpb24xO1wiLFwiZ2xfUG9zaXRpb24gPSB2ZWM0KFwiLFwiKCh1X21hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEpKS54eSAvXCIsXCJ1X3Jlc29sdXRpb24gKiAyLjAgLSAxLjApICogdmVjMigxLCAtMSksXCIsXCIwLFwiLFwiMVwiLFwiKTtcIixcImZsb2F0IGMgPSBhX2NvbG9yO1wiLFwiY29sb3IuYiA9IG1vZChjLCAyNTYuMCk7IGMgPSBmbG9vcihjIC8gMjU2LjApO1wiLFwiY29sb3IuZyA9IG1vZChjLCAyNTYuMCk7IGMgPSBmbG9vcihjIC8gMjU2LjApO1wiLFwiY29sb3IuciA9IG1vZChjLCAyNTYuMCk7IGMgPSBmbG9vcihjIC8gMjU2LjApOyBjb2xvciAvPSAyNTUuMDtcIixcImNvbG9yLmEgPSAxLjA7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksYS5WRVJURVhfU0hBREVSKSxjPXNpZ21hLnV0aWxzLmxvYWRTaGFkZXIoYSxbXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcInZhcnlpbmcgdmVjNCBjb2xvcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCJnbF9GcmFnQ29sb3IgPSBjb2xvcjtcIixcIn1cIl0uam9pbihcIlxcblwiKSxhLkZSQUdNRU5UX1NIQURFUiksc2lnbWEudXRpbHMubG9hZFByb2dyYW0oYSxbYixjXSl9fX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLndlYmdsLmVkZ2VzXCIpLHNpZ21hLndlYmdsLmVkZ2VzLmZhc3Q9e1BPSU5UUzoyLEFUVFJJQlVURVM6MyxhZGRFZGdlOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPShhW2YrXCJzaXplXCJdLGJbZitcInhcIl0pLGk9YltmK1wieVwiXSxqPWNbZitcInhcIl0saz1jW2YrXCJ5XCJdLGw9YS5jb2xvcjtpZighbClzd2l0Y2goZyhcImVkZ2VDb2xvclwiKSl7Y2FzZVwic291cmNlXCI6bD1iLmNvbG9yfHxnKFwiZGVmYXVsdE5vZGVDb2xvclwiKTticmVhaztjYXNlXCJ0YXJnZXRcIjpsPWMuY29sb3J8fGcoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpO2JyZWFrO2RlZmF1bHQ6bD1nKFwiZGVmYXVsdEVkZ2VDb2xvclwiKX1sPXNpZ21hLnV0aWxzLmZsb2F0Q29sb3IobCksZFtlKytdPWgsZFtlKytdPWksZFtlKytdPWwsZFtlKytdPWosZFtlKytdPWssZFtlKytdPWx9LHJlbmRlcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfY29sb3JcIiksZz1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX3Bvc2l0aW9uXCIpLGg9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfcmVzb2x1dGlvblwiKSxpPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X21hdHJpeFwiKTtlPWEuY3JlYXRlQnVmZmVyKCksYS5iaW5kQnVmZmVyKGEuQVJSQVlfQlVGRkVSLGUpLGEuYnVmZmVyRGF0YShhLkFSUkFZX0JVRkZFUixjLGEuRFlOQU1JQ19EUkFXKSxhLnVuaWZvcm0yZihoLGQud2lkdGgsZC5oZWlnaHQpLGEudW5pZm9ybU1hdHJpeDNmdihpLCExLGQubWF0cml4KSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGcpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZiksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGcsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsOCksYS5saW5lV2lkdGgoMyksYS5kcmF3QXJyYXlzKGEuTElORVMsZC5zdGFydHx8MCxkLmNvdW50fHxjLmxlbmd0aC90aGlzLkFUVFJJQlVURVMpfSxpbml0UHJvZ3JhbTpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBiPXNpZ21hLnV0aWxzLmxvYWRTaGFkZXIoYSxbXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfY29sb3I7XCIsXCJ1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1wiLFwidW5pZm9ybSBtYXQzIHVfbWF0cml4O1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidm9pZCBtYWluKCkge1wiLFwiZ2xfUG9zaXRpb24gPSB2ZWM0KFwiLFwiKCh1X21hdHJpeCAqIHZlYzMoYV9wb3NpdGlvbiwgMSkpLnh5IC9cIixcInVfcmVzb2x1dGlvbiAqIDIuMCAtIDEuMCkgKiB2ZWMyKDEsIC0xKSxcIixcIjAsXCIsXCIxXCIsXCIpO1wiLFwiZmxvYXQgYyA9IGFfY29sb3I7XCIsXCJjb2xvci5iID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5nID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5yID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IGNvbG9yIC89IDI1NS4wO1wiLFwiY29sb3IuYSA9IDEuMDtcIixcIn1cIl0uam9pbihcIlxcblwiKSxhLlZFUlRFWF9TSEFERVIpLGM9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcImdsX0ZyYWdDb2xvciA9IGNvbG9yO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGEuRlJBR01FTlRfU0hBREVSKSxzaWdtYS51dGlscy5sb2FkUHJvZ3JhbShhLFtiLGNdKX19fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEud2ViZ2wuZWRnZXNcIiksc2lnbWEud2ViZ2wuZWRnZXMuYXJyb3c9e1BPSU5UUzo5LEFUVFJJQlVURVM6MTEsYWRkRWRnZTpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0oYVtmK1wic2l6ZVwiXXx8MSkvMixpPWJbZitcInhcIl0saj1iW2YrXCJ5XCJdLGs9Y1tmK1wieFwiXSxsPWNbZitcInlcIl0sbT1jW2YrXCJzaXplXCJdLG49YS5jb2xvcjtpZighbilzd2l0Y2goZyhcImVkZ2VDb2xvclwiKSl7Y2FzZVwic291cmNlXCI6bj1iLmNvbG9yfHxnKFwiZGVmYXVsdE5vZGVDb2xvclwiKTticmVhaztjYXNlXCJ0YXJnZXRcIjpuPWMuY29sb3J8fGcoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpO2JyZWFrO2RlZmF1bHQ6bj1nKFwiZGVmYXVsdEVkZ2VDb2xvclwiKX1uPXNpZ21hLnV0aWxzLmZsb2F0Q29sb3IobiksZFtlKytdPWksZFtlKytdPWosZFtlKytdPWssZFtlKytdPWwsZFtlKytdPWgsZFtlKytdPW0sZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPW4sZFtlKytdPWssZFtlKytdPWwsZFtlKytdPWksZFtlKytdPWosZFtlKytdPWgsZFtlKytdPW0sZFtlKytdPTEsZFtlKytdPTEsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPW4sZFtlKytdPWssZFtlKytdPWwsZFtlKytdPWksZFtlKytdPWosZFtlKytdPWgsZFtlKytdPW0sZFtlKytdPTEsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPW4sZFtlKytdPWssZFtlKytdPWwsZFtlKytdPWksZFtlKytdPWosZFtlKytdPWgsZFtlKytdPW0sZFtlKytdPTEsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPW4sZFtlKytdPWksZFtlKytdPWosZFtlKytdPWssZFtlKytdPWwsZFtlKytdPWgsZFtlKytdPW0sZFtlKytdPTAsZFtlKytdPTEsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPW4sZFtlKytdPWksZFtlKytdPWosZFtlKytdPWssZFtlKytdPWwsZFtlKytdPWgsZFtlKytdPW0sZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPTAsZFtlKytdPW4sZFtlKytdPWssZFtlKytdPWwsZFtlKytdPWksZFtlKytdPWosZFtlKytdPWgsZFtlKytdPW0sZFtlKytdPTEsZFtlKytdPTAsZFtlKytdPTEsZFtlKytdPS0xLGRbZSsrXT1uLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT1tLGRbZSsrXT0xLGRbZSsrXT0wLGRbZSsrXT0xLGRbZSsrXT0wLGRbZSsrXT1uLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT1tLGRbZSsrXT0xLGRbZSsrXT0wLGRbZSsrXT0xLGRbZSsrXT0xLGRbZSsrXT1ufSxyZW5kZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX3BvczFcIiksZz1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX3BvczJcIiksaD1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX3RoaWNrbmVzc1wiKSxpPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfdFNpemVcIiksaj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhX2RlbGF5XCIpLGs9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9taW51c1wiKSxsPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfaGVhZFwiKSxtPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFfaGVhZFBvc2l0aW9uXCIpLG49YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYV9jb2xvclwiKSxvPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X3Jlc29sdXRpb25cIikscD1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9tYXRyaXhcIikscT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9tYXRyaXhIYWxmUGlcIikscj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidV9tYXRyaXhIYWxmUGlNaW51c1wiKSxzPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1X3JhdGlvXCIpLHQ9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfbm9kZVJhdGlvXCIpLHU9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfYXJyb3dIZWFkXCIpLHY9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVfc2NhbGVcIik7ZT1hLmNyZWF0ZUJ1ZmZlcigpLGEuYmluZEJ1ZmZlcihhLkFSUkFZX0JVRkZFUixlKSxhLmJ1ZmZlckRhdGEoYS5BUlJBWV9CVUZGRVIsYyxhLlNUQVRJQ19EUkFXKSxhLnVuaWZvcm0yZihvLGQud2lkdGgsZC5oZWlnaHQpLGEudW5pZm9ybTFmKHMsZC5yYXRpby9NYXRoLnBvdyhkLnJhdGlvLGQuc2V0dGluZ3MoXCJlZGdlc1Bvd1JhdGlvXCIpKSksYS51bmlmb3JtMWYodCxNYXRoLnBvdyhkLnJhdGlvLGQuc2V0dGluZ3MoXCJub2Rlc1Bvd1JhdGlvXCIpKS9kLnJhdGlvKSxhLnVuaWZvcm0xZih1LDUpLGEudW5pZm9ybTFmKHYsZC5zY2FsaW5nUmF0aW8pLGEudW5pZm9ybU1hdHJpeDNmdihwLCExLGQubWF0cml4KSxhLnVuaWZvcm1NYXRyaXgyZnYocSwhMSxzaWdtYS51dGlscy5tYXRyaWNlcy5yb3RhdGlvbihNYXRoLlBJLzIsITApKSxhLnVuaWZvcm1NYXRyaXgyZnYociwhMSxzaWdtYS51dGlscy5tYXRyaWNlcy5yb3RhdGlvbigtTWF0aC5QSS8yLCEwKSksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGcpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaCksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGopLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoayksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG0pLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobiksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGcsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsOCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMTYpLGEudmVydGV4QXR0cmliUG9pbnRlcihpLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDIwKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoaiwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwyNCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGssMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMjgpLGEudmVydGV4QXR0cmliUG9pbnRlcihsLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDMyKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIobSwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwzNiksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKG4sMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsNDApLGEuZHJhd0FycmF5cyhhLlRSSUFOR0xFUyxkLnN0YXJ0fHwwLGQuY291bnR8fGMubGVuZ3RoL3RoaXMuQVRUUklCVVRFUyl9LGluaXRQcm9ncmFtOmZ1bmN0aW9uKGEpe3ZhciBiLGM7cmV0dXJuIGI9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zMTtcIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zMjtcIixcImF0dHJpYnV0ZSBmbG9hdCBhX3RoaWNrbmVzcztcIixcImF0dHJpYnV0ZSBmbG9hdCBhX3RTaXplO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFfZGVsYXk7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV9taW51cztcIixcImF0dHJpYnV0ZSBmbG9hdCBhX2hlYWQ7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV9oZWFkUG9zaXRpb247XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYV9jb2xvcjtcIixcInVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XCIsXCJ1bmlmb3JtIGZsb2F0IHVfcmF0aW87XCIsXCJ1bmlmb3JtIGZsb2F0IHVfbm9kZVJhdGlvO1wiLFwidW5pZm9ybSBmbG9hdCB1X2Fycm93SGVhZDtcIixcInVuaWZvcm0gZmxvYXQgdV9zY2FsZTtcIixcInVuaWZvcm0gbWF0MyB1X21hdHJpeDtcIixcInVuaWZvcm0gbWF0MiB1X21hdHJpeEhhbGZQaTtcIixcInVuaWZvcm0gbWF0MiB1X21hdHJpeEhhbGZQaU1pbnVzO1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidm9pZCBtYWluKCkge1wiLFwidmVjMiBwb3MgPSBub3JtYWxpemUoYV9wb3MyIC0gYV9wb3MxKTtcIixcIm1hdDIgbWF0cml4ID0gKDEuMCAtIGFfaGVhZCkgKlwiLFwiKFwiLFwiYV9taW51cyAqIHVfbWF0cml4SGFsZlBpTWludXMgK1wiLFwiKDEuMCAtIGFfbWludXMpICogdV9tYXRyaXhIYWxmUGlcIixcIikgKyBhX2hlYWQgKiAoXCIsXCJhX2hlYWRQb3NpdGlvbiAqIHVfbWF0cml4SGFsZlBpTWludXMgKiAwLjYgK1wiLFwiKGFfaGVhZFBvc2l0aW9uICogYV9oZWFkUG9zaXRpb24gLSAxLjApICogbWF0MigxLjApXCIsXCIpO1wiLFwicG9zID0gYV9wb3MxICsgKFwiLFwiKDEuMCAtIGFfaGVhZCkgKiBhX3RoaWNrbmVzcyAqIHVfcmF0aW8gKiBtYXRyaXggKiBwb3MgK1wiLFwiYV9oZWFkICogdV9hcnJvd0hlYWQgKiBhX3RoaWNrbmVzcyAqIHVfcmF0aW8gKiBtYXRyaXggKiBwb3MgK1wiLFwiYV9kZWxheSAqIHBvcyAqIChcIixcImFfdFNpemUgLyB1X25vZGVSYXRpbyArXCIsXCJ1X2Fycm93SGVhZCAqIGFfdGhpY2tuZXNzICogdV9yYXRpb1wiLFwiKVwiLFwiKTtcIixcImdsX1Bvc2l0aW9uID0gdmVjNChcIixcIigodV9tYXRyaXggKiB2ZWMzKHBvcywgMSkpLnh5IC9cIixcInVfcmVzb2x1dGlvbiAqIDIuMCAtIDEuMCkgKiB2ZWMyKDEsIC0xKSxcIixcIjAsXCIsXCIxXCIsXCIpO1wiLFwiZmxvYXQgYyA9IGFfY29sb3I7XCIsXCJjb2xvci5iID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5nID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7XCIsXCJjb2xvci5yID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IGNvbG9yIC89IDI1NS4wO1wiLFwiY29sb3IuYSA9IDEuMDtcIixcIn1cIl0uam9pbihcIlxcblwiKSxhLlZFUlRFWF9TSEFERVIpLGM9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWM0IGNvbG9yO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcImdsX0ZyYWdDb2xvciA9IGNvbG9yO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGEuRlJBR01FTlRfU0hBREVSKSxzaWdtYS51dGlscy5sb2FkUHJvZ3JhbShhLFtiLGNdKX19fSgpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmxhYmVsc1wiKSxzaWdtYS5jYW52YXMubGFiZWxzLmRlZj1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZT1jKFwicHJlZml4XCIpfHxcIlwiLGY9YVtlK1wic2l6ZVwiXTtmPGMoXCJsYWJlbFRocmVzaG9sZFwiKXx8YS5sYWJlbCYmXCJzdHJpbmdcIj09dHlwZW9mIGEubGFiZWwmJihkPVwiZml4ZWRcIj09PWMoXCJsYWJlbFNpemVcIik/YyhcImRlZmF1bHRMYWJlbFNpemVcIik6YyhcImxhYmVsU2l6ZVJhdGlvXCIpKmYsYi5mb250PShjKFwiZm9udFN0eWxlXCIpP2MoXCJmb250U3R5bGVcIikrXCIgXCI6XCJcIikrZCtcInB4IFwiK2MoXCJmb250XCIpLGIuZmlsbFN0eWxlPVwibm9kZVwiPT09YyhcImxhYmVsQ29sb3JcIik/YS5jb2xvcnx8YyhcImRlZmF1bHROb2RlQ29sb3JcIik6YyhcImRlZmF1bHRMYWJlbENvbG9yXCIpLGIuZmlsbFRleHQoYS5sYWJlbCxNYXRoLnJvdW5kKGFbZStcInhcIl0rZiszKSxNYXRoLnJvdW5kKGFbZStcInlcIl0rZC8zKSkpfX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5ob3ZlcnNcIiksc2lnbWEuY2FudmFzLmhvdmVycy5kZWY9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1jKFwiaG92ZXJGb250U3R5bGVcIil8fGMoXCJmb250U3R5bGVcIiksaj1jKFwicHJlZml4XCIpfHxcIlwiLGs9YVtqK1wic2l6ZVwiXSxsPVwiZml4ZWRcIj09PWMoXCJsYWJlbFNpemVcIik/YyhcImRlZmF1bHRMYWJlbFNpemVcIik6YyhcImxhYmVsU2l6ZVJhdGlvXCIpKms7Yi5mb250PShpP2krXCIgXCI6XCJcIikrbCtcInB4IFwiKyhjKFwiaG92ZXJGb250XCIpfHxjKFwiZm9udFwiKSksYi5iZWdpblBhdGgoKSxiLmZpbGxTdHlsZT1cIm5vZGVcIj09PWMoXCJsYWJlbEhvdmVyQkdDb2xvclwiKT9hLmNvbG9yfHxjKFwiZGVmYXVsdE5vZGVDb2xvclwiKTpjKFwiZGVmYXVsdEhvdmVyTGFiZWxCR0NvbG9yXCIpLGEubGFiZWwmJmMoXCJsYWJlbEhvdmVyU2hhZG93XCIpJiYoYi5zaGFkb3dPZmZzZXRYPTAsYi5zaGFkb3dPZmZzZXRZPTAsYi5zaGFkb3dCbHVyPTgsYi5zaGFkb3dDb2xvcj1jKFwibGFiZWxIb3ZlclNoYWRvd0NvbG9yXCIpKSxhLmxhYmVsJiZcInN0cmluZ1wiPT10eXBlb2YgYS5sYWJlbCYmKGQ9TWF0aC5yb3VuZChhW2orXCJ4XCJdLWwvMi0yKSxlPU1hdGgucm91bmQoYVtqK1wieVwiXS1sLzItMiksZj1NYXRoLnJvdW5kKGIubWVhc3VyZVRleHQoYS5sYWJlbCkud2lkdGgrbC8yK2srNyksZz1NYXRoLnJvdW5kKGwrNCksaD1NYXRoLnJvdW5kKGwvMisyKSxiLm1vdmVUbyhkLGUraCksYi5hcmNUbyhkLGUsZCtoLGUsaCksYi5saW5lVG8oZCtmLGUpLGIubGluZVRvKGQrZixlK2cpLGIubGluZVRvKGQraCxlK2cpLGIuYXJjVG8oZCxlK2csZCxlK2ctaCxoKSxiLmxpbmVUbyhkLGUraCksYi5jbG9zZVBhdGgoKSxiLmZpbGwoKSxiLnNoYWRvd09mZnNldFg9MCxiLnNoYWRvd09mZnNldFk9MCxiLnNoYWRvd0JsdXI9MCksYyhcImJvcmRlclNpemVcIik+MCYmKGIuYmVnaW5QYXRoKCksYi5maWxsU3R5bGU9XCJub2RlXCI9PT1jKFwibm9kZUJvcmRlckNvbG9yXCIpP2EuY29sb3J8fGMoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpOmMoXCJkZWZhdWx0Tm9kZUJvcmRlckNvbG9yXCIpLGIuYXJjKGFbaitcInhcIl0sYVtqK1wieVwiXSxrK2MoXCJib3JkZXJTaXplXCIpLDAsMipNYXRoLlBJLCEwKSxiLmNsb3NlUGF0aCgpLGIuZmlsbCgpKSwoc2lnbWEuY2FudmFzLm5vZGVzW2EudHlwZV18fHNpZ21hLmNhbnZhcy5ub2Rlcy5kZWYpKGEsYixjKSxhLmxhYmVsJiZcInN0cmluZ1wiPT10eXBlb2YgYS5sYWJlbCYmKGIuZmlsbFN0eWxlPVwibm9kZVwiPT09YyhcImxhYmVsSG92ZXJDb2xvclwiKT9hLmNvbG9yfHxjKFwiZGVmYXVsdE5vZGVDb2xvclwiKTpjKFwiZGVmYXVsdExhYmVsSG92ZXJDb2xvclwiKSxiLmZpbGxUZXh0KGEubGFiZWwsTWF0aC5yb3VuZChhW2orXCJ4XCJdK2srMyksTWF0aC5yb3VuZChhW2orXCJ5XCJdK2wvMykpKX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMubm9kZXNcIiksc2lnbWEuY2FudmFzLm5vZGVzLmRlZj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YyhcInByZWZpeFwiKXx8XCJcIjtiLmZpbGxTdHlsZT1hLmNvbG9yfHxjKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxiLmJlZ2luUGF0aCgpLGIuYXJjKGFbZCtcInhcIl0sYVtkK1wieVwiXSxhW2QrXCJzaXplXCJdLDAsMipNYXRoLlBJLCEwKSxiLmNsb3NlUGF0aCgpLGIuZmlsbCgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlc1wiKSxzaWdtYS5jYW52YXMuZWRnZXMuZGVmPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5jb2xvcixnPWUoXCJwcmVmaXhcIil8fFwiXCIsaD1hW2crXCJzaXplXCJdfHwxLGk9ZShcImVkZ2VDb2xvclwiKSxqPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGs9ZShcImRlZmF1bHRFZGdlQ29sb3JcIik7aWYoIWYpc3dpdGNoKGkpe2Nhc2VcInNvdXJjZVwiOmY9Yi5jb2xvcnx8ajticmVhaztjYXNlXCJ0YXJnZXRcIjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9ZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWgsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhiW2crXCJ4XCJdLGJbZytcInlcIl0pLGQubGluZVRvKGNbZytcInhcIl0sY1tnK1wieVwiXSksZC5zdHJva2UoKX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZXNcIiksc2lnbWEuY2FudmFzLmVkZ2VzLmFycm93PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5jb2xvcixnPWUoXCJwcmVmaXhcIil8fFwiXCIsaD1lKFwiZWRnZUNvbG9yXCIpLGk9ZShcImRlZmF1bHROb2RlQ29sb3JcIiksaj1lKFwiZGVmYXVsdEVkZ2VDb2xvclwiKSxrPWFbZytcInNpemVcIl18fDEsbD1jW2crXCJzaXplXCJdLG09YltnK1wieFwiXSxuPWJbZytcInlcIl0sbz1jW2crXCJ4XCJdLHA9Y1tnK1wieVwiXSxxPU1hdGgubWF4KDIuNSprLGUoXCJtaW5BcnJvd1NpemVcIikpLHI9TWF0aC5zcXJ0KE1hdGgucG93KG8tbSwyKStNYXRoLnBvdyhwLW4sMikpLHM9bSsoby1tKSooci1xLWwpL3IsdD1uKyhwLW4pKihyLXEtbCkvcix1PShvLW0pKnEvcix2PShwLW4pKnEvcjtpZighZilzd2l0Y2goaCl7Y2FzZVwic291cmNlXCI6Zj1iLmNvbG9yfHxpO2JyZWFrO2Nhc2VcInRhcmdldFwiOmY9Yy5jb2xvcnx8aTticmVhaztkZWZhdWx0OmY9an1kLnN0cm9rZVN0eWxlPWYsZC5saW5lV2lkdGg9ayxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKG0sbiksZC5saW5lVG8ocyx0KSxkLnN0cm9rZSgpLGQuZmlsbFN0eWxlPWYsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhzK3UsdCt2KSxkLmxpbmVUbyhzKy42KnYsdC0uNip1KSxkLmxpbmVUbyhzLS42KnYsdCsuNip1KSxkLmxpbmVUbyhzK3UsdCt2KSxkLmNsb3NlUGF0aCgpLGQuZmlsbCgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzXCIpLHNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzLmRlZj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuY29sb3IsZz1lKFwicHJlZml4XCIpfHxcIlwiLGg9YVtnK1wic2l6ZVwiXXx8MSxpPWUoXCJlZGdlQ29sb3JcIiksaj1lKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxrPWUoXCJkZWZhdWx0RWRnZUNvbG9yXCIpO2lmKCFmKXN3aXRjaChpKXtjYXNlXCJzb3VyY2VcIjpmPWIuY29sb3J8fGo7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6Zj1jLmNvbG9yfHxqO2JyZWFrO2RlZmF1bHQ6Zj1rfWY9XCJlZGdlXCI9PT1lKFwiZWRnZUhvdmVyQ29sb3JcIik/YS5ob3Zlcl9jb2xvcnx8ZjphLmhvdmVyX2NvbG9yfHxlKFwiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yXCIpfHxmLGgqPWUoXCJlZGdlSG92ZXJTaXplUmF0aW9cIiksZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWgsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhiW2crXCJ4XCJdLGJbZytcInlcIl0pLGQubGluZVRvKGNbZytcInhcIl0sY1tnK1wieVwiXSksZC5zdHJva2UoKX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZWhvdmVyc1wiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5jdXJ2ZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuY29sb3IsZz1lKFwicHJlZml4XCIpfHxcIlwiLGg9ZShcImVkZ2VIb3ZlclNpemVSYXRpb1wiKSooYVtnK1wic2l6ZVwiXXx8MSksaT1lKFwiZWRnZUNvbG9yXCIpLGo9ZShcImRlZmF1bHROb2RlQ29sb3JcIiksaz1lKFwiZGVmYXVsdEVkZ2VDb2xvclwiKSxsPXt9LG09YltnK1wic2l6ZVwiXSxuPWJbZytcInhcIl0sbz1iW2crXCJ5XCJdLHA9Y1tnK1wieFwiXSxxPWNbZytcInlcIl07aWYobD1iLmlkPT09Yy5pZD9zaWdtYS51dGlscy5nZXRTZWxmTG9vcENvbnRyb2xQb2ludHMobixvLG0pOnNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludChuLG8scCxxKSwhZilzd2l0Y2goaSl7Y2FzZVwic291cmNlXCI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2VcInRhcmdldFwiOmY9Yy5jb2xvcnx8ajticmVhaztkZWZhdWx0OmY9a31mPVwiZWRnZVwiPT09ZShcImVkZ2VIb3ZlckNvbG9yXCIpP2EuaG92ZXJfY29sb3J8fGY6YS5ob3Zlcl9jb2xvcnx8ZShcImRlZmF1bHRFZGdlSG92ZXJDb2xvclwiKXx8ZixkLnN0cm9rZVN0eWxlPWYsZC5saW5lV2lkdGg9aCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKG4sbyksYi5pZD09PWMuaWQ/ZC5iZXppZXJDdXJ2ZVRvKGwueDEsbC55MSxsLngyLGwueTIscCxxKTpkLnF1YWRyYXRpY0N1cnZlVG8obC54LGwueSxwLHEpLGQuc3Ryb2tlKCl9fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnNcIiksc2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMuYXJyb3c9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmNvbG9yLGc9ZShcInByZWZpeFwiKXx8XCJcIixoPWUoXCJlZGdlQ29sb3JcIiksaT1lKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxqPWUoXCJkZWZhdWx0RWRnZUNvbG9yXCIpLGs9YVtnK1wic2l6ZVwiXXx8MSxsPWNbZytcInNpemVcIl0sbT1iW2crXCJ4XCJdLG49YltnK1wieVwiXSxvPWNbZytcInhcIl0scD1jW2crXCJ5XCJdO2s9YS5ob3Zlcj9lKFwiZWRnZUhvdmVyU2l6ZVJhdGlvXCIpKms6azt2YXIgcT0yLjUqayxyPU1hdGguc3FydChNYXRoLnBvdyhvLW0sMikrTWF0aC5wb3cocC1uLDIpKSxzPW0rKG8tbSkqKHItcS1sKS9yLHQ9bisocC1uKSooci1xLWwpL3IsdT0oby1tKSpxL3Isdj0ocC1uKSpxL3I7aWYoIWYpc3dpdGNoKGgpe2Nhc2VcInNvdXJjZVwiOmY9Yi5jb2xvcnx8aTticmVhaztjYXNlXCJ0YXJnZXRcIjpmPWMuY29sb3J8fGk7YnJlYWs7ZGVmYXVsdDpmPWp9Zj1cImVkZ2VcIj09PWUoXCJlZGdlSG92ZXJDb2xvclwiKT9hLmhvdmVyX2NvbG9yfHxmOmEuaG92ZXJfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUhvdmVyQ29sb3JcIil8fGYsZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWssZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhtLG4pLGQubGluZVRvKHMsdCksZC5zdHJva2UoKSxkLmZpbGxTdHlsZT1mLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8ocyt1LHQrdiksZC5saW5lVG8ocysuNip2LHQtLjYqdSksZC5saW5lVG8ocy0uNip2LHQrLjYqdSksZC5saW5lVG8ocyt1LHQrdiksZC5jbG9zZVBhdGgoKSxkLmZpbGwoKX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZWhvdmVyc1wiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5jdXJ2ZWRBcnJvdz1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsPWEuY29sb3IsbT1lKFwicHJlZml4XCIpfHxcIlwiLG49ZShcImVkZ2VDb2xvclwiKSxvPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLHA9ZShcImRlZmF1bHRFZGdlQ29sb3JcIikscT17fSxyPWUoXCJlZGdlSG92ZXJTaXplUmF0aW9cIikqKGFbbStcInNpemVcIl18fDEpLHM9Y1ttK1wic2l6ZVwiXSx0PWJbbStcInhcIl0sdT1iW20rXCJ5XCJdLHY9Y1ttK1wieFwiXSx3PWNbbStcInlcIl07aWYocT1iLmlkPT09Yy5pZD9zaWdtYS51dGlscy5nZXRTZWxmTG9vcENvbnRyb2xQb2ludHModCx1LHMpOnNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludCh0LHUsdix3KSxiLmlkPT09Yy5pZD8oZj1NYXRoLnNxcnQoTWF0aC5wb3codi1xLngxLDIpK01hdGgucG93KHctcS55MSwyKSksZz0yLjUqcixoPXEueDErKHYtcS54MSkqKGYtZy1zKS9mLGk9cS55MSsody1xLnkxKSooZi1nLXMpL2Ysaj0odi1xLngxKSpnL2Ysaz0ody1xLnkxKSpnL2YpOihmPU1hdGguc3FydChNYXRoLnBvdyh2LXEueCwyKStNYXRoLnBvdyh3LXEueSwyKSksZz0yLjUqcixoPXEueCsodi1xLngpKihmLWctcykvZixpPXEueSsody1xLnkpKihmLWctcykvZixqPSh2LXEueCkqZy9mLGs9KHctcS55KSpnL2YpLCFsKXN3aXRjaChuKXtjYXNlXCJzb3VyY2VcIjpsPWIuY29sb3J8fG87YnJlYWs7Y2FzZVwidGFyZ2V0XCI6bD1jLmNvbG9yfHxvO2JyZWFrO2RlZmF1bHQ6bD1wfWw9XCJlZGdlXCI9PT1lKFwiZWRnZUhvdmVyQ29sb3JcIik/YS5ob3Zlcl9jb2xvcnx8bDphLmhvdmVyX2NvbG9yfHxlKFwiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yXCIpfHxsLGQuc3Ryb2tlU3R5bGU9bCxkLmxpbmVXaWR0aD1yLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8odCx1KSxiLmlkPT09Yy5pZD9kLmJlemllckN1cnZlVG8ocS54MixxLnkyLHEueDEscS55MSxoLGkpOmQucXVhZHJhdGljQ3VydmVUbyhxLngscS55LGgsaSksZC5zdHJva2UoKSxkLmZpbGxTdHlsZT1sLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oaCtqLGkrayksZC5saW5lVG8oaCsuNiprLGktLjYqaiksZC5saW5lVG8oaC0uNiprLGkrLjYqaiksZC5saW5lVG8oaCtqLGkrayksZC5jbG9zZVBhdGgoKSxkLmZpbGwoKX19KCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZXh0cmVtaXRpZXNcIiksc2lnbWEuY2FudmFzLmV4dHJlbWl0aWVzLmRlZj1mdW5jdGlvbihhLGIsYyxkLGUpeyhzaWdtYS5jYW52YXMuaG92ZXJzW2IudHlwZV18fHNpZ21hLmNhbnZhcy5ob3ZlcnMuZGVmKShiLGQsZSksKHNpZ21hLmNhbnZhcy5ob3ZlcnNbYy50eXBlXXx8c2lnbWEuY2FudmFzLmhvdmVycy5kZWYpKGMsZCxlKX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5zdmcudXRpbHNcIiksc2lnbWEuc3ZnLnV0aWxzPXtzaG93OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzfSxoaWRlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpc319fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuc3ZnLm5vZGVzXCIpLHNpZ21hLnN2Zy5ub2Rlcy5kZWY9e2NyZWF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPShiKFwicHJlZml4XCIpLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhiKFwieG1sbnNcIiksXCJjaXJjbGVcIikpO3JldHVybiBjLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkYXRhLW5vZGUtaWRcIixhLmlkKSxjLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLGIoXCJjbGFzc1ByZWZpeFwiKStcIi1ub2RlXCIpLGMuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixhLmNvbG9yfHxiKFwiZGVmYXVsdE5vZGVDb2xvclwiKSksY30sdXBkYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKFwicHJlZml4XCIpfHxcIlwiO3JldHVybiBiLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjeFwiLGFbZCtcInhcIl0pLGIuc2V0QXR0cmlidXRlTlMobnVsbCxcImN5XCIsYVtkK1wieVwiXSksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiclwiLGFbZCtcInNpemVcIl0pLGMoXCJmcmVlU3R5bGVcIil8fGIuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixhLmNvbG9yfHxjKFwiZGVmYXVsdE5vZGVDb2xvclwiKSksYi5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpc319fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuc3ZnLmVkZ2VzXCIpLHNpZ21hLnN2Zy5lZGdlcy5kZWY9e2NyZWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLmNvbG9yLGY9KGQoXCJwcmVmaXhcIiksZChcImVkZ2VDb2xvclwiKSksZz1kKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxoPWQoXCJkZWZhdWx0RWRnZUNvbG9yXCIpO2lmKCFlKXN3aXRjaChmKXtjYXNlXCJzb3VyY2VcIjplPWIuY29sb3J8fGc7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6ZT1jLmNvbG9yfHxnO2JyZWFrO2RlZmF1bHQ6ZT1ofXZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkKFwieG1sbnNcIiksXCJsaW5lXCIpO3JldHVybiBpLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkYXRhLWVkZ2UtaWRcIixhLmlkKSxpLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLGQoXCJjbGFzc1ByZWZpeFwiKStcIi1lZGdlXCIpLGkuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZVwiLGUpLGl9LHVwZGF0ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWUoXCJwcmVmaXhcIil8fFwiXCI7cmV0dXJuIGIuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS13aWR0aFwiLGFbZitcInNpemVcIl18fDEpLGIuc2V0QXR0cmlidXRlTlMobnVsbCxcIngxXCIsY1tmK1wieFwiXSksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTFcIixjW2YrXCJ5XCJdKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MlwiLGRbZitcInhcIl0pLGIuc2V0QXR0cmlidXRlTlMobnVsbCxcInkyXCIsZFtmK1wieVwiXSksYi5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpc319fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuc3ZnLmVkZ2VzXCIpLHNpZ21hLnN2Zy5lZGdlcy5jdXJ2ZT17Y3JlYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEuY29sb3IsZj0oZChcInByZWZpeFwiKSxkKFwiZWRnZUNvbG9yXCIpKSxnPWQoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGg9ZChcImRlZmF1bHRFZGdlQ29sb3JcIik7aWYoIWUpc3dpdGNoKGYpe2Nhc2VcInNvdXJjZVwiOmU9Yi5jb2xvcnx8ZzticmVhaztjYXNlXCJ0YXJnZXRcIjplPWMuY29sb3J8fGc7YnJlYWs7ZGVmYXVsdDplPWh9dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQoXCJ4bWxuc1wiKSxcInBhdGhcIik7cmV0dXJuIGkuc2V0QXR0cmlidXRlTlMobnVsbCxcImRhdGEtZWRnZS1pZFwiLGEuaWQpLGkuc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsZChcImNsYXNzUHJlZml4XCIpK1wiLWVkZ2VcIiksaS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsZSksaX0sdXBkYXRlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZShcInByZWZpeFwiKXx8XCJcIjtiLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2Utd2lkdGhcIixhW2YrXCJzaXplXCJdfHwxKTt2YXIgZz0oY1tmK1wieFwiXStkW2YrXCJ4XCJdKS8yKyhkW2YrXCJ5XCJdLWNbZitcInlcIl0pLzQsaD0oY1tmK1wieVwiXStkW2YrXCJ5XCJdKS8yKyhjW2YrXCJ4XCJdLWRbZitcInhcIl0pLzQsaT1cIk1cIitjW2YrXCJ4XCJdK1wiLFwiK2NbZitcInlcIl0rXCIgUVwiK2crXCIsXCIraCtcIiBcIitkW2YrXCJ4XCJdK1wiLFwiK2RbZitcInlcIl07cmV0dXJuIGIuc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixpKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsXCJub25lXCIpLGIuc3R5bGUuZGlzcGxheT1cIlwiLHRoaXN9fX0oKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLnN2Zy5sYWJlbHNcIiksc2lnbWEuc3ZnLmxhYmVscy5kZWY9e2NyZWF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWIoXCJwcmVmaXhcIil8fFwiXCIsZD1hW2MrXCJzaXplXCJdLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGIoXCJ4bWxuc1wiKSxcInRleHRcIiksZj1cImZpeGVkXCI9PT1iKFwibGFiZWxTaXplXCIpP2IoXCJkZWZhdWx0TGFiZWxTaXplXCIpOmIoXCJsYWJlbFNpemVSYXRpb1wiKSpkLGc9XCJub2RlXCI9PT1iKFwibGFiZWxDb2xvclwiKT9hLmNvbG9yfHxiKFwiZGVmYXVsdE5vZGVDb2xvclwiKTpiKFwiZGVmYXVsdExhYmVsQ29sb3JcIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlTlMobnVsbCxcImRhdGEtbGFiZWwtdGFyZ2V0XCIsYS5pZCksZS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIixiKFwiY2xhc3NQcmVmaXhcIikrXCItbGFiZWxcIiksZS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZm9udC1zaXplXCIsZiksZS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZm9udC1mYW1pbHlcIixiKFwiZm9udFwiKSksZS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLGcpLGUuaW5uZXJIVE1MPWEubGFiZWwsZS50ZXh0Q29udGVudD1hLmxhYmVsLGV9LHVwZGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YyhcInByZWZpeFwiKXx8XCJcIixlPWFbZCtcInNpemVcIl0sZj1cImZpeGVkXCI9PT1jKFwibGFiZWxTaXplXCIpP2MoXCJkZWZhdWx0TGFiZWxTaXplXCIpOmMoXCJsYWJlbFNpemVSYXRpb1wiKSplO2lmKChjKFwiZm9yY2VMYWJlbHNcIil8fCEoZTxjKFwibGFiZWxUaHJlc2hvbGRcIikpKSYmXCJzdHJpbmdcIj09dHlwZW9mIGEubGFiZWwpcmV0dXJuIGIuc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIixNYXRoLnJvdW5kKGFbZCtcInhcIl0rZSszKSksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieVwiLE1hdGgucm91bmQoYVtkK1wieVwiXStmLzMpKSxiLnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzfX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNpZ21hKXRocm93XCJzaWdtYSBpcyBub3QgZGVjbGFyZWRcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5zdmcuaG92ZXJzXCIpLHNpZ21hLnN2Zy5ob3ZlcnMuZGVmPXtjcmVhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9KGQoXCJob3ZlckZvbnRTdHlsZVwiKXx8ZChcImZvbnRTdHlsZVwiKSxkKFwicHJlZml4XCIpfHxcIlwiKSxpPWFbaCtcInNpemVcIl0saj1cImZpeGVkXCI9PT1kKFwibGFiZWxTaXplXCIpP2QoXCJkZWZhdWx0TGFiZWxTaXplXCIpOmQoXCJsYWJlbFNpemVSYXRpb1wiKSppLGs9XCJub2RlXCI9PT1kKFwibGFiZWxIb3ZlckNvbG9yXCIpP2EuY29sb3J8fGQoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpOmQoXCJkZWZhdWx0TGFiZWxIb3ZlckNvbG9yXCIpLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQoXCJ4bWxuc1wiKSxcImdcIiksbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZChcInhtbG5zXCIpLFwicmVjdFwiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkKFwieG1sbnNcIiksXCJjaXJjbGVcIiksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZChcInhtbG5zXCIpLFwidGV4dFwiKTtyZXR1cm4gbC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIixkKFwiY2xhc3NQcmVmaXhcIikrXCItaG92ZXJcIiksbC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGF0YS1ub2RlLWlkXCIsYS5pZCksXCJzdHJpbmdcIj09dHlwZW9mIGEubGFiZWwmJihvLmlubmVySFRNTD1hLmxhYmVsLG8udGV4dENvbnRlbnQ9YS5sYWJlbCxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLGQoXCJjbGFzc1ByZWZpeFwiKStcIi1ob3Zlci1sYWJlbFwiKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmb250LXNpemVcIixqKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmb250LWZhbWlseVwiLGQoXCJmb250XCIpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsayksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieFwiLE1hdGgucm91bmQoYVtoK1wieFwiXStpKzMpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5XCIsTWF0aC5yb3VuZChhW2grXCJ5XCJdK2ovMykpLE1hdGgucm91bmQoYVtoK1wieFwiXS1qLzItMiksTWF0aC5yb3VuZChhW2grXCJ5XCJdLWovMi0yKSxlPU1hdGgucm91bmQoYy5tZWFzdXJlVGV4dChhLmxhYmVsKS53aWR0aCtqLzIraSs5KSxmPU1hdGgucm91bmQoais0KSxnPU1hdGgucm91bmQoai8yKzIpLG4uc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsZChcImNsYXNzUHJlZml4XCIpK1wiLWhvdmVyLWFyZWFcIiksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLFwiI2ZmZlwiKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjeFwiLGFbaCtcInhcIl0pLG4uc2V0QXR0cmlidXRlTlMobnVsbCxcImN5XCIsYVtoK1wieVwiXSksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiclwiLGcpLG0uc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsZChcImNsYXNzUHJlZml4XCIpK1wiLWhvdmVyLWFyZWFcIiksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLFwiI2ZmZlwiKSxtLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4XCIsYVtoK1wieFwiXStnLzQpLG0uc2V0QXR0cmlidXRlTlMobnVsbCxcInlcIixhW2grXCJ5XCJdLWcpLG0uc2V0QXR0cmlidXRlTlMobnVsbCxcIndpZHRoXCIsZSksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsZikpLGwuYXBwZW5kQ2hpbGQobiksbC5hcHBlbmRDaGlsZChtKSxsLmFwcGVuZENoaWxkKG8pLGwuYXBwZW5kQ2hpbGQoYiksbH19fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEubWlkZGxld2FyZXNcIiksc2lnbWEudXRpbHMucGtnKFwic2lnbWEudXRpbHNcIiksc2lnbWEubWlkZGxld2FyZXMucmVzY2FsZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsPXRoaXMuZ3JhcGgubm9kZXMoKSxtPXRoaXMuZ3JhcGguZWRnZXMoKSxuPXRoaXMuc2V0dGluZ3MuZW1iZWRPYmplY3RzKGN8fHt9KSxvPW4oXCJib3VuZHNcIil8fHNpZ21hLnV0aWxzLmdldEJvdW5kYXJpZXModGhpcy5ncmFwaCxhLCEwKSxwPW8ubWluWCxxPW8ubWluWSxyPW8ubWF4WCxzPW8ubWF4WSx0PW8uc2l6ZU1heCx1PW8ud2VpZ2h0TWF4LHY9bihcIndpZHRoXCIpfHwxLHc9bihcImhlaWdodFwiKXx8MSx4PW4oXCJhdXRvUmVzY2FsZVwiKSx5PXtub2RlUG9zaXRpb246MSxub2RlU2l6ZToxLGVkZ2VTaXplOjF9O2Zvcih4IGluc3RhbmNlb2YgQXJyYXl8fCh4PVtcIm5vZGVQb3NpdGlvblwiLFwibm9kZVNpemVcIixcImVkZ2VTaXplXCJdKSxkPTAsZT14Lmxlbmd0aDtkPGU7ZCsrKWlmKCF5W3hbZF1dKXRocm93IG5ldyBFcnJvcignVGhlIHJlc2NhbGUgc2V0dGluZyBcIicreFtkXSsnXCIgaXMgbm90IHJlY29nbml6ZWQuJyk7dmFyIHo9fnguaW5kZXhPZihcIm5vZGVQb3NpdGlvblwiKSxBPX54LmluZGV4T2YoXCJub2RlU2l6ZVwiKSxCPX54LmluZGV4T2YoXCJlZGdlU2l6ZVwiKTtmb3Ioaj1cIm91dHNpZGVcIj09PW4oXCJzY2FsaW5nTW9kZVwiKT9NYXRoLm1heCh2L01hdGgubWF4KHItcCwxKSx3L01hdGgubWF4KHMtcSwxKSk6TWF0aC5taW4odi9NYXRoLm1heChyLXAsMSksdy9NYXRoLm1heChzLXEsMSkpLGs9KG4oXCJyZXNjYWxlSWdub3JlU2l6ZVwiKT8wOihuKFwibWF4Tm9kZVNpemVcIil8fHQpL2opKyhuKFwic2lkZU1hcmdpblwiKXx8MCkscis9ayxwLT1rLHMrPWsscS09ayxqPVwib3V0c2lkZVwiPT09bihcInNjYWxpbmdNb2RlXCIpP01hdGgubWF4KHYvTWF0aC5tYXgoci1wLDEpLHcvTWF0aC5tYXgocy1xLDEpKTpNYXRoLm1pbih2L01hdGgubWF4KHItcCwxKSx3L01hdGgubWF4KHMtcSwxKSksbihcIm1heE5vZGVTaXplXCIpfHxuKFwibWluTm9kZVNpemVcIik/bihcIm1heE5vZGVTaXplXCIpPT09bihcIm1pbk5vZGVTaXplXCIpPyhmPTAsZz0rbihcIm1heE5vZGVTaXplXCIpKTooZj0obihcIm1heE5vZGVTaXplXCIpLW4oXCJtaW5Ob2RlU2l6ZVwiKSkvdCxnPStuKFwibWluTm9kZVNpemVcIikpOihmPTEsZz0wKSxuKFwibWF4RWRnZVNpemVcIil8fG4oXCJtaW5FZGdlU2l6ZVwiKT9uKFwibWF4RWRnZVNpemVcIik9PT1uKFwibWluRWRnZVNpemVcIik/KGg9MCxpPStuKFwibWluRWRnZVNpemVcIikpOihoPShuKFwibWF4RWRnZVNpemVcIiktbihcIm1pbkVkZ2VTaXplXCIpKS91LGk9K24oXCJtaW5FZGdlU2l6ZVwiKSk6KGg9MSxpPTApLGQ9MCxlPW0ubGVuZ3RoO2Q8ZTtkKyspbVtkXVtiK1wic2l6ZVwiXT1tW2RdW2ErXCJzaXplXCJdKihCP2g6MSkrKEI/aTowKTtmb3IoZD0wLGU9bC5sZW5ndGg7ZDxlO2QrKylsW2RdW2IrXCJzaXplXCJdPWxbZF1bYStcInNpemVcIl0qKEE/ZjoxKSsoQT9nOjApLGxbZF1bYitcInhcIl09KGxbZF1bYStcInhcIl0tKHIrcCkvMikqKHo/ajoxKSxsW2RdW2IrXCJ5XCJdPShsW2RdW2ErXCJ5XCJdLShzK3EpLzIpKih6P2o6MSl9LHNpZ21hLnV0aWxzLmdldEJvdW5kYXJpZXM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLmVkZ2VzKCksZz1hLm5vZGVzKCksaD0tMS8wLGk9LTEvMCxqPTEvMCxrPTEvMCxsPS0xLzAsbT0tMS8wO2lmKGMpZm9yKGQ9MCxlPWYubGVuZ3RoO2Q8ZTtkKyspaD1NYXRoLm1heChmW2RdW2IrXCJzaXplXCJdLGgpO2ZvcihkPTAsZT1nLmxlbmd0aDtkPGU7ZCsrKWk9TWF0aC5tYXgoZ1tkXVtiK1wic2l6ZVwiXSxpKSxsPU1hdGgubWF4KGdbZF1bYitcInhcIl0sbCksaj1NYXRoLm1pbihnW2RdW2IrXCJ4XCJdLGopLG09TWF0aC5tYXgoZ1tkXVtiK1wieVwiXSxtKSxrPU1hdGgubWluKGdbZF1bYitcInlcIl0sayk7cmV0dXJuIGg9aHx8MSxpPWl8fDEse3dlaWdodE1heDpoLHNpemVNYXg6aSxtaW5YOmosbWluWTprLG1heFg6bCxtYXhZOm19fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLm1pZGRsZXdhcmVzXCIpLHNpZ21hLm1pZGRsZXdhcmVzLmNvcHk9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU7aWYoYitcIlwiIT1hK1wiXCIpe2ZvcihlPXRoaXMuZ3JhcGgubm9kZXMoKSxjPTAsZD1lLmxlbmd0aDtjPGQ7YysrKWVbY11bYitcInhcIl09ZVtjXVthK1wieFwiXSxlW2NdW2IrXCJ5XCJdPWVbY11bYStcInlcIl0sZVtjXVtiK1wic2l6ZVwiXT1lW2NdW2ErXCJzaXplXCJdO2ZvcihlPXRoaXMuZ3JhcGguZWRnZXMoKSxjPTAsZD1lLmxlbmd0aDtjPGQ7YysrKWVbY11bYitcInNpemVcIl09ZVtjXVthK1wic2l6ZVwiXX19fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZ1wiKTt2YXIgYj1mdW5jdGlvbigpe3ZhciBhPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuXCJcIisgKythfX0oKTtzaWdtYS5taXNjLmFuaW1hdGlvbi5jYW1lcmE9ZnVuY3Rpb24oYyxkLGUpe2lmKCEoYyBpbnN0YW5jZW9mIHNpZ21hLmNsYXNzZXMuY2FtZXJhJiZcIm9iamVjdFwiPT10eXBlb2YgZCYmZCkpdGhyb3dcImFuaW1hdGlvbi5jYW1lcmE6IFdyb25nIGFyZ3VtZW50cy5cIjtpZihcIm51bWJlclwiIT10eXBlb2YgZC54JiZcIm51bWJlclwiIT10eXBlb2YgZC55JiZcIm51bWJlclwiIT10eXBlb2YgZC5yYXRpbyYmXCJudW1iZXJcIiE9dHlwZW9mIGQuYW5nbGUpdGhyb3dcIlRoZXJlIG11c3QgYmUgYXQgbGVhc3Qgb25lIHZhbGlkIGNvb3JkaW5hdGUgaW4gdGhlIGdpdmVuIHZhbC5cIjt2YXIgZixnLGgsaSxqLGs9ZXx8e30sbD1zaWdtYS51dGlscy5kYXRlTm93KCk7cmV0dXJuIGo9e3g6Yy54LHk6Yy55LHJhdGlvOmMucmF0aW8sYW5nbGU6Yy5hbmdsZX0say5kdXJhdGlvbixpPVwiZnVuY3Rpb25cIiE9dHlwZW9mIGsuZWFzaW5nP3NpZ21hLnV0aWxzLmVhc2luZ3Nbay5lYXNpbmd8fFwicXVhZHJhdGljSW5PdXRcIl06ay5lYXNpbmcsZj1mdW5jdGlvbigpe3ZhciBiLGU9ay5kdXJhdGlvbj8oc2lnbWEudXRpbHMuZGF0ZU5vdygpLWwpL2suZHVyYXRpb246MTtlPj0xPyhjLmlzQW5pbWF0ZWQ9ITEsYy5nb1RvKHt4OmQueCE9PWE/ZC54OmoueCx5OmQueSE9PWE/ZC55OmoueSxyYXRpbzpkLnJhdGlvIT09YT9kLnJhdGlvOmoucmF0aW8sYW5nbGU6ZC5hbmdsZSE9PWE/ZC5hbmdsZTpqLmFuZ2xlfSksY2FuY2VsQW5pbWF0aW9uRnJhbWUoZyksZGVsZXRlIHNpZ21hLm1pc2MuYW5pbWF0aW9uLnJ1bm5pbmdbZ10sXCJmdW5jdGlvblwiPT10eXBlb2Ygay5vbkNvbXBsZXRlJiZrLm9uQ29tcGxldGUoKSk6KGI9aShlKSxjLmlzQW5pbWF0ZWQ9ITAsYy5nb1RvKHt4OmQueCE9PWE/ai54KyhkLngtai54KSpiOmoueCx5OmQueSE9PWE/ai55KyhkLnktai55KSpiOmoueSxyYXRpbzpkLnJhdGlvIT09YT9qLnJhdGlvKyhkLnJhdGlvLWoucmF0aW8pKmI6ai5yYXRpbyxhbmdsZTpkLmFuZ2xlIT09YT9qLmFuZ2xlKyhkLmFuZ2xlLWouYW5nbGUpKmI6ai5hbmdsZX0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGsub25OZXdGcmFtZSYmay5vbk5ld0ZyYW1lKCksaC5mcmFtZUlkPXJlcXVlc3RBbmltYXRpb25GcmFtZShmKSl9LGc9YigpLGg9e2ZyYW1lSWQ6cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGYpLHRhcmdldDpjLHR5cGU6XCJjYW1lcmFcIixvcHRpb25zOmssZm46Zn0sc2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZ1tnXT1oLGd9LHNpZ21hLm1pc2MuYW5pbWF0aW9uLmtpbGw9ZnVuY3Rpb24oYSl7aWYoMSE9PWFyZ3VtZW50cy5sZW5ndGh8fFwibnVtYmVyXCIhPXR5cGVvZiBhKXRocm93XCJhbmltYXRpb24ua2lsbDogV3JvbmcgYXJndW1lbnRzLlwiO3ZhciBiPXNpZ21hLm1pc2MuYW5pbWF0aW9uLnJ1bm5pbmdbYV07cmV0dXJuIGImJihjYW5jZWxBbmltYXRpb25GcmFtZShhKSxkZWxldGUgc2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZ1tiLmZyYW1lSWRdLFwiY2FtZXJhXCI9PT1iLnR5cGUmJihiLnRhcmdldC5pc0FuaW1hdGVkPSExKSxcImZ1bmN0aW9uXCI9PXR5cGVvZihiLm9wdGlvbnN8fHt9KS5vbkNvbXBsZXRlJiZiLm9wdGlvbnMub25Db21wbGV0ZSgpKSx0aGlzfSxzaWdtYS5taXNjLmFuaW1hdGlvbi5raWxsQWxsPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD0wLGU9XCJzdHJpbmdcIj09dHlwZW9mIGE/YTpudWxsLGY9XCJvYmplY3RcIj09dHlwZW9mIGE/YTpudWxsLGc9c2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZztmb3IoYyBpbiBnKWUmJmdbY10udHlwZSE9PWV8fGYmJmdbY10udGFyZ2V0IT09Znx8KGI9c2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZ1tjXSxjYW5jZWxBbmltYXRpb25GcmFtZShiLmZyYW1lSWQpLGRlbGV0ZSBzaWdtYS5taXNjLmFuaW1hdGlvbi5ydW5uaW5nW2NdLFwiY2FtZXJhXCI9PT1iLnR5cGUmJihiLnRhcmdldC5pc0FuaW1hdGVkPSExKSxkKyssXCJmdW5jdGlvblwiPT10eXBlb2YoYi5vcHRpb25zfHx7fSkub25Db21wbGV0ZSYmYi5vcHRpb25zLm9uQ29tcGxldGUoKSk7cmV0dXJuIGR9LHNpZ21hLm1pc2MuYW5pbWF0aW9uLmhhcz1mdW5jdGlvbihhKXt2YXIgYixjPVwic3RyaW5nXCI9PXR5cGVvZiBhP2E6bnVsbCxkPVwib2JqZWN0XCI9PXR5cGVvZiBhP2E6bnVsbCxlPXNpZ21hLm1pc2MuYW5pbWF0aW9uLnJ1bm5pbmc7Zm9yKGIgaW4gZSlpZighKGMmJmVbYl0udHlwZSE9PWN8fGQmJmVbYl0udGFyZ2V0IT09ZCkpcmV0dXJuITA7cmV0dXJuITF9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEubWlzY1wiKSxzaWdtYS5taXNjLmJpbmRFdmVudHM9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhhKXthJiYoaD1cInhcImluIGEuZGF0YT9hLmRhdGEueDpoLGk9XCJ5XCJpbiBhLmRhdGE/YS5kYXRhLnk6aSk7dmFyIGMsZCxlLGYsZyxrLGwsbSxuPVtdLG89aCtqLndpZHRoLzIscD1pK2ouaGVpZ2h0LzIscT1qLmNhbWVyYS5jYW1lcmFQb3NpdGlvbihoLGkpLHI9ai5jYW1lcmEucXVhZHRyZWUucG9pbnQocS54LHEueSk7aWYoci5sZW5ndGgpZm9yKGM9MCxlPXIubGVuZ3RoO2M8ZTtjKyspaWYoZj1yW2NdLGc9ZltiK1wieFwiXSxrPWZbYitcInlcIl0sbD1mW2IrXCJzaXplXCJdLCFmLmhpZGRlbiYmbz5nLWwmJm88ZytsJiZwPmstbCYmcDxrK2wmJk1hdGguc3FydChNYXRoLnBvdyhvLWcsMikrTWF0aC5wb3cocC1rLDIpKTxsKXtmb3IobT0hMSxkPTA7ZDxuLmxlbmd0aDtkKyspaWYoZi5zaXplPm5bZF0uc2l6ZSl7bi5zcGxpY2UoZCwwLGYpLG09ITA7YnJlYWt9bXx8bi5wdXNoKGYpfXJldHVybiBufWZ1bmN0aW9uIGQoYyl7ZnVuY3Rpb24gZChhLGIpe2ZvcihyPSExLGc9MDtnPGEubGVuZ3RoO2crKylpZihiLnNpemU+YVtnXS5zaXplKXthLnNwbGljZShnLDAsYikscj0hMDticmVha31yfHxhLnB1c2goYil9aWYoIWouc2V0dGluZ3MoXCJlbmFibGVFZGdlSG92ZXJpbmdcIikpcmV0dXJuW107dmFyIGU9c2lnbWEucmVuZGVyZXJzLmNhbnZhcyYmaiBpbnN0YW5jZW9mIHNpZ21hLnJlbmRlcmVycy5jYW52YXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGVkZ2UgZXZlbnRzIGZlYXR1cmUgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgV2ViR0wgcmVuZGVyZXJcIik7YyYmKGg9XCJ4XCJpbiBjLmRhdGE/Yy5kYXRhLng6aCxpPVwieVwiaW4gYy5kYXRhP2MuZGF0YS55OmkpO3ZhciBmLGcsayxsLG0sbixvLHAscSxyLHM9ai5zZXR0aW5ncyhcImVkZ2VIb3ZlclByZWNpc2lvblwiKSx0PXt9LHU9W10sdj1oK2oud2lkdGgvMix3PWkrai5oZWlnaHQvMix4PWouY2FtZXJhLmNhbWVyYVBvc2l0aW9uKGgsaSkseT1bXTtpZihlKXt2YXIgej1qLmNhbWVyYS5xdWFkdHJlZS5hcmVhKGouY2FtZXJhLmdldFJlY3RhbmdsZShqLndpZHRoLGouaGVpZ2h0KSk7Zm9yKGw9eixmPTAsaz1sLmxlbmd0aDtmPGs7ZisrKXRbbFtmXS5pZF09bFtmXX1pZihqLmNhbWVyYS5lZGdlcXVhZHRyZWUhPT1hJiYoeT1qLmNhbWVyYS5lZGdlcXVhZHRyZWUucG9pbnQoeC54LHgueSkpLHkubGVuZ3RoKWZvcihmPTAsaz15Lmxlbmd0aDtmPGs7ZisrKW09eVtmXSxvPWouZ3JhcGgubm9kZXMobS5zb3VyY2UpLHA9ai5ncmFwaC5ub2RlcyhtLnRhcmdldCksbj1tW2IrXCJzaXplXCJdfHxtW1wicmVhZF9cIitiK1wic2l6ZVwiXSwhbS5oaWRkZW4mJiFvLmhpZGRlbiYmIXAuaGlkZGVuJiYoIWV8fHRbbS5zb3VyY2VdfHx0W20udGFyZ2V0XSkmJnNpZ21hLnV0aWxzLmdldERpc3RhbmNlKG9bYitcInhcIl0sb1tiK1wieVwiXSx2LHcpPm9bYitcInNpemVcIl0mJnNpZ21hLnV0aWxzLmdldERpc3RhbmNlKHBbYitcInhcIl0scFtiK1wieVwiXSx2LHcpPnBbYitcInNpemVcIl0mJihcImN1cnZlXCI9PW0udHlwZXx8XCJjdXJ2ZWRBcnJvd1wiPT1tLnR5cGU/by5pZD09PXAuaWQ/KHE9c2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzKG9bYitcInhcIl0sb1tiK1wieVwiXSxvW2IrXCJzaXplXCJdKSxzaWdtYS51dGlscy5pc1BvaW50T25CZXppZXJDdXJ2ZSh2LHcsb1tiK1wieFwiXSxvW2IrXCJ5XCJdLHBbYitcInhcIl0scFtiK1wieVwiXSxxLngxLHEueTEscS54MixxLnkyLE1hdGgubWF4KG4scykpJiZkKHUsbSkpOihxPXNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludChvW2IrXCJ4XCJdLG9bYitcInlcIl0scFtiK1wieFwiXSxwW2IrXCJ5XCJdKSxzaWdtYS51dGlscy5pc1BvaW50T25RdWFkcmF0aWNDdXJ2ZSh2LHcsb1tiK1wieFwiXSxvW2IrXCJ5XCJdLHBbYitcInhcIl0scFtiK1wieVwiXSxxLngscS55LE1hdGgubWF4KG4scykpJiZkKHUsbSkpOnNpZ21hLnV0aWxzLmlzUG9pbnRPblNlZ21lbnQodix3LG9bYitcInhcIl0sb1tiK1wieVwiXSxwW2IrXCJ4XCJdLHBbYitcInlcIl0sTWF0aC5tYXgobixzKSkmJmQodSxtKSk7cmV0dXJuIHV9ZnVuY3Rpb24gZShhKXtmdW5jdGlvbiBiKGEpe2ouc2V0dGluZ3MoXCJldmVudHNFbmFibGVkXCIpJiYoai5kaXNwYXRjaEV2ZW50KFwiY2xpY2tcIixhLmRhdGEpLGk9YyhhKSxrPWQoYSksaS5sZW5ndGg/KGouZGlzcGF0Y2hFdmVudChcImNsaWNrTm9kZVwiLHtub2RlOmlbMF0sY2FwdG9yOmEuZGF0YX0pLGouZGlzcGF0Y2hFdmVudChcImNsaWNrTm9kZXNcIix7bm9kZTppLGNhcHRvcjphLmRhdGF9KSk6ay5sZW5ndGg/KGouZGlzcGF0Y2hFdmVudChcImNsaWNrRWRnZVwiLHtlZGdlOmtbMF0sY2FwdG9yOmEuZGF0YX0pLGouZGlzcGF0Y2hFdmVudChcImNsaWNrRWRnZXNcIix7ZWRnZTprLGNhcHRvcjphLmRhdGF9KSk6ai5kaXNwYXRjaEV2ZW50KFwiY2xpY2tTdGFnZVwiLHtjYXB0b3I6YS5kYXRhfSkpfWZ1bmN0aW9uIGUoYSl7ai5zZXR0aW5ncyhcImV2ZW50c0VuYWJsZWRcIikmJihqLmRpc3BhdGNoRXZlbnQoXCJkb3VibGVDbGlja1wiLGEuZGF0YSksaT1jKGEpLGs9ZChhKSxpLmxlbmd0aD8oai5kaXNwYXRjaEV2ZW50KFwiZG91YmxlQ2xpY2tOb2RlXCIse25vZGU6aVswXSxjYXB0b3I6YS5kYXRhfSksai5kaXNwYXRjaEV2ZW50KFwiZG91YmxlQ2xpY2tOb2Rlc1wiLHtub2RlOmksY2FwdG9yOmEuZGF0YX0pKTprLmxlbmd0aD8oai5kaXNwYXRjaEV2ZW50KFwiZG91YmxlQ2xpY2tFZGdlXCIse2VkZ2U6a1swXSxjYXB0b3I6YS5kYXRhfSksai5kaXNwYXRjaEV2ZW50KFwiZG91YmxlQ2xpY2tFZGdlc1wiLHtlZGdlOmssY2FwdG9yOmEuZGF0YX0pKTpqLmRpc3BhdGNoRXZlbnQoXCJkb3VibGVDbGlja1N0YWdlXCIse2NhcHRvcjphLmRhdGF9KSl9ZnVuY3Rpb24gZihhKXtqLnNldHRpbmdzKFwiZXZlbnRzRW5hYmxlZFwiKSYmKGouZGlzcGF0Y2hFdmVudChcInJpZ2h0Q2xpY2tcIixhLmRhdGEpLGk9YyhhKSxrPWQoYSksaS5sZW5ndGg/KGouZGlzcGF0Y2hFdmVudChcInJpZ2h0Q2xpY2tOb2RlXCIse25vZGU6aVswXSxjYXB0b3I6YS5kYXRhfSksai5kaXNwYXRjaEV2ZW50KFwicmlnaHRDbGlja05vZGVzXCIse25vZGU6aSxjYXB0b3I6YS5kYXRhfSkpOmsubGVuZ3RoPyhqLmRpc3BhdGNoRXZlbnQoXCJyaWdodENsaWNrRWRnZVwiLHtlZGdlOmtbMF0sY2FwdG9yOmEuZGF0YX0pLGouZGlzcGF0Y2hFdmVudChcInJpZ2h0Q2xpY2tFZGdlc1wiLHtlZGdlOmssY2FwdG9yOmEuZGF0YX0pKTpqLmRpc3BhdGNoRXZlbnQoXCJyaWdodENsaWNrU3RhZ2VcIix7Y2FwdG9yOmEuZGF0YX0pKX1mdW5jdGlvbiBnKGEpe2lmKGouc2V0dGluZ3MoXCJldmVudHNFbmFibGVkXCIpKXt2YXIgYixjLGQsZSxmPVtdLGc9W107Zm9yKGIgaW4gbClmLnB1c2gobFtiXSk7Zm9yKGw9e30sYz0wLGQ9Zi5sZW5ndGg7YzxkO2MrKylqLmRpc3BhdGNoRXZlbnQoXCJvdXROb2RlXCIse25vZGU6ZltjXSxjYXB0b3I6YS5kYXRhfSk7Zm9yKGYubGVuZ3RoJiZqLmRpc3BhdGNoRXZlbnQoXCJvdXROb2Rlc1wiLHtub2RlczpmLGNhcHRvcjphLmRhdGF9KSxtPXt9LGM9MCxlPWcubGVuZ3RoO2M8ZTtjKyspai5kaXNwYXRjaEV2ZW50KFwib3V0RWRnZVwiLHtlZGdlOmdbY10sY2FwdG9yOmEuZGF0YX0pO2cubGVuZ3RoJiZqLmRpc3BhdGNoRXZlbnQoXCJvdXRFZGdlc1wiLHtlZGdlczpnLGNhcHRvcjphLmRhdGF9KX19ZnVuY3Rpb24gaChhKXtpZihqLnNldHRpbmdzKFwiZXZlbnRzRW5hYmxlZFwiKSl7aT1jKGEpLGs9ZChhKTt2YXIgYixlLGYsZyxoPVtdLG49W10sbz17fSxwPWkubGVuZ3RoLHE9W10scj1bXSxzPXt9LHQ9ay5sZW5ndGg7Zm9yKGI9MDtiPHA7YisrKWY9aVtiXSxvW2YuaWRdPWYsbFtmLmlkXXx8KG4ucHVzaChmKSxsW2YuaWRdPWYpO2ZvcihlIGluIGwpb1tlXXx8KGgucHVzaChsW2VdKSxkZWxldGUgbFtlXSk7Zm9yKGI9MCxwPW4ubGVuZ3RoO2I8cDtiKyspai5kaXNwYXRjaEV2ZW50KFwib3Zlck5vZGVcIix7bm9kZTpuW2JdLGNhcHRvcjphLmRhdGF9KTtmb3IoYj0wLHA9aC5sZW5ndGg7YjxwO2IrKylqLmRpc3BhdGNoRXZlbnQoXCJvdXROb2RlXCIse25vZGU6aFtiXSxjYXB0b3I6YS5kYXRhfSk7Zm9yKG4ubGVuZ3RoJiZqLmRpc3BhdGNoRXZlbnQoXCJvdmVyTm9kZXNcIix7bm9kZXM6bixjYXB0b3I6YS5kYXRhfSksaC5sZW5ndGgmJmouZGlzcGF0Y2hFdmVudChcIm91dE5vZGVzXCIse25vZGVzOmgsY2FwdG9yOmEuZGF0YX0pLGI9MDtiPHQ7YisrKWc9a1tiXSxzW2cuaWRdPWcsbVtnLmlkXXx8KHIucHVzaChnKSxtW2cuaWRdPWcpO2ZvcihlIGluIG0pc1tlXXx8KHEucHVzaChtW2VdKSxkZWxldGUgbVtlXSk7Zm9yKGI9MCx0PXIubGVuZ3RoO2I8dDtiKyspai5kaXNwYXRjaEV2ZW50KFwib3ZlckVkZ2VcIix7ZWRnZTpyW2JdLGNhcHRvcjphLmRhdGF9KTtmb3IoYj0wLHQ9cS5sZW5ndGg7Yjx0O2IrKylqLmRpc3BhdGNoRXZlbnQoXCJvdXRFZGdlXCIse2VkZ2U6cVtiXSxjYXB0b3I6YS5kYXRhfSk7ci5sZW5ndGgmJmouZGlzcGF0Y2hFdmVudChcIm92ZXJFZGdlc1wiLHtlZGdlczpyLGNhcHRvcjphLmRhdGF9KSxxLmxlbmd0aCYmai5kaXNwYXRjaEV2ZW50KFwib3V0RWRnZXNcIix7ZWRnZXM6cSxjYXB0b3I6YS5kYXRhfSl9fXZhciBpLGssbD17fSxtPXt9O2EuYmluZChcImNsaWNrXCIsYiksYS5iaW5kKFwibW91c2Vkb3duXCIsaCksYS5iaW5kKFwibW91c2V1cFwiLGgpLGEuYmluZChcIm1vdXNlbW92ZVwiLGgpLGEuYmluZChcIm1vdXNlb3V0XCIsZyksYS5iaW5kKFwiZG91YmxlY2xpY2tcIixlKSxhLmJpbmQoXCJyaWdodGNsaWNrXCIsZiksai5iaW5kKFwicmVuZGVyXCIsaCl9dmFyIGYsZyxoLGksaj10aGlzO2ZvcihmPTAsZz10aGlzLmNhcHRvcnMubGVuZ3RoO2Y8ZztmKyspZSh0aGlzLmNhcHRvcnNbZl0pfX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3dcInNpZ21hIGlzIG5vdCBkZWNsYXJlZFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLm1pc2NcIiksc2lnbWEubWlzYy5iaW5kRE9NRXZlbnRzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dGhpcy5hdHRyPWZ1bmN0aW9uKGIpe3JldHVybiBhLmdldEF0dHJpYnV0ZU5TKG51bGwsYil9LHRoaXMudGFnPWEudGFnTmFtZSx0aGlzLmNsYXNzPXRoaXMuYXR0cihcImNsYXNzXCIpLHRoaXMuaWQ9dGhpcy5hdHRyKFwiaWRcIiksdGhpcy5pc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hIX50aGlzLmNsYXNzLmluZGV4T2YoZy5zZXR0aW5ncyhcImNsYXNzUHJlZml4XCIpK1wiLW5vZGVcIil9LHRoaXMuaXNFZGdlPWZ1bmN0aW9uKCl7cmV0dXJuISF+dGhpcy5jbGFzcy5pbmRleE9mKGcuc2V0dGluZ3MoXCJjbGFzc1ByZWZpeFwiKStcIi1lZGdlXCIpfSx0aGlzLmlzSG92ZXI9ZnVuY3Rpb24oKXtyZXR1cm4hIX50aGlzLmNsYXNzLmluZGV4T2YoZy5zZXR0aW5ncyhcImNsYXNzUHJlZml4XCIpK1wiLWhvdmVyXCIpfX1mdW5jdGlvbiBjKGEpe2lmKGcuc2V0dGluZ3MoXCJldmVudHNFbmFibGVkXCIpKXtnLmRpc3BhdGNoRXZlbnQoXCJjbGlja1wiLGEpO3ZhciBjPW5ldyBiKGEudGFyZ2V0KTtjLmlzTm9kZSgpP2cuZGlzcGF0Y2hFdmVudChcImNsaWNrTm9kZVwiLHtub2RlOmgubm9kZXMoYy5hdHRyKFwiZGF0YS1ub2RlLWlkXCIpKX0pOmcuZGlzcGF0Y2hFdmVudChcImNsaWNrU3RhZ2VcIiksYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCl9fWZ1bmN0aW9uIGQoYSl7aWYoZy5zZXR0aW5ncyhcImV2ZW50c0VuYWJsZWRcIikpe2cuZGlzcGF0Y2hFdmVudChcImRvdWJsZUNsaWNrXCIsYSk7dmFyIGM9bmV3IGIoYS50YXJnZXQpO2MuaXNOb2RlKCk/Zy5kaXNwYXRjaEV2ZW50KFwiZG91YmxlQ2xpY2tOb2RlXCIse25vZGU6aC5ub2RlcyhjLmF0dHIoXCJkYXRhLW5vZGUtaWRcIikpfSk6Zy5kaXNwYXRjaEV2ZW50KFwiZG91YmxlQ2xpY2tTdGFnZVwiKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX19ZnVuY3Rpb24gZShhKXt2YXIgYz1hLnRvRWxlbWVudHx8YS50YXJnZXQ7aWYoZy5zZXR0aW5ncyhcImV2ZW50c0VuYWJsZWRcIikmJmMpe3ZhciBkPW5ldyBiKGMpO2lmKGQuaXNOb2RlKCkpZy5kaXNwYXRjaEV2ZW50KFwib3Zlck5vZGVcIix7bm9kZTpoLm5vZGVzKGQuYXR0cihcImRhdGEtbm9kZS1pZFwiKSl9KTtlbHNlIGlmKGQuaXNFZGdlKCkpe3ZhciBlPWguZWRnZXMoZC5hdHRyKFwiZGF0YS1lZGdlLWlkXCIpKTtnLmRpc3BhdGNoRXZlbnQoXCJvdmVyRWRnZVwiLHtlZGdlOmUsc291cmNlOmgubm9kZXMoZS5zb3VyY2UpLHRhcmdldDpoLm5vZGVzKGUudGFyZ2V0KX0pfX19ZnVuY3Rpb24gZihhKXt2YXIgYz1hLmZyb21FbGVtZW50fHxhLm9yaWdpbmFsVGFyZ2V0O2lmKGcuc2V0dGluZ3MoXCJldmVudHNFbmFibGVkXCIpKXt2YXIgZD1uZXcgYihjKTtpZihkLmlzTm9kZSgpKWcuZGlzcGF0Y2hFdmVudChcIm91dE5vZGVcIix7bm9kZTpoLm5vZGVzKGQuYXR0cihcImRhdGEtbm9kZS1pZFwiKSl9KTtlbHNlIGlmKGQuaXNFZGdlKCkpe3ZhciBlPWguZWRnZXMoZC5hdHRyKFwiZGF0YS1lZGdlLWlkXCIpKTtnLmRpc3BhdGNoRXZlbnQoXCJvdXRFZGdlXCIse2VkZ2U6ZSxzb3VyY2U6aC5ub2RlcyhlLnNvdXJjZSksdGFyZ2V0Omgubm9kZXMoZS50YXJnZXQpfSl9fX12YXIgZz10aGlzLGg9dGhpcy5ncmFwaDthLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGMsITEpLHNpZ21hLnV0aWxzLmRvdWJsZUNsaWNrKGEsXCJjbGlja1wiLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixjLCExKSxzaWdtYS51dGlscy5kb3VibGVDbGljayhhLFwidG91Y2hzdGFydFwiLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLGUsITApLGEuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsZiwhMCl9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEubWlzY1wiKSxzaWdtYS5taXNjLmRyYXdIb3ZlcnM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBiLGYsZyxoLGksaj1jLmNvbnRleHRzLmhvdmVyLmNhbnZhcyxrPWMuc2V0dGluZ3MoXCJkZWZhdWx0Tm9kZVR5cGVcIiksbD1jLnNldHRpbmdzKFwiZGVmYXVsdEVkZ2VUeXBlXCIpLG09c2lnbWEuY2FudmFzLmhvdmVycyxuPXNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzLG89c2lnbWEuY2FudmFzLmV4dHJlbWl0aWVzLHA9Yy5zZXR0aW5ncy5lbWJlZE9iamVjdHMoe3ByZWZpeDphfSk7aWYoYy5jb250ZXh0cy5ob3Zlci5jbGVhclJlY3QoMCwwLGoud2lkdGgsai5oZWlnaHQpLHAoXCJlbmFibGVIb3ZlcmluZ1wiKSYmcChcInNpbmdsZUhvdmVyXCIpJiZPYmplY3Qua2V5cyhkKS5sZW5ndGgmJihoPWRbT2JqZWN0LmtleXMoZClbMF1dLChtW2gudHlwZV18fG1ba118fG0uZGVmKShoLGMuY29udGV4dHMuaG92ZXIscCkpLHAoXCJlbmFibGVIb3ZlcmluZ1wiKSYmIXAoXCJzaW5nbGVIb3ZlclwiKSlmb3IoYiBpbiBkKShtW2RbYl0udHlwZV18fG1ba118fG0uZGVmKShkW2JdLGMuY29udGV4dHMuaG92ZXIscCk7aWYocChcImVuYWJsZUVkZ2VIb3ZlcmluZ1wiKSYmcChcInNpbmdsZUhvdmVyXCIpJiZPYmplY3Qua2V5cyhlKS5sZW5ndGgmJihpPWVbT2JqZWN0LmtleXMoZSlbMF1dLGY9Yy5ncmFwaC5ub2RlcyhpLnNvdXJjZSksZz1jLmdyYXBoLm5vZGVzKGkudGFyZ2V0KSxpLmhpZGRlbnx8KChuW2kudHlwZV18fG5bbF18fG4uZGVmKShpLGYsZyxjLmNvbnRleHRzLmhvdmVyLHApLHAoXCJlZGdlSG92ZXJFeHRyZW1pdGllc1wiKT8ob1tpLnR5cGVdfHxvLmRlZikoaSxmLGcsYy5jb250ZXh0cy5ob3ZlcixwKTooKHNpZ21hLmNhbnZhcy5ub2Rlc1tmLnR5cGVdfHxzaWdtYS5jYW52YXMubm9kZXMuZGVmKShmLGMuY29udGV4dHMuaG92ZXIscCksKHNpZ21hLmNhbnZhcy5ub2Rlc1tnLnR5cGVdfHxzaWdtYS5jYW52YXMubm9kZXMuZGVmKShnLGMuY29udGV4dHMuaG92ZXIscCkpKSkscChcImVuYWJsZUVkZ2VIb3ZlcmluZ1wiKSYmIXAoXCJzaW5nbGVIb3ZlclwiKSlmb3IoYiBpbiBlKWk9ZVtiXSxmPWMuZ3JhcGgubm9kZXMoaS5zb3VyY2UpLGc9Yy5ncmFwaC5ub2RlcyhpLnRhcmdldCksaS5oaWRkZW58fCgobltpLnR5cGVdfHxuW2xdfHxuLmRlZikoaSxmLGcsYy5jb250ZXh0cy5ob3ZlcixwKSxwKFwiZWRnZUhvdmVyRXh0cmVtaXRpZXNcIik/KG9baS50eXBlXXx8by5kZWYpKGksZixnLGMuY29udGV4dHMuaG92ZXIscCk6KChzaWdtYS5jYW52YXMubm9kZXNbZi50eXBlXXx8c2lnbWEuY2FudmFzLm5vZGVzLmRlZikoZixjLmNvbnRleHRzLmhvdmVyLHApLChzaWdtYS5jYW52YXMubm9kZXNbZy50eXBlXXx8c2lnbWEuY2FudmFzLm5vZGVzLmRlZikoZyxjLmNvbnRleHRzLmhvdmVyLHApKSl9dmFyIGM9dGhpcyxkPXt9LGU9e307dGhpcy5iaW5kKFwib3Zlck5vZGVcIixmdW5jdGlvbihhKXt2YXIgYz1hLmRhdGEubm9kZTtjLmhpZGRlbnx8KGRbYy5pZF09YyxiKCkpfSksdGhpcy5iaW5kKFwib3V0Tm9kZVwiLGZ1bmN0aW9uKGEpe2RlbGV0ZSBkW2EuZGF0YS5ub2RlLmlkXSxiKCl9KSx0aGlzLmJpbmQoXCJvdmVyRWRnZVwiLGZ1bmN0aW9uKGEpe3ZhciBjPWEuZGF0YS5lZGdlO2MuaGlkZGVufHwoZVtjLmlkXT1jLGIoKSl9KSx0aGlzLmJpbmQoXCJvdXRFZGdlXCIsZnVuY3Rpb24oYSl7ZGVsZXRlIGVbYS5kYXRhLmVkZ2UuaWRdLGIoKX0pLHRoaXMuYmluZChcInJlbmRlclwiLGZ1bmN0aW9uKGEpe2IoKX0pfX0uY2FsbCh0aGlzKTsiLCIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGEpe2lmKGRbYV0pcmV0dXJuIGRbYV07dmFyIGI9WzAsMCwwXTtyZXR1cm4gYS5tYXRjaCgvXiMvKT8oYT0oYXx8XCJcIikucmVwbGFjZSgvXiMvLFwiXCIpLGI9Mz09PWEubGVuZ3RoP1twYXJzZUludChhLmNoYXJBdCgwKSthLmNoYXJBdCgwKSwxNikscGFyc2VJbnQoYS5jaGFyQXQoMSkrYS5jaGFyQXQoMSksMTYpLHBhcnNlSW50KGEuY2hhckF0KDIpK2EuY2hhckF0KDIpLDE2KV06W3BhcnNlSW50KGEuY2hhckF0KDApK2EuY2hhckF0KDEpLDE2KSxwYXJzZUludChhLmNoYXJBdCgyKSthLmNoYXJBdCgzKSwxNikscGFyc2VJbnQoYS5jaGFyQXQoNCkrYS5jaGFyQXQoNSksMTYpXSk6YS5tYXRjaCgvXiAqcmdiYT8gKlxcKC8pJiYoYT1hLm1hdGNoKC9eICpyZ2JhPyAqXFwoICooWzAtOV0qKSAqLCAqKFswLTldKikgKiwgKihbMC05XSopICooLC4qKT9cXCkgKiQvKSxiPVsrYVsxXSwrYVsyXSwrYVszXV0pLGRbYV09e3I6YlswXSxnOmJbMV0sYjpiWzJdfSxkW2FdfWZ1bmN0aW9uIGIoYixjLGQpe2I9YShiKSxjPWEoYyk7dmFyIGU9e3I6Yi5yKigxLWQpK2MucipkLGc6Yi5nKigxLWQpK2MuZypkLGI6Yi5iKigxLWQpK2MuYipkfTtyZXR1cm5cInJnYihcIitbMHxlLnIsMHxlLmcsMHxlLmJdLmpvaW4oXCIsXCIpK1wiKVwifWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzaWdtYSl0aHJvd1wic2lnbWEgaXMgbm90IGRlY2xhcmVkXCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEucGx1Z2luc1wiKTt2YXIgYz0wLGQ9e307c2lnbWEucGx1Z2lucy5hbmltYXRlPWZ1bmN0aW9uKGEsZCxlKXtmdW5jdGlvbiBmKCl7dmFyIGM9KHNpZ21hLnV0aWxzLmRhdGVOb3coKS1tKS9rO2lmKGM+PTEpe2cuZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gZCliIGluIGQmJihhW2JdPWFbZFtiXV0pfSk7dmFyIGUsbjtmb3IoZSBpbiBhLmNhbWVyYXMpbj1hLmNhbWVyYXNbZV0sbi5lZGdlcXVhZHRyZWUuX2VuYWJsZWQ9ITA7YS5yZWZyZXNoKCksXCJmdW5jdGlvblwiPT10eXBlb2YgaS5vbkNvbXBsZXRlJiZpLm9uQ29tcGxldGUoKX1lbHNlIGM9bChjKSxnLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBlIGluIGQpZSBpbiBkJiYoZS5tYXRjaCgvY29sb3IkLyk/YVtlXT1iKGhbYS5pZF1bZV0sYVtkW2VdXSxjKTphW2VdPWFbZFtlXV0qYytoW2EuaWRdW2VdKigxLWMpKX0pLGEucmVmcmVzaCgpLGEuYW5pbWF0aW9uc1tqXT1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZil9dmFyIGcsaCxpPWV8fHt9LGo9KytjLGs9aS5kdXJhdGlvbnx8YS5zZXR0aW5ncyhcImFuaW1hdGlvbnNUaW1lXCIpLGw9XCJzdHJpbmdcIj09dHlwZW9mIGkuZWFzaW5nP3NpZ21hLnV0aWxzLmVhc2luZ3NbaS5lYXNpbmddOlwiZnVuY3Rpb25cIj09dHlwZW9mIGkuZWFzaW5nP2kuZWFzaW5nOnNpZ21hLnV0aWxzLmVhc2luZ3MucXVhZHJhdGljSW5PdXQsbT1zaWdtYS51dGlscy5kYXRlTm93KCk7Zz1pLm5vZGVzJiZpLm5vZGVzLmxlbmd0aD9cIm9iamVjdFwiPT10eXBlb2YgaS5ub2Rlc1swXT9pLm5vZGVzOmEuZ3JhcGgubm9kZXMoaS5ub2Rlcyk6YS5ncmFwaC5ub2RlcygpLGg9Zy5yZWR1Y2UoZnVuY3Rpb24oYSxiKXt2YXIgYzthW2IuaWRdPXt9O2ZvcihjIGluIGQpYyBpbiBiJiYoYVtiLmlkXVtjXT1iW2NdKTtyZXR1cm4gYX0se30pLGEuYW5pbWF0aW9ucz1hLmFuaW1hdGlvbnN8fE9iamVjdC5jcmVhdGUoe30pLHNpZ21hLnBsdWdpbnMua2lsbChhKTt2YXIgbixvO2ZvcihuIGluIGEuY2FtZXJhcylvPWEuY2FtZXJhc1tuXSxvLmVkZ2VxdWFkdHJlZS5fZW5hYmxlZD0hMTtmKCl9LHNpZ21hLnBsdWdpbnMua2lsbD1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYS5hbmltYXRpb25zfHx7fSljYW5jZWxBbmltYXRpb25GcmFtZShhLmFuaW1hdGlvbnNbYl0pO3ZhciBiLGM7Zm9yKGIgaW4gYS5jYW1lcmFzKWM9YS5jYW1lcmFzW2JdLGMuZWRnZXF1YWR0cmVlLl9lbmFibGVkPSEwfX0pLmNhbGwod2luZG93KTsiLCIoZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYigpe3ZhciBhPXRoaXM7dGhpcy5pbml0PWZ1bmN0aW9uKGEsYil7aWYoYj1ifHx7fSx0aGlzLnNpZ0luc3Q9YSx0aGlzLmNvbmZpZz1zaWdtYS51dGlscy5leHRlbmQoYixjKSx0aGlzLmVhc2luZz1iLmVhc2luZyx0aGlzLmR1cmF0aW9uPWIuZHVyYXRpb24sYi5ub2RlcyYmKHRoaXMubm9kZXM9Yi5ub2RlcyxkZWxldGUgYi5ub2RlcyksIXNpZ21hLnBsdWdpbnN8fHZvaWQgMD09PXNpZ21hLnBsdWdpbnMuYW5pbWF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJzaWdtYS5wbHVnaW5zLmFuaW1hdGUgaXMgbm90IGRlY2xhcmVkXCIpO3RoaXMucnVubmluZz0hMX0sdGhpcy5hdG9taWNHbz1mdW5jdGlvbigpe2lmKCF0aGlzLnJ1bm5pbmd8fHRoaXMuaXRlckNvdW50PDEpcmV0dXJuITE7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHc9dGhpcy5ub2Rlc3x8dGhpcy5zaWdJbnN0LmdyYXBoLm5vZGVzKCkseD13Lmxlbmd0aCx5PTEvMCx6PS0xLzAsQT0xLzAsQj0tMS8wO2Zvcih0aGlzLml0ZXJDb3VudC0tLHRoaXMucnVubmluZz0hMSxiPTA7Yjx4O2IrKyljPXdbYl0sYy5kbi5keD0wLGMuZG4uZHk9MCx5PU1hdGgubWluKHksYy5kbl94LShjLmRuX3NpemUqYS5jb25maWcuc2NhbGVOb2RlcythLmNvbmZpZy5ub2RlTWFyZ2luKSksej1NYXRoLm1heCh6LGMuZG5feCsoYy5kbl9zaXplKmEuY29uZmlnLnNjYWxlTm9kZXMrYS5jb25maWcubm9kZU1hcmdpbikpLEE9TWF0aC5taW4oQSxjLmRuX3ktKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pKSxCPU1hdGgubWF4KEIsYy5kbl95KyhjLmRuX3NpemUqYS5jb25maWcuc2NhbGVOb2RlcythLmNvbmZpZy5ub2RlTWFyZ2luKSk7Zm9yKGU9ei15LGY9Qi1BLGc9KHkreikvMixoPShBK0IpLzIseT1nLWEuY29uZmlnLnBlcm1pdHRlZEV4cGFuc2lvbiplLzIsej1nK2EuY29uZmlnLnBlcm1pdHRlZEV4cGFuc2lvbiplLzIsQT1oLWEuY29uZmlnLnBlcm1pdHRlZEV4cGFuc2lvbipmLzIsQj1oK2EuY29uZmlnLnBlcm1pdHRlZEV4cGFuc2lvbipmLzIsaT17fSxqPTA7ajxhLmNvbmZpZy5ncmlkU2l6ZTtqKyspZm9yKGlbal09e30saz0wO2s8YS5jb25maWcuZ3JpZFNpemU7aysrKWlbal1ba109W107Zm9yKGI9MDtiPHg7YisrKWZvcihjPXdbYl0scz1jLmRuX3gtKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pLHQ9Yy5kbl94KyhjLmRuX3NpemUqYS5jb25maWcuc2NhbGVOb2RlcythLmNvbmZpZy5ub2RlTWFyZ2luKSx1PWMuZG5feS0oYy5kbl9zaXplKmEuY29uZmlnLnNjYWxlTm9kZXMrYS5jb25maWcubm9kZU1hcmdpbiksdj1jLmRuX3krKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pLGw9TWF0aC5mbG9vcihhLmNvbmZpZy5ncmlkU2l6ZSoocy15KS8oei15KSksbT1NYXRoLmZsb29yKGEuY29uZmlnLmdyaWRTaXplKih0LXkpLyh6LXkpKSxuPU1hdGguZmxvb3IoYS5jb25maWcuZ3JpZFNpemUqKHUtQSkvKEItQSkpLG89TWF0aC5mbG9vcihhLmNvbmZpZy5ncmlkU2l6ZSoodi1BKS8oQi1BKSksaz1sO2s8PW07aysrKWZvcihqPW47ajw9bztqKyspaVtqXVtrXS5wdXNoKGMuaWQpO2ZvcihwPXt9LGo9MDtqPGEuY29uZmlnLmdyaWRTaXplO2orKylmb3Ioaz0wO2s8YS5jb25maWcuZ3JpZFNpemU7aysrKWlbal1ba10uZm9yRWFjaChmdW5jdGlvbihiKXtmb3IocFtiXXx8KHBbYl09W10pLHE9TWF0aC5tYXgoMCxqLTEpO3E8PU1hdGgubWluKGorMSxhLmNvbmZpZy5ncmlkU2l6ZS0xKTtxKyspZm9yKHI9TWF0aC5tYXgoMCxrLTEpO3I8PU1hdGgubWluKGsrMSxhLmNvbmZpZy5ncmlkU2l6ZS0xKTtyKyspaVtxXVtyXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EhPT1iJiYtMT09PXBbYl0uaW5kZXhPZihhKSYmcFtiXS5wdXNoKGEpfSl9KTtmb3IoYj0wO2I8eDtiKyspZD13W2JdLHBbZC5pZF0uZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1hLnNpZ0luc3QuZ3JhcGgubm9kZXMoYiksZz1jLmRuX3gtZC5kbl94LGg9Yy5kbl95LWQuZG5feSxpPU1hdGguc3FydChnKmcraCpoKTtpPGQuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4rKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pJiYoYS5ydW5uaW5nPSEwLGk+MD8oYy5kbi5keCs9Zy9pKigxK2QuZG5fc2l6ZSksYy5kbi5keSs9aC9pKigxK2QuZG5fc2l6ZSkpOihjLmRuLmR4Kz0uMDEqZSooLjUtTWF0aC5yYW5kb20oKSksYy5kbi5keSs9LjAxKmYqKC41LU1hdGgucmFuZG9tKCkpKSl9KTtmb3IoYj0wO2I8eDtiKyspYz13W2JdLGMuZml4ZWR8fChjLmRuX3g9Yy5kbl94Ky4xKmMuZG4uZHgqYS5jb25maWcuc3BlZWQsYy5kbl95PWMuZG5feSsuMSpjLmRuLmR5KmEuY29uZmlnLnNwZWVkKTtyZXR1cm4gdGhpcy5ydW5uaW5nJiZ0aGlzLml0ZXJDb3VudDwxJiYodGhpcy5ydW5uaW5nPSExKSx0aGlzLnJ1bm5pbmd9LHRoaXMuZ289ZnVuY3Rpb24oKXtmb3IodGhpcy5pdGVyQ291bnQ9dGhpcy5jb25maWcubWF4SXRlcmF0aW9uczt0aGlzLnJ1bm5pbmc7KXRoaXMuYXRvbWljR28oKTt0aGlzLnN0b3AoKX0sdGhpcy5zdGFydD1mdW5jdGlvbigpe2lmKCF0aGlzLnJ1bm5pbmcpe3ZhciBiPXRoaXMuc2lnSW5zdC5ncmFwaC5ub2RlcygpLGM9dGhpcy5zaWdJbnN0LnJlbmRlcmVyc1thLmNvbmZpZy5yZW5kZXJlckluZGV4XS5vcHRpb25zLnByZWZpeDt0aGlzLnJ1bm5pbmc9ITA7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspYltkXS5kbl94PWJbZF1bYytcInhcIl0sYltkXS5kbl95PWJbZF1bYytcInlcIl0sYltkXS5kbl9zaXplPWJbZF1bYytcInNpemVcIl0sYltkXS5kbj17ZHg6MCxkeTowfTtlW2Euc2lnSW5zdC5pZF0uZGlzcGF0Y2hFdmVudChcInN0YXJ0XCIpLHRoaXMuZ28oKX19LHRoaXMuc3RvcD1mdW5jdGlvbigpe3ZhciBiPXRoaXMuc2lnSW5zdC5ncmFwaC5ub2RlcygpO2lmKHRoaXMucnVubmluZz0hMSx0aGlzLmVhc2luZyllW2Euc2lnSW5zdC5pZF0uZGlzcGF0Y2hFdmVudChcImludGVycG9sYXRlXCIpLHNpZ21hLnBsdWdpbnMuYW5pbWF0ZShhLnNpZ0luc3Qse3g6XCJkbl94XCIseTpcImRuX3lcIn0se2Vhc2luZzphLmVhc2luZyxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7YS5zaWdJbnN0LnJlZnJlc2goKTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmRuPW51bGwsYltjXS5kbl94PW51bGwsYltjXS5kbl95PW51bGw7ZVthLnNpZ0luc3QuaWRdLmRpc3BhdGNoRXZlbnQoXCJzdG9wXCIpfSxkdXJhdGlvbjphLmR1cmF0aW9ufSk7ZWxzZXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLng9YltjXS5kbl94LGJbY10ueT1iW2NdLmRuX3k7dGhpcy5zaWdJbnN0LnJlZnJlc2goKTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmRuPW51bGwsYltjXS5kbl94PW51bGwsYltjXS5kbl95PW51bGw7ZVthLnNpZ0luc3QuaWRdLmRpc3BhdGNoRXZlbnQoXCJzdG9wXCIpfX0sdGhpcy5raWxsPWZ1bmN0aW9uKCl7dGhpcy5zaWdJbnN0PW51bGwsdGhpcy5jb25maWc9bnVsbCx0aGlzLmVhc2luZz1udWxsfX1pZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2lnbWEpdGhyb3cgbmV3IEVycm9yKFwic2lnbWEgaXMgbm90IGRlY2xhcmVkXCIpO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmxheW91dC5ub3ZlcmxhcFwiKTt2YXIgYz17c3BlZWQ6MyxzY2FsZU5vZGVzOjEuMixub2RlTWFyZ2luOjUsZ3JpZFNpemU6MjAscGVybWl0dGVkRXhwYW5zaW9uOjEuMSxyZW5kZXJlckluZGV4OjAsbWF4SXRlcmF0aW9uczo1MDB9LGQ9e30sZT17fTtzaWdtYS5wcm90b3R5cGUuY29uZmlnTm92ZXJsYXA9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcztpZighYSl0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgYXJndW1lbnQ6IFwiY29uZmlnXCInKTtyZXR1cm4gZFtjLmlkXXx8KGRbYy5pZF09bmV3IGIsZVtjLmlkXT17fSxzaWdtYS5jbGFzc2VzLmRpc3BhdGNoZXIuZXh0ZW5kKGVbYy5pZF0pLGMuYmluZChcImtpbGxcIixmdW5jdGlvbigpe2RbYy5pZF0ua2lsbCgpLGRbYy5pZF09bnVsbCxlW2MuaWRdPW51bGx9KSksZFtjLmlkXS5pbml0KGMsYSksZVtjLmlkXX0sc2lnbWEucHJvdG90eXBlLnN0YXJ0Tm92ZXJsYXA9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gYSYmdGhpcy5jb25maWdOb3ZlcmxhcChiLGEpLGRbYi5pZF0uc3RhcnQoKSxlW2IuaWRdfSxzaWdtYS5wcm90b3R5cGUuaXNOb3ZlcmxhcFJ1bm5pbmc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiEhZFthLmlkXSYmZFthLmlkXS5ydW5uaW5nfX0pLmNhbGwodGhpcyk7IiwiIWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnNcIiksc2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMuZGFzaGVkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yXCIpOmEuY29sb3IsZz1lKFwicHJlZml4XCIpfHxcIlwiLGg9YVtnK1wic2l6ZVwiXXx8MSxpPWUoXCJlZGdlQ29sb3JcIiksaj1lKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxrPWUoXCJkZWZhdWx0RWRnZUNvbG9yXCIpO2lmKCFmKXN3aXRjaChpKXtjYXNlXCJzb3VyY2VcIjpmPWIuY29sb3J8fGo7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6Zj1jLmNvbG9yfHxqO2JyZWFrO2RlZmF1bHQ6Zj1rfWY9XCJlZGdlXCI9PT1lKFwiZWRnZUhvdmVyQ29sb3JcIik/YS5ob3Zlcl9jb2xvcnx8ZjphLmhvdmVyX2NvbG9yfHxlKFwiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yXCIpfHxmLGgqPWUoXCJlZGdlSG92ZXJTaXplUmF0aW9cIiksZC5zYXZlKCksZC5zZXRMaW5lRGFzaChbOCwzXSksZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWgsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhiW2crXCJ4XCJdLGJbZytcInlcIl0pLGQubGluZVRvKGNbZytcInhcIl0sY1tnK1wieVwiXSksZC5zdHJva2UoKSxkLnJlc3RvcmUoKX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZWhvdmVyc1wiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5kb3R0ZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmFjdGl2ZT9hLmFjdGl2ZV9jb2xvcnx8ZShcImRlZmF1bHRFZGdlQWN0aXZlQ29sb3JcIik6YS5jb2xvcixnPWUoXCJwcmVmaXhcIil8fFwiXCIsaD1hW2crXCJzaXplXCJdfHwxLGk9ZShcImVkZ2VDb2xvclwiKSxqPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGs9ZShcImRlZmF1bHRFZGdlQ29sb3JcIik7aWYoIWYpc3dpdGNoKGkpe2Nhc2VcInNvdXJjZVwiOmY9Yi5jb2xvcnx8ajticmVhaztjYXNlXCJ0YXJnZXRcIjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9Zj1cImVkZ2VcIj09PWUoXCJlZGdlSG92ZXJDb2xvclwiKT9hLmhvdmVyX2NvbG9yfHxmOmEuaG92ZXJfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUhvdmVyQ29sb3JcIil8fGYsaCo9ZShcImVkZ2VIb3ZlclNpemVSYXRpb1wiKSxkLnNhdmUoKSxkLnNldExpbmVEYXNoKFsyXSksZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWgsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhiW2crXCJ4XCJdLGJbZytcInlcIl0pLGQubGluZVRvKGNbZytcInhcIl0sY1tnK1wieVwiXSksZC5zdHJva2UoKSxkLnJlc3RvcmUoKX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZWhvdmVyc1wiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5wYXJhbGxlbD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaD1hLmFjdGl2ZT9hLmFjdGl2ZV9jb2xvcnx8ZShcImRlZmF1bHRFZGdlQWN0aXZlQ29sb3JcIik6YS5jb2xvcixpPWUoXCJwcmVmaXhcIil8fFwiXCIsaj1hW2krXCJzaXplXCJdfHwxLGs9ZShcImVkZ2VDb2xvclwiKSxsPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLG09ZShcImRlZmF1bHRFZGdlQ29sb3JcIiksbj1iW2krXCJ4XCJdLG89YltpK1wieVwiXSxwPWNbaStcInhcIl0scT1jW2krXCJ5XCJdLHI9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UobixvLHAscSk7aWYoIWgpc3dpdGNoKGspe2Nhc2VcInNvdXJjZVwiOmg9Yi5jb2xvcnx8bDticmVhaztjYXNlXCJ0YXJnZXRcIjpoPWMuY29sb3J8fGw7YnJlYWs7ZGVmYXVsdDpoPW19aD1cImVkZ2VcIj09PWUoXCJlZGdlSG92ZXJDb2xvclwiKT9hLmhvdmVyX2NvbG9yfHxoOmEuaG92ZXJfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUhvdmVyQ29sb3JcIil8fGgsaio9ZShcImVkZ2VIb3ZlclNpemVSYXRpb1wiKSxmPXNpZ21hLnV0aWxzLmdldENpcmNsZUludGVyc2VjdGlvbihuLG8saixwLHEsciksZz1zaWdtYS51dGlscy5nZXRDaXJjbGVJbnRlcnNlY3Rpb24ocCxxLGosbixvLHIpLGQuc2F2ZSgpLGQuc3Ryb2tlU3R5bGU9aCxkLmxpbmVXaWR0aD1qLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oZi54aSxmLnlpKSxkLmxpbmVUbyhnLnhpX3ByaW1lLGcueWlfcHJpbWUpLGQuY2xvc2VQYXRoKCksZC5zdHJva2UoKSxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGYueGlfcHJpbWUsZi55aV9wcmltZSksZC5saW5lVG8oZy54aSxnLnlpKSxkLmNsb3NlUGF0aCgpLGQuc3Ryb2tlKCksZC5yZXN0b3JlKCl9fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7c2lnbWEudXRpbHMucGtnKFwic2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnNcIiksc2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMudGFwZXJlZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuYWN0aXZlP2EuYWN0aXZlX2NvbG9yfHxlKFwiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvclwiKTphLmNvbG9yLGc9ZShcInByZWZpeFwiKXx8XCJcIixoPWFbZytcInNpemVcIl18fDEsaT1lKFwiZWRnZUNvbG9yXCIpLGc9ZShcInByZWZpeFwiKXx8XCJcIixqPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGs9ZShcImRlZmF1bHRFZGdlQ29sb3JcIiksbD1iW2crXCJ4XCJdLG09YltnK1wieVwiXSxuPWNbZytcInhcIl0sbz1jW2crXCJ5XCJdLHA9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UobCxtLG4sbyk7aWYoIWYpc3dpdGNoKGkpe2Nhc2VcInNvdXJjZVwiOmY9Yi5jb2xvcnx8ajticmVhaztjYXNlXCJ0YXJnZXRcIjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9Zj1cImVkZ2VcIj09PWUoXCJlZGdlSG92ZXJDb2xvclwiKT9hLmhvdmVyX2NvbG9yfHxmOmEuaG92ZXJfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUhvdmVyQ29sb3JcIil8fGYsaCo9ZShcImVkZ2VIb3ZlclNpemVSYXRpb1wiKTt2YXIgcT1zaWdtYS51dGlscy5nZXRDaXJjbGVJbnRlcnNlY3Rpb24obCxtLGgsbixvLHApO2Quc2F2ZSgpLGQuZ2xvYmFsQWxwaGE9LjY1LGQuZmlsbFN0eWxlPWYsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhuLG8pLGQubGluZVRvKHEueGkscS55aSksZC5saW5lVG8ocS54aV9wcmltZSxxLnlpX3ByaW1lKSxkLmNsb3NlUGF0aCgpLGQuZmlsbCgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlc1wiKSxzaWdtYS5jYW52YXMuZWRnZXMuZGFzaGVkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yXCIpOmEuY29sb3IsZz1lKFwicHJlZml4XCIpfHxcIlwiLGg9YVtnK1wic2l6ZVwiXXx8MSxpPWUoXCJlZGdlQ29sb3JcIiksaj1lKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxrPWUoXCJkZWZhdWx0RWRnZUNvbG9yXCIpO2lmKCFmKXN3aXRjaChpKXtjYXNlXCJzb3VyY2VcIjpmPWIuY29sb3J8fGo7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6Zj1jLmNvbG9yfHxqO2JyZWFrO2RlZmF1bHQ6Zj1rfWQuc2F2ZSgpLGEuYWN0aXZlP2Quc3Ryb2tlU3R5bGU9XCJlZGdlXCI9PT1lKFwiZWRnZUFjdGl2ZUNvbG9yXCIpP2Z8fGs6ZShcImRlZmF1bHRFZGdlQWN0aXZlQ29sb3JcIik6ZC5zdHJva2VTdHlsZT1mLGQuc2V0TGluZURhc2goWzgsM10pLGQubGluZVdpZHRoPWgsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhiW2crXCJ4XCJdLGJbZytcInlcIl0pLGQubGluZVRvKGNbZytcInhcIl0sY1tnK1wieVwiXSksZC5zdHJva2UoKSxkLnJlc3RvcmUoKX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtzaWdtYS51dGlscy5wa2coXCJzaWdtYS5jYW52YXMuZWRnZXNcIiksc2lnbWEuY2FudmFzLmVkZ2VzLmRvdHRlZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuYWN0aXZlP2EuYWN0aXZlX2NvbG9yfHxlKFwiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvclwiKTphLmNvbG9yLGc9ZShcInByZWZpeFwiKXx8XCJcIixoPWFbZytcInNpemVcIl18fDEsaT1lKFwiZWRnZUNvbG9yXCIpLGo9ZShcImRlZmF1bHROb2RlQ29sb3JcIiksaz1lKFwiZGVmYXVsdEVkZ2VDb2xvclwiKTtpZighZilzd2l0Y2goaSl7Y2FzZVwic291cmNlXCI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2VcInRhcmdldFwiOmY9Yy5jb2xvcnx8ajticmVhaztkZWZhdWx0OmY9a31kLnNhdmUoKSxhLmFjdGl2ZT9kLnN0cm9rZVN0eWxlPVwiZWRnZVwiPT09ZShcImVkZ2VBY3RpdmVDb2xvclwiKT9mfHxrOmUoXCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yXCIpOmQuc3Ryb2tlU3R5bGU9ZixkLnNldExpbmVEYXNoKFsyXSksZC5saW5lV2lkdGg9aCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGJbZytcInhcIl0sYltnK1wieVwiXSksZC5saW5lVG8oY1tnK1wieFwiXSxjW2crXCJ5XCJdKSxkLnN0cm9rZSgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlc1wiKSxzaWdtYS5jYW52YXMuZWRnZXMucGFyYWxsZWw9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGg9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoXCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yXCIpOmEuY29sb3IsaT1lKFwicHJlZml4XCIpfHxcIlwiLGo9YVtpK1wic2l6ZVwiXXx8MSxrPWUoXCJlZGdlQ29sb3JcIiksbD1lKFwiZGVmYXVsdE5vZGVDb2xvclwiKSxtPWUoXCJkZWZhdWx0RWRnZUNvbG9yXCIpLG49YltpK1wieFwiXSxvPWJbaStcInlcIl0scD1jW2krXCJ4XCJdLHE9Y1tpK1wieVwiXSxyPXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKG4sbyxwLHEpO2lmKCFoKXN3aXRjaChrKXtjYXNlXCJzb3VyY2VcIjpoPWIuY29sb3J8fGw7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6aD1jLmNvbG9yfHxsO2JyZWFrO2RlZmF1bHQ6aD1tfWY9c2lnbWEudXRpbHMuZ2V0Q2lyY2xlSW50ZXJzZWN0aW9uKG4sbyxqLHAscSxyKSxnPXNpZ21hLnV0aWxzLmdldENpcmNsZUludGVyc2VjdGlvbihwLHEsaixuLG8sciksZC5zYXZlKCksYS5hY3RpdmU/ZC5zdHJva2VTdHlsZT1cImVkZ2VcIj09PWUoXCJlZGdlQWN0aXZlQ29sb3JcIik/aHx8bTplKFwiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvclwiKTpkLnN0cm9rZVN0eWxlPWgsZC5saW5lV2lkdGg9aixkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGYueGksZi55aSksZC5saW5lVG8oZy54aV9wcmltZSxnLnlpX3ByaW1lKSxkLmNsb3NlUGF0aCgpLGQuc3Ryb2tlKCksZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhmLnhpX3ByaW1lLGYueWlfcHJpbWUpLGQubGluZVRvKGcueGksZy55aSksZC5jbG9zZVBhdGgoKSxkLnN0cm9rZSgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3NpZ21hLnV0aWxzLnBrZyhcInNpZ21hLmNhbnZhcy5lZGdlc1wiKSxzaWdtYS5jYW52YXMuZWRnZXMudGFwZXJlZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuYWN0aXZlP2EuYWN0aXZlX2NvbG9yfHxlKFwiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvclwiKTphLmNvbG9yLGc9ZShcInByZWZpeFwiKXx8XCJcIixoPWFbZytcInNpemVcIl18fDEsaT1lKFwiZWRnZUNvbG9yXCIpLGc9ZShcInByZWZpeFwiKXx8XCJcIixqPWUoXCJkZWZhdWx0Tm9kZUNvbG9yXCIpLGs9ZShcImRlZmF1bHRFZGdlQ29sb3JcIiksbD1iW2crXCJ4XCJdLG09YltnK1wieVwiXSxuPWNbZytcInhcIl0sbz1jW2crXCJ5XCJdLHA9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UobCxtLG4sbyk7aWYoIWYpc3dpdGNoKGkpe2Nhc2VcInNvdXJjZVwiOmY9Yi5jb2xvcnx8ajticmVhaztjYXNlXCJ0YXJnZXRcIjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9dmFyIHE9c2lnbWEudXRpbHMuZ2V0Q2lyY2xlSW50ZXJzZWN0aW9uKGwsbSxoLG4sbyxwKTtkLnNhdmUoKSxhLmFjdGl2ZT9kLmZpbGxTdHlsZT1cImVkZ2VcIj09PWUoXCJlZGdlQWN0aXZlQ29sb3JcIik/Znx8azplKFwiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvclwiKTpkLmZpbGxTdHlsZT1mLGQuZ2xvYmFsQWxwaGE9LjY1LGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8obixvKSxkLmxpbmVUbyhxLnhpLHEueWkpLGQubGluZVRvKHEueGlfcHJpbWUscS55aV9wcmltZSksZC5jbG9zZVBhdGgoKSxkLmZpbGwoKSxkLnJlc3RvcmUoKX19KCk7Il19
